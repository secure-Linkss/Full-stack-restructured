import{a as e,b as t,r as s,d as n,e as r,R as a,f as i,u as o,h as l,i as c,L as d,B as u,j as h,k as m,N as p}from"./vendor-omA5r0SD.js";import{c as x,R as f,A as g,C as v,X as y,Y as b,T as j,a as w,P as N,b as k,d as S,B as C,e as E,f as _,m as T,r as P,i as A,g as R,h as M,j as D,k as L,l as I,n as O,o as F,q as z}from"./charts-B-gVdSq0.js";import{L as V,T as B,a as U,C as $,G as W,S as Y,Z as K,B as G,b as H,c as q,d as X,X as Z,M as J,U as Q,e as ee,f as te,g as se,h as ne,R as re,D as ae,i as ie,j as oe,E as le,k as ce,l as de,m as ue,n as he,A as me,o as pe,P as xe,p as fe,q as ge,r as ve,s as ye,K as be,t as je,u as we,v as Ne,w as ke,x as Se,y as Ce,W as Ee,z as _e,F as Te,I as Pe,H as Ae,J as Re,N as Me,O as De,Q as Le,V as Ie,Y as Oe,_ as Fe,$ as ze,a0 as Ve,a1 as Be,a2 as Ue,a3 as $e,a4 as We,a5 as Ye,a6 as Ke,a7 as Ge,a8 as He,a9 as qe,aa as Xe,ab as Ze,ac as Je,ad as Qe,ae as et,af as tt,ag as st,ah as nt,ai as rt,aj as at,ak as it,al as ot}from"./ui-tVBHJ9rS.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var lt,ct,dt={exports:{}},ut={};var ht,mt=(ct||(ct=1,dt.exports=function(){if(lt)return ut;lt=1;var t=e(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var o,l={},c=null,d=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,o)&&!i.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:s,type:e,key:c,ref:d,props:l,_owner:a.current}}return ut.Fragment=n,ut.jsx=o,ut.jsxs=o,ut}()),dt.exports),pt={};var xt=function(){if(ht)return pt;ht=1;var e=t();return pt.createRoot=e.createRoot,pt.hydrateRoot=e.hydrateRoot,pt}();function ft(e,t,{checkForDefaultPrevented:s=!0}={}){return function(n){if(null==e||e(n),!1===s||!n.defaultPrevented)return null==t?void 0:t(n)}}function gt(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function vt(...e){return t=>{let s=!1;const n=e.map(e=>{const n=gt(e,t);return s||"function"!=typeof n||(s=!0),n});if(s)return()=>{for(let t=0;t<n.length;t++){const s=n[t];"function"==typeof s?s():gt(e[t],null)}}}}function yt(...e){return s.useCallback(vt(...e),e)}function bt(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>s.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return s.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const a=s.createContext(r),i=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...l}=t,c=(null==(n=null==r?void 0:r[e])?void 0:n[i])||a,d=s.useMemo(()=>l,Object.values(l));return mt.jsx(c.Provider,{value:d,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var l;const c=(null==(l=null==o?void 0:o[e])?void 0:l[i])||a,d=s.useContext(c);if(d)return d;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},jt(r,...t)]}function jt(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:s,scopeName:n})=>({...t,...s(e)[`__scope${n}`]}),{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var wt=(null==globalThis?void 0:globalThis.document)?s.useLayoutEffect:()=>{},Nt=n[" useInsertionEffect ".trim().toString()]||wt;function kt({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=function({defaultProp:e,onChange:t}){const[n,r]=s.useState(e),a=s.useRef(n),i=s.useRef(t);return Nt(()=>{i.current=t},[t]),s.useEffect(()=>{var e;a.current!==n&&(null==(e=i.current)||e.call(i,n),a.current=n)},[n,a]),[n,r,i]}({defaultProp:t,onChange:n}),l=void 0!==e,c=l?e:a;{const t=s.useRef(void 0!==e);s.useEffect(()=>{const e=t.current;if(e!==l){}t.current=l},[l,r])}const d=s.useCallback(t=>{var s;if(l){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&(null==(s=o.current)||s.call(o,n))}else i(t)},[l,e,i,o]);return[c,d]}function St(e){const t=Ct(e),n=s.forwardRef((e,n)=>{const{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(_t);if(o){const e=o.props.children,r=i.map(t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return mt.jsx(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return mt.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function Ct(e){const t=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const s={...t};for(const n in t){const r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(r,n.props);return n.type!==s.Fragment&&(a.ref=t?vt(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Et=Symbol("radix.slottable");function _t(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Et}var Tt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=St(`Primitive.${t}`),r=s.forwardRef((e,s)=>{const{asChild:r,...a}=e,i=r?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),mt.jsx(i,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Pt(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}function At(e){const t=Rt(e),n=s.forwardRef((e,n)=>{const{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(Dt);if(o){const e=o.props.children,r=i.map(t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return mt.jsx(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return mt.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function Rt(e){const t=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const s={...t};for(const n in t){const r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(r,n.props);return n.type!==s.Fragment&&(a.ref=t?vt(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mt=Symbol("radix.slottable");function Dt(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Mt}function Lt(e){const t=e+"CollectionProvider",[s,n]=bt(t),[r,i]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:s}=e,n=a.useRef(null),i=a.useRef(new Map).current;return mt.jsx(r,{scope:t,itemMap:i,collectionRef:n,children:s})};o.displayName=t;const l=e+"CollectionSlot",c=At(l),d=a.forwardRef((e,t)=>{const{scope:s,children:n}=e,r=yt(t,i(l,s).collectionRef);return mt.jsx(c,{ref:r,children:n})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=At(u),p=a.forwardRef((e,t)=>{const{scope:s,children:n,...r}=e,o=a.useRef(null),l=yt(t,o),c=i(u,s);return a.useEffect(()=>(c.itemMap.set(o,{ref:o,...r}),()=>{c.itemMap.delete(o)})),mt.jsx(m,{[h]:"",ref:l,children:n})});return p.displayName=u,[{Provider:o,Slot:d,ItemSlot:p},function(t){const s=i(e+"CollectionConsumer",t);return a.useCallback(()=>{const e=s.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(s.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[s.collectionRef,s.itemMap])},n]}var It=s.createContext(void 0);function Ot(e){const t=s.useContext(It);return e||t||"ltr"}function Ft(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>{var s;return null==(s=t.current)?void 0:s.call(t,...e)},[])}var zt,Vt="dismissableLayer.update",Bt="dismissableLayer.pointerDownOutside",Ut="dismissableLayer.focusOutside",$t=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wt=s.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=s.useContext($t),[u,h]=s.useState(null),m=(null==u?void 0:u.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,p]=s.useState({}),x=yt(t,e=>h(e)),f=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=f.indexOf(g),y=u?f.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,j=y>=v,w=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Ft(e),r=s.useRef(!1),a=s.useRef(()=>{});return s.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let s=function(){Kt(Bt,n,r,{discrete:!0})};const r={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=s,t.addEventListener("click",a.current,{once:!0})):s()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,s=[...d.branches].some(e=>e.contains(t));j&&!s&&(null==a||a(e),null==o||o(e),e.defaultPrevented||null==l||l())},m),N=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Ft(e),r=s.useRef(!1);return s.useEffect(()=>{const e=e=>{if(e.target&&!r.current){Kt(Ut,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...d.branches].some(e=>e.contains(t))||(null==i||i(e),null==o||o(e),e.defaultPrevented||null==l||l())},m);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Ft(e);s.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{y===d.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))},m),s.useEffect(()=>{if(u)return n&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(zt=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Yt(),()=>{n&&1===d.layersWithOutsidePointerEventsDisabled.size&&(m.body.style.pointerEvents=zt)}},[u,m,n,d]),s.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Yt())},[u,d]),s.useEffect(()=>{const e=()=>p({});return document.addEventListener(Vt,e),()=>document.removeEventListener(Vt,e)},[]),mt.jsx(Tt.div,{...c,ref:x,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ft(e.onFocusCapture,N.onFocusCapture),onBlurCapture:ft(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:ft(e.onPointerDownCapture,w.onPointerDownCapture)})});Wt.displayName="DismissableLayer";function Yt(){const e=new CustomEvent(Vt);document.dispatchEvent(e)}function Kt(e,t,s,{discrete:n}){const r=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&r.addEventListener(e,t,{once:!0}),n?Pt(r,a):r.dispatchEvent(a)}s.forwardRef((e,t)=>{const n=s.useContext($t),r=s.useRef(null),a=yt(t,r);return s.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),mt.jsx(Tt.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var Gt=0;function Ht(){s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qt()),document.body.insertAdjacentElement("beforeend",e[1]??qt()),Gt++,()=>{1===Gt&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gt--}},[])}function qt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Xt="focusScope.autoFocusOnMount",Zt="focusScope.autoFocusOnUnmount",Jt={bubbles:!1,cancelable:!0},Qt=s.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=s.useState(null),d=Ft(a),u=Ft(i),h=s.useRef(null),m=yt(t,e=>c(e)),p=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let e=function(e){if(p.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:ns(h.current,{select:!0})},t=function(e){if(p.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||ns(h.current,{select:!0}))},s=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&ns(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(s);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[r,l,p.paused]),s.useEffect(()=>{if(l){rs.add(p);const t=document.activeElement;if(!l.contains(t)){const s=new CustomEvent(Xt,Jt);l.addEventListener(Xt,d),l.dispatchEvent(s),s.defaultPrevented||(!function(e,{select:t=!1}={}){const s=document.activeElement;for(const n of e)if(ns(n,{select:t}),document.activeElement!==s)return}((e=es(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&ns(l))}return()=>{l.removeEventListener(Xt,d),setTimeout(()=>{const e=new CustomEvent(Zt,Jt);l.addEventListener(Zt,u),l.dispatchEvent(e),e.defaultPrevented||ns(t??document.body,{select:!0}),l.removeEventListener(Zt,u),rs.remove(p)},0)}}var e},[l,d,u,p]);const x=s.useCallback(e=>{if(!n&&!r)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){const t=e.currentTarget,[r,a]=function(e){const t=es(e),s=ts(t,e),n=ts(t.reverse(),e);return[s,n]}(t);r&&a?e.shiftKey||s!==a?e.shiftKey&&s===r&&(e.preventDefault(),n&&ns(a,{select:!0})):(e.preventDefault(),n&&ns(r,{select:!0})):s===t&&e.preventDefault()}},[n,r,p.paused]);return mt.jsx(Tt.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});function es(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function ts(e,t){for(const s of e)if(!ss(s,{upTo:t}))return s}function ss(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function ns(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Qt.displayName="FocusScope";var rs=function(){let e=[];return{add(t){const s=e[0];t!==s&&(null==s||s.pause()),e=as(e,t),e.unshift(t)},remove(t){var s;e=as(e,t),null==(s=e[0])||s.resume()}}}();function as(e,t){const s=[...e],n=s.indexOf(t);return-1!==n&&s.splice(n,1),s}var is=n[" useId ".trim().toString()]||(()=>{}),os=0;function ls(e){const[t,n]=s.useState(is());return wt(()=>{n(e=>e??String(os++))},[e]),e||(t?`radix-${t}`:"")}const cs=["top","right","bottom","left"],ds=Math.min,us=Math.max,hs=Math.round,ms=Math.floor,ps=e=>({x:e,y:e}),xs={left:"right",right:"left",bottom:"top",top:"bottom"},fs={start:"end",end:"start"};function gs(e,t,s){return us(e,ds(t,s))}function vs(e,t){return"function"==typeof e?e(t):e}function ys(e){return e.split("-")[0]}function bs(e){return e.split("-")[1]}function js(e){return"x"===e?"y":"x"}function ws(e){return"y"===e?"height":"width"}const Ns=new Set(["top","bottom"]);function ks(e){return Ns.has(ys(e))?"y":"x"}function Ss(e){return js(ks(e))}function Cs(e){return e.replace(/start|end/g,e=>fs[e])}const Es=["left","right"],_s=["right","left"],Ts=["top","bottom"],Ps=["bottom","top"];function As(e,t,s,n){const r=bs(e);let a=function(e,t,s){switch(e){case"top":case"bottom":return s?t?_s:Es:t?Es:_s;case"left":case"right":return t?Ts:Ps;default:return[]}}(ys(e),"start"===s,n);return r&&(a=a.map(e=>e+"-"+r),t&&(a=a.concat(a.map(Cs)))),a}function Rs(e){return e.replace(/left|right|bottom|top/g,e=>xs[e])}function Ms(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ds(e){const{x:t,y:s,width:n,height:r}=e;return{width:n,height:r,top:s,left:t,right:t+n,bottom:s+r,x:t,y:s}}function Ls(e,t,s){let{reference:n,floating:r}=e;const a=ks(t),i=Ss(t),o=ws(i),l=ys(t),c="y"===a,d=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2,h=n[o]/2-r[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-r.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:u};break;case"left":m={x:n.x-r.width,y:u};break;default:m={x:n.x,y:n.y}}switch(bs(t)){case"start":m[i]-=h*(s&&c?-1:1);break;case"end":m[i]+=h*(s&&c?-1:1)}return m}async function Is(e,t){var s;void 0===t&&(t={});const{x:n,y:r,platform:a,rects:i,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:m=0}=vs(t,e),p=Ms(m),x=o[h?"floating"===u?"reference":"floating":u],f=Ds(await a.getClippingRect({element:null==(s=await(null==a.isElement?void 0:a.isElement(x)))||s?x:x.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),g="floating"===u?{x:n,y:r,width:i.floating.width,height:i.floating.height}:i.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),y=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},b=Ds(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:v,strategy:l}):g);return{top:(f.top-b.top+p.top)/y.y,bottom:(b.bottom-f.bottom+p.bottom)/y.y,left:(f.left-b.left+p.left)/y.x,right:(b.right-f.right+p.right)/y.x}}function Os(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fs(e){return cs.some(t=>e[t]>=0)}const zs=new Set(["left","top"]);function Vs(){return"undefined"!=typeof window}function Bs(e){return Ws(e)?(e.nodeName||"").toLowerCase():"#document"}function Us(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $s(e){var t;return null==(t=(Ws(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Ws(e){return!!Vs()&&(e instanceof Node||e instanceof Us(e).Node)}function Ys(e){return!!Vs()&&(e instanceof Element||e instanceof Us(e).Element)}function Ks(e){return!!Vs()&&(e instanceof HTMLElement||e instanceof Us(e).HTMLElement)}function Gs(e){return!(!Vs()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Us(e).ShadowRoot)}const Hs=new Set(["inline","contents"]);function qs(e){const{overflow:t,overflowX:s,overflowY:n,display:r}=ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+s)&&!Hs.has(r)}const Xs=new Set(["table","td","th"]);function Zs(e){return Xs.has(Bs(e))}const Js=[":popover-open",":modal"];function Qs(e){return Js.some(t=>{try{return e.matches(t)}catch(s){return!1}})}const en=["transform","translate","scale","rotate","perspective"],tn=["transform","translate","scale","rotate","perspective","filter"],sn=["paint","layout","strict","content"];function nn(e){const t=rn(),s=Ys(e)?ln(e):e;return en.some(e=>!!s[e]&&"none"!==s[e])||!!s.containerType&&"normal"!==s.containerType||!t&&!!s.backdropFilter&&"none"!==s.backdropFilter||!t&&!!s.filter&&"none"!==s.filter||tn.some(e=>(s.willChange||"").includes(e))||sn.some(e=>(s.contain||"").includes(e))}function rn(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const an=new Set(["html","body","#document"]);function on(e){return an.has(Bs(e))}function ln(e){return Us(e).getComputedStyle(e)}function cn(e){return Ys(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dn(e){if("html"===Bs(e))return e;const t=e.assignedSlot||e.parentNode||Gs(e)&&e.host||$s(e);return Gs(t)?t.host:t}function un(e){const t=dn(e);return on(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ks(t)&&qs(t)?t:un(t)}function hn(e,t,s){var n;void 0===t&&(t=[]),void 0===s&&(s=!0);const r=un(e),a=r===(null==(n=e.ownerDocument)?void 0:n.body),i=Us(r);if(a){const e=mn(i);return t.concat(i,i.visualViewport||[],qs(r)?r:[],e&&s?hn(e):[])}return t.concat(r,hn(r,[],s))}function mn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pn(e){const t=ln(e);let s=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=Ks(e),a=r?e.offsetWidth:s,i=r?e.offsetHeight:n,o=hs(s)!==a||hs(n)!==i;return o&&(s=a,n=i),{width:s,height:n,$:o}}function xn(e){return Ys(e)?e:e.contextElement}function fn(e){const t=xn(e);if(!Ks(t))return ps(1);const s=t.getBoundingClientRect(),{width:n,height:r,$:a}=pn(t);let i=(a?hs(s.width):s.width)/n,o=(a?hs(s.height):s.height)/r;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}const gn=ps(0);function vn(e){const t=Us(e);return rn()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:gn}function yn(e,t,s,n){void 0===t&&(t=!1),void 0===s&&(s=!1);const r=e.getBoundingClientRect(),a=xn(e);let i=ps(1);t&&(n?Ys(n)&&(i=fn(n)):i=fn(e));const o=function(e,t,s){return void 0===t&&(t=!1),!(!s||t&&s!==Us(e))&&t}(a,s,n)?vn(a):ps(0);let l=(r.left+o.x)/i.x,c=(r.top+o.y)/i.y,d=r.width/i.x,u=r.height/i.y;if(a){const e=Us(a),t=n&&Ys(n)?Us(n):n;let s=e,r=mn(s);for(;r&&n&&t!==s;){const e=fn(r),t=r.getBoundingClientRect(),n=ln(r),a=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,i=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=i,s=Us(r),r=mn(s)}}return Ds({width:d,height:u,x:l,y:c})}function bn(e,t){const s=cn(e).scrollLeft;return t?t.left+s:yn($s(e)).left+s}function jn(e,t){const s=e.getBoundingClientRect();return{x:s.left+t.scrollLeft-bn(e,s),y:s.top+t.scrollTop}}const wn=new Set(["absolute","fixed"]);function Nn(e,t,s){let n;if("viewport"===t)n=function(e,t){const s=Us(e),n=$s(e),r=s.visualViewport;let a=n.clientWidth,i=n.clientHeight,o=0,l=0;if(r){a=r.width,i=r.height;const e=rn();(!e||e&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}const c=bn(n);if(c<=0){const e=n.ownerDocument,t=e.body,s=getComputedStyle(t),r="CSS1Compat"===e.compatMode&&parseFloat(s.marginLeft)+parseFloat(s.marginRight)||0,i=Math.abs(n.clientWidth-t.clientWidth-r);i<=25&&(a-=i)}else c<=25&&(a+=c);return{width:a,height:i,x:o,y:l}}(e,s);else if("document"===t)n=function(e){const t=$s(e),s=cn(e),n=e.ownerDocument.body,r=us(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=us(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-s.scrollLeft+bn(e);const o=-s.scrollTop;return"rtl"===ln(n).direction&&(i+=us(t.clientWidth,n.clientWidth)-r),{width:r,height:a,x:i,y:o}}($s(e));else if(Ys(t))n=function(e,t){const s=yn(e,!0,"fixed"===t),n=s.top+e.clientTop,r=s.left+e.clientLeft,a=Ks(e)?fn(e):ps(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:n*a.y}}(t,s);else{const s=vn(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ds(n)}function kn(e,t){const s=dn(e);return!(s===t||!Ys(s)||on(s))&&("fixed"===ln(s).position||kn(s,t))}function Sn(e,t,s){const n=Ks(t),r=$s(t),a="fixed"===s,i=yn(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=ps(0);function c(){l.x=bn(r)}if(n||!n&&!a)if(("body"!==Bs(t)||qs(r))&&(o=cn(t)),n){const e=yn(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else r&&c();a&&!n&&r&&c();const d=!r||n||a?ps(0):jn(r,o);return{x:i.left+o.scrollLeft-l.x-d.x,y:i.top+o.scrollTop-l.y-d.y,width:i.width,height:i.height}}function Cn(e){return"static"===ln(e).position}function En(e,t){if(!Ks(e)||"fixed"===ln(e).position)return null;if(t)return t(e);let s=e.offsetParent;return $s(e)===s&&(s=s.ownerDocument.body),s}function _n(e,t){const s=Us(e);if(Qs(e))return s;if(!Ks(e)){let t=dn(e);for(;t&&!on(t);){if(Ys(t)&&!Cn(t))return t;t=dn(t)}return s}let n=En(e,t);for(;n&&Zs(n)&&Cn(n);)n=En(n,t);return n&&on(n)&&Cn(n)&&!nn(n)?s:n||function(e){let t=dn(e);for(;Ks(t)&&!on(t);){if(nn(t))return t;if(Qs(t))return null;t=dn(t)}return null}(e)||s}const Tn={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:s,offsetParent:n,strategy:r}=e;const a="fixed"===r,i=$s(n),o=!!t&&Qs(t.floating);if(n===i||o&&a)return s;let l={scrollLeft:0,scrollTop:0},c=ps(1);const d=ps(0),u=Ks(n);if((u||!u&&!a)&&(("body"!==Bs(n)||qs(i))&&(l=cn(n)),Ks(n))){const e=yn(n);c=fn(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const h=!i||u||a?ps(0):jn(i,l);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:s.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:$s,getClippingRect:function(e){let{element:t,boundary:s,rootBoundary:n,strategy:r}=e;const a=[..."clippingAncestors"===s?Qs(t)?[]:function(e,t){const s=t.get(e);if(s)return s;let n=hn(e,[],!1).filter(e=>Ys(e)&&"body"!==Bs(e)),r=null;const a="fixed"===ln(e).position;let i=a?dn(e):e;for(;Ys(i)&&!on(i);){const t=ln(i),s=nn(i);s||"fixed"!==t.position||(r=null),(a?!s&&!r:!s&&"static"===t.position&&r&&wn.has(r.position)||qs(i)&&!s&&kn(e,i))?n=n.filter(e=>e!==i):r=t,i=dn(i)}return t.set(e,n),n}(t,this._c):[].concat(s),n],i=a[0],o=a.reduce((e,s)=>{const n=Nn(t,s,r);return e.top=us(n.top,e.top),e.right=ds(n.right,e.right),e.bottom=ds(n.bottom,e.bottom),e.left=us(n.left,e.left),e},Nn(t,i,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:_n,getElementRects:async function(e){const t=this.getOffsetParent||_n,s=this.getDimensions,n=await s(e.floating);return{reference:Sn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:s}=pn(e);return{width:t,height:s}},getScale:fn,isElement:Ys,isRTL:function(e){return"rtl"===ln(e).direction}};function Pn(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function An(e,t,s,n){void 0===n&&(n={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=xn(e),d=r||a?[...c?hn(c):[],...hn(t)]:[];d.forEach(e=>{r&&e.addEventListener("scroll",s,{passive:!0}),a&&e.addEventListener("resize",s)});const u=c&&o?function(e,t){let s,n=null;const r=$s(e);function a(){var e;clearTimeout(s),null==(e=n)||e.disconnect(),n=null}return function i(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:m}=c;if(o||t(),!h||!m)return;const p={rootMargin:-ms(u)+"px "+-ms(r.clientWidth-(d+h))+"px "+-ms(r.clientHeight-(u+m))+"px "+-ms(d)+"px",threshold:us(0,ds(1,l))||1};let x=!0;function f(t){const n=t[0].intersectionRatio;if(n!==l){if(!x)return i();n?i(!1,n):s=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==n||Pn(c,e.getBoundingClientRect())||i(),x=!1}try{n=new IntersectionObserver(f,{...p,root:r.ownerDocument})}catch(g){n=new IntersectionObserver(f,p)}n.observe(e)}(!0),a}(c,s):null;let h,m=-1,p=null;i&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),s()}),c&&!l&&p.observe(c),p.observe(t));let x=l?yn(e):null;return l&&function t(){const n=yn(e);x&&!Pn(x,n)&&s();x=n,h=requestAnimationFrame(t)}(),s(),()=>{var e;d.forEach(e=>{r&&e.removeEventListener("scroll",s),a&&e.removeEventListener("resize",s)}),null==u||u(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const Rn=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var s,n;const{x:r,y:a,placement:i,middlewareData:o}=t,l=await async function(e,t){const{placement:s,platform:n,elements:r}=e,a=await(null==n.isRTL?void 0:n.isRTL(r.floating)),i=ys(s),o=bs(s),l="y"===ks(s),c=zs.has(i)?-1:1,d=a&&l?-1:1,u=vs(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof p&&(m="end"===o?-1*p:p),l?{x:m*d,y:h*c}:{x:h*c,y:m*d}}(t,e);return i===(null==(s=o.offset)?void 0:s.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:r+l.x,y:a+l.y,data:{...l,placement:i}}}}},Mn=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:n,placement:r}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:o={fn:e=>{let{x:t,y:s}=e;return{x:t,y:s}}},...l}=vs(e,t),c={x:s,y:n},d=await Is(t,l),u=ks(ys(r)),h=js(u);let m=c[h],p=c[u];if(a){const e="y"===h?"bottom":"right";m=gs(m+d["y"===h?"top":"left"],m,m-d[e])}if(i){const e="y"===u?"bottom":"right";p=gs(p+d["y"===u?"top":"left"],p,p-d[e])}const x=o.fn({...t,[h]:m,[u]:p});return{...x,data:{x:x.x-s,y:x.y-n,enabled:{[h]:a,[u]:i}}}}}},Dn=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var s,n;const{placement:r,middlewareData:a,rects:i,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:x=!0,...f}=vs(e,t);if(null!=(s=a.arrow)&&s.alignmentOffset)return{};const g=ys(r),v=ks(o),y=ys(o)===o,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),j=h||(y||!x?[Rs(o)]:function(e){const t=Rs(e);return[Cs(e),t,Cs(t)]}(o)),w="none"!==p;!h&&w&&j.push(...As(o,x,p,b));const N=[o,...j],k=await Is(t,f),S=[];let C=(null==(n=a.flip)?void 0:n.overflows)||[];if(d&&S.push(k[g]),u){const e=function(e,t,s){void 0===s&&(s=!1);const n=bs(e),r=Ss(e),a=ws(r);let i="x"===r?n===(s?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=Rs(i)),[i,Rs(i)]}(r,i,b);S.push(k[e[0]],k[e[1]])}if(C=[...C,{placement:r,overflows:S}],!S.every(e=>e<=0)){var E,_;const e=((null==(E=a.flip)?void 0:E.index)||0)+1,t=N[e];if(t){if(!("alignment"===u&&v!==ks(t))||C.every(e=>ks(e.placement)!==v||e.overflows[0]>0))return{data:{index:e,overflows:C},reset:{placement:t}}}let s=null==(_=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:_.placement;if(!s)switch(m){case"bestFit":{var T;const e=null==(T=C.filter(e=>{if(w){const t=ks(e.placement);return t===v||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:T[0];e&&(s=e);break}case"initialPlacement":s=o}if(r!==s)return{reset:{placement:s}}}return{}}}},Ln=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var s,n;const{placement:r,rects:a,platform:i,elements:o}=t,{apply:l=()=>{},...c}=vs(e,t),d=await Is(t,c),u=ys(r),h=bs(r),m="y"===ks(r),{width:p,height:x}=a.floating;let f,g;"top"===u||"bottom"===u?(f=u,g=h===(await(null==i.isRTL?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=u,f="end"===h?"top":"bottom");const v=x-d.top-d.bottom,y=p-d.left-d.right,b=ds(x-d[f],v),j=ds(p-d[g],y),w=!t.middlewareData.shift;let N=b,k=j;if(null!=(s=t.middlewareData.shift)&&s.enabled.x&&(k=y),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(N=v),w&&!h){const e=us(d.left,0),t=us(d.right,0),s=us(d.top,0),n=us(d.bottom,0);m?k=p-2*(0!==e||0!==t?e+t:us(d.left,d.right)):N=x-2*(0!==s||0!==n?s+n:us(d.top,d.bottom))}await l({...t,availableWidth:k,availableHeight:N});const S=await i.getDimensions(o.floating);return p!==S.width||x!==S.height?{reset:{rects:!0}}:{}}}},In=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:n="referenceHidden",...r}=vs(e,t);switch(n){case"referenceHidden":{const e=Os(await Is(t,{...r,elementContext:"reference"}),s.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Fs(e)}}}case"escaped":{const e=Os(await Is(t,{...r,altBoundary:!0}),s.floating);return{data:{escapedOffsets:e,escaped:Fs(e)}}}default:return{}}}}},On=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:n,placement:r,rects:a,platform:i,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=vs(e,t)||{};if(null==c)return{};const u=Ms(d),h={x:s,y:n},m=Ss(r),p=ws(m),x=await i.getDimensions(c),f="y"===m,g=f?"top":"left",v=f?"bottom":"right",y=f?"clientHeight":"clientWidth",b=a.reference[p]+a.reference[m]-h[m]-a.floating[p],j=h[m]-a.reference[m],w=await(null==i.getOffsetParent?void 0:i.getOffsetParent(c));let N=w?w[y]:0;N&&await(null==i.isElement?void 0:i.isElement(w))||(N=o.floating[y]||a.floating[p]);const k=b/2-j/2,S=N/2-x[p]/2-1,C=ds(u[g],S),E=ds(u[v],S),_=C,T=N-x[p]-E,P=N/2-x[p]/2+k,A=gs(_,P,T),R=!l.arrow&&null!=bs(r)&&P!==A&&a.reference[p]/2-(P<_?C:E)-x[p]/2<0,M=R?P<_?P-_:P-T:0;return{[m]:h[m]+M,data:{[m]:A,centerOffset:P-A-M,...R&&{alignmentOffset:M}},reset:R}}}),Fn=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:s,y:n,placement:r,rects:a,middlewareData:i}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=vs(e,t),d={x:s,y:n},u=ks(r),h=js(u);let m=d[h],p=d[u];const x=vs(o,t),f="number"==typeof x?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+f.mainAxis,s=a.reference[h]+a.reference[e]-f.mainAxis;m<t?m=t:m>s&&(m=s)}if(c){var g,v;const e="y"===h?"width":"height",t=zs.has(ys(r)),s=a.reference[u]-a.floating[e]+(t&&(null==(g=i.offset)?void 0:g[u])||0)+(t?0:f.crossAxis),n=a.reference[u]+a.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[u])||0)-(t?f.crossAxis:0);p<s?p=s:p>n&&(p=n)}return{[h]:m,[u]:p}}}},zn=(e,t,s)=>{const n=new Map,r={platform:Tn,...s},a={...r.platform,_c:n};return(async(e,t,s)=>{const{placement:n="bottom",strategy:r="absolute",middleware:a=[],platform:i}=s,o=a.filter(Boolean),l=await(null==i.isRTL?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:u}=Ls(c,n,l),h=n,m={},p=0;for(let x=0;x<o.length;x++){const{name:s,fn:a}=o[x],{x:f,y:g,data:v,reset:y}=await a({x:d,y:u,initialPlacement:n,placement:h,strategy:r,middlewareData:m,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=g?g:u,m={...m,[s]:{...m[s],...v}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:r}):y.rects),({x:d,y:u}=Ls(c,h,l))),x=-1)}return{x:d,y:u,placement:h,strategy:r,middlewareData:m}})(e,t,{...r,platform:a})};var Vn="undefined"!=typeof document?s.useLayoutEffect:function(){};function Bn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let s,n,r;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(n=s;0!==n--;)if(!Bn(e[n],t[n]))return!1;return!0}if(r=Object.keys(e),s=r.length,s!==Object.keys(t).length)return!1;for(n=s;0!==n--;)if(!{}.hasOwnProperty.call(t,r[n]))return!1;for(n=s;0!==n--;){const s=r[n];if(("_owner"!==s||!e.$$typeof)&&!Bn(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}function Un(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function $n(e,t){const s=Un(e);return Math.round(t*s)/s}function Wn(e){const t=s.useRef(e);return Vn(()=>{t.current=e}),t}const Yn=e=>({name:"arrow",options:e,fn(t){const{element:s,padding:n}="function"==typeof e?e(t):e;return s&&(r=s,{}.hasOwnProperty.call(r,"current"))?null!=s.current?On({element:s.current,padding:n}).fn(t):{}:s?On({element:s,padding:n}).fn(t):{};var r}}),Kn=(e,t)=>({...Rn(e),options:[e,t]}),Gn=(e,t)=>({...Mn(e),options:[e,t]}),Hn=(e,t)=>({...Fn(e),options:[e,t]}),qn=(e,t)=>({...Dn(e),options:[e,t]}),Xn=(e,t)=>({...Ln(e),options:[e,t]}),Zn=(e,t)=>({...In(e),options:[e,t]}),Jn=(e,t)=>({...Yn(e),options:[e,t]});var Qn=s.forwardRef((e,t)=>{const{children:s,width:n=10,height:r=5,...a}=e;return mt.jsx(Tt.svg,{...a,ref:t,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:mt.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qn.displayName="Arrow";var er=Qn;function tr(e){const[t,n]=s.useState(void 0);return wt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const s=t[0];let r,a;if("borderBoxSize"in s){const e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;n({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),t}var sr="Popper",[nr,rr]=bt(sr),[ar,ir]=nr(sr),or=e=>{const{__scopePopper:t,children:n}=e,[r,a]=s.useState(null);return mt.jsx(ar,{scope:t,anchor:r,onAnchorChange:a,children:n})};or.displayName=sr;var lr="PopperAnchor",cr=s.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=ir(lr,n),o=s.useRef(null),l=yt(t,o),c=s.useRef(null);return s.useEffect(()=>{const e=c.current;c.current=(null==r?void 0:r.current)||o.current,e!==c.current&&i.onAnchorChange(c.current)}),r?null:mt.jsx(Tt.div,{...a,ref:l})});cr.displayName=lr;var dr="PopperContent",[ur,hr]=nr(dr),mr=s.forwardRef((e,t)=>{var n,a,i,o,l,c;const{__scopePopper:d,side:u="bottom",sideOffset:h=0,align:m="center",alignOffset:p=0,arrowPadding:x=0,avoidCollisions:f=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:j="optimized",onPlaced:w,...N}=e,k=ir(dr,d),[S,C]=s.useState(null),E=yt(t,e=>C(e)),[_,T]=s.useState(null),P=tr(_),A=(null==P?void 0:P.width)??0,R=(null==P?void 0:P.height)??0,M=u+("center"!==m?"-"+m:""),D="number"==typeof v?v:{top:0,right:0,bottom:0,left:0,...v},L=Array.isArray(g)?g:[g],I=L.length>0,O={padding:D,boundary:L.filter(gr),altBoundary:I},{refs:F,floatingStyles:z,placement:V,isPositioned:B,middlewareData:U}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:u}=e,[h,m]=s.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,x]=s.useState(a);Bn(p,a)||x(a);const[f,g]=s.useState(null),[v,y]=s.useState(null),b=s.useCallback(e=>{e!==k.current&&(k.current=e,g(e))},[]),j=s.useCallback(e=>{e!==S.current&&(S.current=e,y(e))},[]),w=o||f,N=l||v,k=s.useRef(null),S=s.useRef(null),C=s.useRef(h),E=null!=d,_=Wn(d),T=Wn(i),P=Wn(u),A=s.useCallback(()=>{if(!k.current||!S.current)return;const e={placement:t,strategy:n,middleware:p};T.current&&(e.platform=T.current),zn(k.current,S.current,e).then(e=>{const t={...e,isPositioned:!1!==P.current};R.current&&!Bn(C.current,t)&&(C.current=t,r.flushSync(()=>{m(t)}))})},[p,t,n,T,P]);Vn(()=>{!1===u&&C.current.isPositioned&&(C.current.isPositioned=!1,m(e=>({...e,isPositioned:!1})))},[u]);const R=s.useRef(!1);Vn(()=>(R.current=!0,()=>{R.current=!1}),[]),Vn(()=>{if(w&&(k.current=w),N&&(S.current=N),w&&N){if(_.current)return _.current(w,N,A);A()}},[w,N,A,_,E]);const M=s.useMemo(()=>({reference:k,floating:S,setReference:b,setFloating:j}),[b,j]),D=s.useMemo(()=>({reference:w,floating:N}),[w,N]),L=s.useMemo(()=>{const e={position:n,left:0,top:0};if(!D.floating)return e;const t=$n(D.floating,h.x),s=$n(D.floating,h.y);return c?{...e,transform:"translate("+t+"px, "+s+"px)",...Un(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:s}},[n,c,D.floating,h.x,h.y]);return s.useMemo(()=>({...h,update:A,refs:M,elements:D,floatingStyles:L}),[h,A,M,D,L])}({strategy:"fixed",placement:M,whileElementsMounted:(...e)=>An(...e,{animationFrame:"always"===j}),elements:{reference:k.anchor},middleware:[Kn({mainAxis:h+R,alignmentAxis:p}),f&&Gn({mainAxis:!0,crossAxis:!1,limiter:"partial"===y?Hn():void 0,...O}),f&&qn({...O}),Xn({...O,apply:({elements:e,rects:t,availableWidth:s,availableHeight:n})=>{const{width:r,height:a}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${s}px`),i.setProperty("--radix-popper-available-height",`${n}px`),i.setProperty("--radix-popper-anchor-width",`${r}px`),i.setProperty("--radix-popper-anchor-height",`${a}px`)}}),_&&Jn({element:_,padding:x}),vr({arrowWidth:A,arrowHeight:R}),b&&Zn({strategy:"referenceHidden",...O})]}),[$,W]=yr(V),Y=Ft(w);wt(()=>{B&&(null==Y||Y())},[B,Y]);const K=null==(n=U.arrow)?void 0:n.x,G=null==(a=U.arrow)?void 0:a.y,H=0!==(null==(i=U.arrow)?void 0:i.centerOffset),[q,X]=s.useState();return wt(()=>{S&&X(window.getComputedStyle(S).zIndex)},[S]),mt.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:B?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[null==(o=U.transformOrigin)?void 0:o.x,null==(l=U.transformOrigin)?void 0:l.y].join(" "),...(null==(c=U.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:mt.jsx(ur,{scope:d,placedSide:$,onArrowChange:T,arrowX:K,arrowY:G,shouldHideArrow:H,children:mt.jsx(Tt.div,{"data-side":$,"data-align":W,...N,ref:E,style:{...N.style,animation:B?void 0:"none"}})})})});mr.displayName=dr;var pr="PopperArrow",xr={top:"bottom",right:"left",bottom:"top",left:"right"},fr=s.forwardRef(function(e,t){const{__scopePopper:s,...n}=e,r=hr(pr,s),a=xr[r.placedSide];return mt.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:mt.jsx(er,{...n,ref:t,style:{...n.style,display:"block"}})})});function gr(e){return null!==e}fr.displayName=pr;var vr=e=>({name:"transformOrigin",options:e,fn(t){var s,n,r;const{placement:a,rects:i,middlewareData:o}=t,l=0!==(null==(s=o.arrow)?void 0:s.centerOffset),c=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[u,h]=yr(a),m={start:"0%",center:"50%",end:"100%"}[h],p=((null==(n=o.arrow)?void 0:n.x)??0)+c/2,x=((null==(r=o.arrow)?void 0:r.y)??0)+d/2;let f="",g="";return"bottom"===u?(f=l?m:`${p}px`,g=-d+"px"):"top"===u?(f=l?m:`${p}px`,g=`${i.floating.height+d}px`):"right"===u?(f=-d+"px",g=l?m:`${x}px`):"left"===u&&(f=`${i.floating.width+d}px`,g=l?m:`${x}px`),{data:{x:f,y:g}}}});function yr(e){const[t,s="center"]=e.split("-");return[t,s]}var br=or,jr=cr,wr=mr,Nr=fr,kr=s.forwardRef((e,t)=>{var n;const{container:r,...a}=e,[o,l]=s.useState(!1);wt(()=>l(!0),[]);const c=r||o&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return c?i.createPortal(mt.jsx(Tt.div,{...a,ref:t}),c):null});kr.displayName="Portal";var Sr=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=s.useState(),r=s.useRef(null),a=s.useRef(e),i=s.useRef("none"),o=e?"mounted":"unmounted",[l,c]=function(e,t){return s.useReducer((e,s)=>t[e][s]??e,e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const e=Cr(r.current);i.current="mounted"===l?e:"none"},[l]),wt(()=>{const t=r.current,s=a.current;if(s!==e){const n=i.current,r=Cr(t);if(e)c("MOUNT");else if("none"===r||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(s&&n!==r?"ANIMATION_OUT":"UNMOUNT")}a.current=e}},[e,c]),wt(()=>{if(t){let e;const s=t.ownerDocument.defaultView??window,n=n=>{const i=Cr(r.current).includes(CSS.escape(n.animationName));if(n.target===t&&i&&(c("ANIMATION_END"),!a.current)){const n=t.style.animationFillMode;t.style.animationFillMode="forwards",e=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=n)})}},o=e=>{e.target===t&&(i.current=Cr(r.current))};return t.addEventListener("animationstart",o),t.addEventListener("animationcancel",n),t.addEventListener("animationend",n),()=>{s.clearTimeout(e),t.removeEventListener("animationstart",o),t.removeEventListener("animationcancel",n),t.removeEventListener("animationend",n)}}c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:s.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),a="function"==typeof n?n({present:r.isPresent}):s.Children.only(n),i=yt(r.ref,function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(a));return"function"==typeof n||r.isPresent?s.cloneElement(a,{ref:i}):null};function Cr(e){return(null==e?void 0:e.animationName)||"none"}Sr.displayName="Presence";var Er="rovingFocusGroup.onEntryFocus",_r={bubbles:!1,cancelable:!0},Tr="RovingFocusGroup",[Pr,Ar,Rr]=Lt(Tr),[Mr,Dr]=bt(Tr,[Rr]),[Lr,Ir]=Mr(Tr),Or=s.forwardRef((e,t)=>mt.jsx(Pr.Provider,{scope:e.__scopeRovingFocusGroup,children:mt.jsx(Pr.Slot,{scope:e.__scopeRovingFocusGroup,children:mt.jsx(Fr,{...e,ref:t})})}));Or.displayName=Tr;var Fr=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=s.useRef(null),p=yt(t,m),x=Ot(i),[f,g]=kt({prop:o,defaultProp:l??null,onChange:c,caller:Tr}),[v,y]=s.useState(!1),b=Ft(d),j=Ar(n),w=s.useRef(!1),[N,k]=s.useState(0);return s.useEffect(()=>{const e=m.current;if(e)return e.addEventListener(Er,b),()=>e.removeEventListener(Er,b)},[b]),mt.jsx(Lr,{scope:n,orientation:r,dir:x,loop:a,currentTabStopId:f,onItemFocus:s.useCallback(e=>g(e),[g]),onItemShiftTab:s.useCallback(()=>y(!0),[]),onFocusableItemAdd:s.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>k(e=>e-1),[]),children:mt.jsx(Tt.div,{tabIndex:v||0===N?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ft(e.onMouseDown,()=>{w.current=!0}),onFocus:ft(e.onFocus,e=>{const t=!w.current;if(e.target===e.currentTarget&&t&&!v){const t=new CustomEvent(Er,_r);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=j().filter(e=>e.focusable);Ur([e.find(e=>e.active),e.find(e=>e.id===f),...e].filter(Boolean).map(e=>e.ref.current),u)}}w.current=!1}),onBlur:ft(e.onBlur,()=>y(!1))})})}),zr="RovingFocusGroupItem",Vr=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=ls(),d=i||c,u=Ir(zr,n),h=u.currentTabStopId===d,m=Ar(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:f}=u;return s.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),mt.jsx(Pr.ItemSlot,{scope:n,id:d,focusable:r,active:a,children:mt.jsx(Tt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:ft(e.onMouseDown,e=>{r?u.onItemFocus(d):e.preventDefault()}),onFocus:ft(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ft(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,s){const n=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,s);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(n)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)?void 0:Br[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();const a=r.indexOf(e.currentTarget);r=u.loop?(n=a+1,(s=r).map((e,t)=>s[(n+t)%s.length])):r.slice(a+1)}setTimeout(()=>Ur(r))}var s,n}),children:"function"==typeof o?o({isCurrentTabStop:h,hasTabStop:null!=f}):o})})});Vr.displayName=zr;var Br={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ur(e,t=!1){const s=document.activeElement;for(const n of e){if(n===s)return;if(n.focus({preventScroll:t}),document.activeElement!==s)return}}var $r=Or,Wr=Vr;function Yr(e){const t=Kr(e),n=s.forwardRef((e,n)=>{const{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(Hr);if(o){const e=o.props.children,r=i.map(t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return mt.jsx(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return mt.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function Kr(e){const t=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const s={...t};for(const n in t){const r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(r,n.props);return n.type!==s.Fragment&&(a.ref=t?vt(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gr=Symbol("radix.slottable");function Hr(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Gr}var qr=new WeakMap,Xr=new WeakMap,Zr={},Jr=0,Qr=function(e){return e&&(e.host||Qr(e.parentNode))},ea=function(e,t,s,n){var r=function(e,t){return t.map(function(t){if(e.contains(t))return t;var s=Qr(t);return s&&e.contains(s)?s:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Zr[s]||(Zr[s]=new WeakMap);var a=Zr[s],i=[],o=new Set,l=new Set(r),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};r.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(n),r=null!==t&&"false"!==t,l=(qr.get(e)||0)+1,c=(a.get(e)||0)+1;qr.set(e,l),a.set(e,c),i.push(e),1===l&&r&&Xr.set(e,!0),1===c&&e.setAttribute(s,"true"),r||e.setAttribute(n,"true")}catch(u){}})};return d(t),o.clear(),Jr++,function(){i.forEach(function(e){var t=qr.get(e)-1,r=a.get(e)-1;qr.set(e,t),a.set(e,r),t||(Xr.has(e)||e.removeAttribute(n),Xr.delete(e)),r||e.removeAttribute(s)}),--Jr||(qr=new WeakMap,qr=new WeakMap,Xr=new WeakMap,Zr={})}},ta=function(e,t,s){void 0===s&&(s="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),r=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),ea(n,r,s,"aria-hidden")):function(){return null}},sa=function(){return sa=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var r in t=arguments[s])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},sa.apply(this,arguments)};function na(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s}"function"==typeof SuppressedError&&SuppressedError;var ra="right-scroll-bar-position",aa="width-before-scroll-bar";function ia(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var oa="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,la=new WeakMap;function ca(e,t){var n,r,a,i=(n=null,r=function(t){return e.forEach(function(e){return ia(e,t)})},(a=s.useState(function(){return{value:n,callback:r,facade:{get current(){return a.value},set current(e){var t=a.value;t!==e&&(a.value=e,a.callback(e,t))}}}})[0]).callback=r,a.facade);return oa(function(){var t=la.get(i);if(t){var s=new Set(t),n=new Set(e),r=i.current;s.forEach(function(e){n.has(e)||ia(e,null)}),n.forEach(function(e){s.has(e)||ia(e,r)})}la.set(i,e)},[e]),i}function da(e){return e}var ua=function(e){var t=e.sideCar,n=na(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return s.createElement(r,sa({},n))};ua.isSideCarExport=!0;var ha=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=da);var s=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(e){var r=t(e,n);return s.push(r),function(){s=s.filter(function(e){return e!==r})}},assignSyncMedium:function(e){for(n=!0;s.length;){var t=s;s=[],t.forEach(e)}s={push:function(t){return e(t)},filter:function(){return s}}},assignMedium:function(e){n=!0;var t=[];if(s.length){var r=s;s=[],r.forEach(e),t=s}var a=function(){var s=t;t=[],s.forEach(e)},i=function(){return Promise.resolve().then(a)};i(),s={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),s}}}}}(null);return t.options=sa({async:!0,ssr:!1},e),t}(),ma=function(){},pa=s.forwardRef(function(e,t){var n=s.useRef(null),r=s.useState({onScrollCapture:ma,onWheelCapture:ma,onTouchMoveCapture:ma}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,x=e.noIsolation,f=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=e.gapMode,j=na(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=m,N=ca([n,t]),k=sa(sa({},j),a);return s.createElement(s.Fragment,null,u&&s.createElement(w,{sideCar:ha,removeScrollBar:d,shards:h,noRelative:p,noIsolation:x,inert:f,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?s.cloneElement(s.Children.only(l),sa(sa({},k),{ref:N})):s.createElement(y,sa({},k,{className:c,ref:N}),l))});pa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},pa.classNames={fullWidth:aa,zeroRight:ra};function xa(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var fa=function(){var e=0,t=null;return{add:function(s){var n,r;0==e&&(t=xa())&&(r=s,(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ga=function(){var e,t=(e=fa(),function(t,n){s.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var s=e.styles,n=e.dynamic;return t(s,n),null}},va={left:0,top:0,right:0,gap:0},ya=function(e){return parseInt(e||"",10)||0},ba=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return va;var t=function(e){var t=window.getComputedStyle(document.body),s=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],r=t["padding"===e?"paddingRight":"marginRight"];return[ya(s),ya(n),ya(r)]}(e),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-s+t[2]-t[0])}},ja=ga(),wa="data-scroll-locked",Na=function(e,t,s,n){var r=e.left,a=e.top,i=e.right,o=e.gap;return void 0===s&&(s="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(o,"px ").concat(n,";\n  }\n  body[").concat(wa,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===s&&"\n    padding-left: ".concat(r,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(n,";\n    "),"padding"===s&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ra," {\n    right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(aa," {\n    margin-right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(ra," .").concat(ra," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(aa," .").concat(aa," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(wa,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},ka=function(){var e=parseInt(document.body.getAttribute(wa)||"0",10);return isFinite(e)?e:0},Sa=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;s.useEffect(function(){return document.body.setAttribute(wa,(ka()+1).toString()),function(){var e=ka()-1;e<=0?document.body.removeAttribute(wa):document.body.setAttribute(wa,e.toString())}},[]);var i=s.useMemo(function(){return ba(a)},[a]);return s.createElement(ja,{styles:Na(i,!t,a,n?"":"!important")})},Ca=!1;if("undefined"!=typeof window)try{var Ea=Object.defineProperty({},"passive",{get:function(){return Ca=!0,!0}});window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch(zT){Ca=!1}var _a=!!Ca&&{passive:!1},Ta=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return"hidden"!==s[t]&&!(s.overflowY===s.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===s[t])},Pa=function(e,t){var s=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),Aa(e,n)){var r=Ra(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==s.body);return!1},Aa=function(e,t){return"v"===e?function(e){return Ta(e,"overflowY")}(t):function(e){return Ta(e,"overflowX")}(t)},Ra=function(e,t){return"v"===e?[(s=t).scrollTop,s.scrollHeight,s.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var s},Ma=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Da=function(e){return[e.deltaX,e.deltaY]},La=function(e){return e&&"current"in e?e.current:e},Ia=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Oa=0,Fa=[];function za(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Va=(Ba=function(e){var t=s.useRef([]),n=s.useRef([0,0]),r=s.useRef(),a=s.useState(Oa++)[0],i=s.useState(ga)[0],o=s.useRef(e);s.useEffect(function(){o.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,s){if(s||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(La),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=s.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var s,a=Ma(e),i=n.current,l="deltaX"in e?e.deltaX:i[0]-a[0],c="deltaY"in e?e.deltaY:i[1]-a[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=Pa(u,d);if(!h)return!0;if(h?s=u:(s="v"===u?"h":"v",h=Pa(u,d)),!h)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=s),!s)return!0;var m=r.current||s;return function(e,t,s,n){var r=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=r*n,i=s.target,o=t.contains(i),l=!1,c=a>0,d=0,u=0;do{if(!i)break;var h=Ra(e,i),m=h[0],p=h[1]-h[2]-r*m;(m||p)&&Aa(e,i)&&(d+=p,u+=m);var x=i.parentNode;i=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!o&&i!==document.body||o&&(t.contains(i)||t===i));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(m,t,e,"h"===m?l:c)},[]),c=s.useCallback(function(e){var s=e;if(Fa.length&&Fa[Fa.length-1]===i){var n="deltaY"in s?Da(s):Ma(s),r=t.current.filter(function(e){return e.name===s.type&&(e.target===s.target||s.target===e.shadowParent)&&(t=e.delta,r=n,t[0]===r[0]&&t[1]===r[1]);var t,r})[0];if(r&&r.should)s.cancelable&&s.preventDefault();else if(!r){var a=(o.current.shards||[]).map(La).filter(Boolean).filter(function(e){return e.contains(s.target)});(a.length>0?l(s,a[0]):!o.current.noIsolation)&&s.cancelable&&s.preventDefault()}}},[]),d=s.useCallback(function(e,s,n,r){var a={name:e,delta:s,target:n,should:r,shadowParent:za(n)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=s.useCallback(function(e){n.current=Ma(e),r.current=void 0},[]),h=s.useCallback(function(t){d(t.type,Da(t),t.target,l(t,e.lockRef.current))},[]),m=s.useCallback(function(t){d(t.type,Ma(t),t.target,l(t,e.lockRef.current))},[]);s.useEffect(function(){return Fa.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,_a),document.addEventListener("touchmove",c,_a),document.addEventListener("touchstart",u,_a),function(){Fa=Fa.filter(function(e){return e!==i}),document.removeEventListener("wheel",c,_a),document.removeEventListener("touchmove",c,_a),document.removeEventListener("touchstart",u,_a)}},[]);var p=e.removeScrollBar,x=e.inert;return s.createElement(s.Fragment,null,x?s.createElement(i,{styles:Ia(a)}):null,p?s.createElement(Sa,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ha.useMedium(Ba),ua);var Ba,Ua=s.forwardRef(function(e,t){return s.createElement(pa,sa({},e,{ref:t,sideCar:Va}))});Ua.classNames=pa.classNames;var $a=["Enter"," "],Wa=["ArrowUp","PageDown","End"],Ya=["ArrowDown","PageUp","Home",...Wa],Ka={ltr:[...$a,"ArrowRight"],rtl:[...$a,"ArrowLeft"]},Ga={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ha="Menu",[qa,Xa,Za]=Lt(Ha),[Ja,Qa]=bt(Ha,[Za,rr,Dr]),ei=rr(),ti=Dr(),[si,ni]=Ja(Ha),[ri,ai]=Ja(Ha),ii=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=ei(t),[c,d]=s.useState(null),u=s.useRef(!1),h=Ft(i),m=Ot(a);return s.useEffect(()=>{const e=()=>{u.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),mt.jsx(br,{...l,children:mt.jsx(si,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:d,children:mt.jsx(ri,{scope:t,onClose:s.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:r})})})};ii.displayName=Ha;var oi=s.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,r=ei(s);return mt.jsx(jr,{...r,...n,ref:t})});oi.displayName="MenuAnchor";var li="MenuPortal",[ci,di]=Ja(li,{forceMount:void 0}),ui=e=>{const{__scopeMenu:t,forceMount:s,children:n,container:r}=e,a=ni(li,t);return mt.jsx(ci,{scope:t,forceMount:s,children:mt.jsx(Sr,{present:s||a.open,children:mt.jsx(kr,{asChild:!0,container:r,children:n})})})};ui.displayName=li;var hi="MenuContent",[mi,pi]=Ja(hi),xi=s.forwardRef((e,t)=>{const s=di(hi,e.__scopeMenu),{forceMount:n=s.forceMount,...r}=e,a=ni(hi,e.__scopeMenu),i=ai(hi,e.__scopeMenu);return mt.jsx(qa.Provider,{scope:e.__scopeMenu,children:mt.jsx(Sr,{present:n||a.open,children:mt.jsx(qa.Slot,{scope:e.__scopeMenu,children:i.modal?mt.jsx(fi,{...r,ref:t}):mt.jsx(gi,{...r,ref:t})})})})}),fi=s.forwardRef((e,t)=>{const n=ni(hi,e.__scopeMenu),r=s.useRef(null),a=yt(t,r);return s.useEffect(()=>{const e=r.current;if(e)return ta(e)},[]),mt.jsx(yi,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ft(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gi=s.forwardRef((e,t)=>{const s=ni(hi,e.__scopeMenu);return mt.jsx(yi,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),vi=Yr("MenuContent.ScrollLock"),yi=s.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:x,...f}=e,g=ni(hi,n),v=ai(hi,n),y=ei(n),b=ti(n),j=Xa(n),[w,N]=s.useState(null),k=s.useRef(null),S=yt(t,k,g.onContentChange),C=s.useRef(0),E=s.useRef(""),_=s.useRef(0),T=s.useRef(null),P=s.useRef("right"),A=s.useRef(0),R=x?Ua:s.Fragment,M=x?{as:vi,allowPinchZoom:!0}:void 0,D=e=>{var t,s;const n=E.current+e,r=j().filter(e=>!e.disabled),a=document.activeElement,i=null==(t=r.find(e=>e.ref.current===a))?void 0:t.textValue,o=function(e,t,s){const n=t.length>1&&Array.from(t).every(e=>e===t[0]),r=n?t[0]:t,a=s?e.indexOf(s):-1;let i=(o=e,l=Math.max(a,0),o.map((e,t)=>o[(l+t)%o.length]));var o,l;1===r.length&&(i=i.filter(e=>e!==s));const c=i.find(e=>e.toLowerCase().startsWith(r.toLowerCase()));return c!==s?c:void 0}(r.map(e=>e.textValue),n,i),l=null==(s=r.find(e=>e.textValue===o))?void 0:s.ref.current;!function e(t){E.current=t,window.clearTimeout(C.current),""!==t&&(C.current=window.setTimeout(()=>e(""),1e3))}(n),l&&setTimeout(()=>l.focus())};s.useEffect(()=>()=>window.clearTimeout(C.current),[]),Ht();const L=s.useCallback(e=>{var t,s;return P.current===(null==(t=T.current)?void 0:t.side)&&function(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return function(e,t){const{x:s,y:n}=e;let r=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const e=t[a],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>n!=u>n&&s<(d-l)*(n-c)/(u-c)+l&&(r=!r)}return r}(s,t)}(e,null==(s=T.current)?void 0:s.area)},[]);return mt.jsx(mi,{scope:n,searchRef:E,onItemEnter:s.useCallback(e=>{L(e)&&e.preventDefault()},[L]),onItemLeave:s.useCallback(e=>{var t;L(e)||(null==(t=k.current)||t.focus(),N(null))},[L]),onTriggerLeave:s.useCallback(e=>{L(e)&&e.preventDefault()},[L]),pointerGraceTimerRef:_,onPointerGraceIntentChange:s.useCallback(e=>{T.current=e},[]),children:mt.jsx(R,{...M,children:mt.jsx(Qt,{asChild:!0,trapped:a,onMountAutoFocus:ft(i,e=>{var t;e.preventDefault(),null==(t=k.current)||t.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:mt.jsx(Wt,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:mt.jsx($r,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:N,onEntryFocus:ft(c,e=>{v.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:mt.jsx(wr,{role:"menu","aria-orientation":"vertical","data-state":Yi(g.open),"data-radix-menu-content":"",dir:v.dir,...y,...f,ref:S,style:{outline:"none",...f.style},onKeyDown:ft(f.onKeyDown,e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,s=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!s&&n&&D(e.key));const r=k.current;if(e.target!==r)return;if(!Ya.includes(e.key))return;e.preventDefault();const a=j().filter(e=>!e.disabled).map(e=>e.ref.current);Wa.includes(e.key)&&a.reverse(),function(e){const t=document.activeElement;for(const s of e){if(s===t)return;if(s.focus(),document.activeElement!==t)return}}(a)}),onBlur:ft(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:ft(e.onPointerMove,Hi(e=>{const t=e.target,s=A.current!==e.clientX;if(e.currentTarget.contains(t)&&s){const t=e.clientX>A.current?"right":"left";P.current=t,A.current=e.clientX}}))})})})})})})});xi.displayName=hi;var bi=s.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return mt.jsx(Tt.div,{role:"group",...n,ref:t})});bi.displayName="MenuGroup";var ji=s.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return mt.jsx(Tt.div,{...n,ref:t})});ji.displayName="MenuLabel";var wi="MenuItem",Ni="menu.itemSelect",ki=s.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=s.useRef(null),o=ai(wi,e.__scopeMenu),l=pi(wi,e.__scopeMenu),c=yt(t,i),d=s.useRef(!1);return mt.jsx(Si,{...a,ref:c,disabled:n,onClick:ft(e.onClick,()=>{const e=i.current;if(!n&&e){const t=new CustomEvent(Ni,{bubbles:!0,cancelable:!0});e.addEventListener(Ni,e=>null==r?void 0:r(e),{once:!0}),Pt(e,t),t.defaultPrevented?d.current=!1:o.onClose()}}),onPointerDown:t=>{var s;null==(s=e.onPointerDown)||s.call(e,t),d.current=!0},onPointerUp:ft(e.onPointerUp,e=>{var t;d.current||null==(t=e.currentTarget)||t.click()}),onKeyDown:ft(e.onKeyDown,e=>{const t=""!==l.searchRef.current;n||t&&" "===e.key||$a.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});ki.displayName=wi;var Si=s.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=pi(wi,n),l=ti(n),c=s.useRef(null),d=yt(t,c),[u,h]=s.useState(!1),[m,p]=s.useState("");return s.useEffect(()=>{const e=c.current;e&&p((e.textContent??"").trim())},[i.children]),mt.jsx(qa.ItemSlot,{scope:n,disabled:r,textValue:a??m,children:mt.jsx(Wr,{asChild:!0,...l,focusable:!r,children:mt.jsx(Tt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ft(e.onPointerMove,Hi(e=>{if(r)o.onItemLeave(e);else if(o.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:ft(e.onPointerLeave,Hi(e=>o.onItemLeave(e))),onFocus:ft(e.onFocus,()=>h(!0)),onBlur:ft(e.onBlur,()=>h(!1))})})})}),Ci=s.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:n,...r}=e;return mt.jsx(Di,{scope:e.__scopeMenu,checked:s,children:mt.jsx(ki,{role:"menuitemcheckbox","aria-checked":Ki(s)?"mixed":s,...r,ref:t,"data-state":Gi(s),onSelect:ft(r.onSelect,()=>null==n?void 0:n(!!Ki(s)||!s),{checkForDefaultPrevented:!1})})})});Ci.displayName="MenuCheckboxItem";var Ei="MenuRadioGroup",[_i,Ti]=Ja(Ei,{value:void 0,onValueChange:()=>{}}),Pi=s.forwardRef((e,t)=>{const{value:s,onValueChange:n,...r}=e,a=Ft(n);return mt.jsx(_i,{scope:e.__scopeMenu,value:s,onValueChange:a,children:mt.jsx(bi,{...r,ref:t})})});Pi.displayName=Ei;var Ai="MenuRadioItem",Ri=s.forwardRef((e,t)=>{const{value:s,...n}=e,r=Ti(Ai,e.__scopeMenu),a=s===r.value;return mt.jsx(Di,{scope:e.__scopeMenu,checked:a,children:mt.jsx(ki,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Gi(a),onSelect:ft(n.onSelect,()=>{var e;return null==(e=r.onValueChange)?void 0:e.call(r,s)},{checkForDefaultPrevented:!1})})})});Ri.displayName=Ai;var Mi="MenuItemIndicator",[Di,Li]=Ja(Mi,{checked:!1}),Ii=s.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:n,...r}=e,a=Li(Mi,s);return mt.jsx(Sr,{present:n||Ki(a.checked)||!0===a.checked,children:mt.jsx(Tt.span,{...r,ref:t,"data-state":Gi(a.checked)})})});Ii.displayName=Mi;var Oi=s.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e;return mt.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Oi.displayName="MenuSeparator";var Fi=s.forwardRef((e,t)=>{const{__scopeMenu:s,...n}=e,r=ei(s);return mt.jsx(Nr,{...r,...n,ref:t})});Fi.displayName="MenuArrow";var[zi,Vi]=Ja("MenuSub"),Bi="MenuSubTrigger",Ui=s.forwardRef((e,t)=>{const n=ni(Bi,e.__scopeMenu),r=ai(Bi,e.__scopeMenu),a=Vi(Bi,e.__scopeMenu),i=pi(Bi,e.__scopeMenu),o=s.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=s.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return s.useEffect(()=>u,[u]),s.useEffect(()=>{const e=l.current;return()=>{window.clearTimeout(e),c(null)}},[l,c]),mt.jsx(oi,{asChild:!0,...d,children:mt.jsx(Si,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Yi(n.open),...e,ref:vt(t,a.onTriggerChange),onClick:t=>{var s;null==(s=e.onClick)||s.call(e,t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ft(e.onPointerMove,Hi(t=>{i.onItemEnter(t),t.defaultPrevented||e.disabled||n.open||o.current||(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ft(e.onPointerLeave,Hi(e=>{var t,s;u();const r=null==(t=n.content)?void 0:t.getBoundingClientRect();if(r){const t=null==(s=n.content)?void 0:s.dataset.side,a="right"===t,o=a?-5:5,c=r[a?"left":"right"],d=r[a?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:c,y:r.top},{x:d,y:r.top},{x:d,y:r.bottom},{x:c,y:r.bottom}],side:t}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ft(e.onKeyDown,t=>{var s;const a=""!==i.searchRef.current;e.disabled||a&&" "===t.key||Ka[r.dir].includes(t.key)&&(n.onOpenChange(!0),null==(s=n.content)||s.focus(),t.preventDefault())})})})});Ui.displayName=Bi;var $i="MenuSubContent",Wi=s.forwardRef((e,t)=>{const n=di(hi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=ni(hi,e.__scopeMenu),o=ai(hi,e.__scopeMenu),l=Vi($i,e.__scopeMenu),c=s.useRef(null),d=yt(t,c);return mt.jsx(qa.Provider,{scope:e.__scopeMenu,children:mt.jsx(Sr,{present:r||i.open,children:mt.jsx(qa.Slot,{scope:e.__scopeMenu,children:mt.jsx(yi,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{var t;o.isUsingKeyboardRef.current&&(null==(t=c.current)||t.focus()),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:ft(e.onFocusOutside,e=>{e.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ft(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:ft(e.onKeyDown,e=>{var t;const s=e.currentTarget.contains(e.target),n=Ga[o.dir].includes(e.key);s&&n&&(i.onOpenChange(!1),null==(t=l.trigger)||t.focus(),e.preventDefault())})})})})})});function Yi(e){return e?"open":"closed"}function Ki(e){return"indeterminate"===e}function Gi(e){return Ki(e)?"indeterminate":e?"checked":"unchecked"}function Hi(e){return t=>"mouse"===t.pointerType?e(t):void 0}Wi.displayName=$i;var qi=ii,Xi=oi,Zi=ui,Ji=xi,Qi=bi,eo=ji,to=ki,so=Ci,no=Pi,ro=Ri,ao=Ii,io=Oi,oo=Fi,lo=Ui,co=Wi,uo="DropdownMenu",[ho]=bt(uo,[Qa]),mo=Qa(),[po,xo]=ho(uo),fo=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=mo(t),d=s.useRef(null),[u,h]=kt({prop:a,defaultProp:i??!1,onChange:o,caller:uo});return mt.jsx(po,{scope:t,triggerId:ls(),triggerRef:d,contentId:ls(),open:u,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(e=>!e),[h]),modal:l,children:mt.jsx(qi,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};fo.displayName=uo;var go="DropdownMenuTrigger",vo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...r}=e,a=xo(go,s),i=mo(s);return mt.jsx(Xi,{asChild:!0,...i,children:mt.jsx(Tt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...r,ref:vt(t,a.triggerRef),onPointerDown:ft(e.onPointerDown,e=>{n||0!==e.button||!1!==e.ctrlKey||(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:ft(e.onKeyDown,e=>{n||(["Enter"," "].includes(e.key)&&a.onOpenToggle(),"ArrowDown"===e.key&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});vo.displayName=go;var yo=e=>{const{__scopeDropdownMenu:t,...s}=e,n=mo(t);return mt.jsx(Zi,{...n,...s})};yo.displayName="DropdownMenuPortal";var bo="DropdownMenuContent",jo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=xo(bo,n),i=mo(n),o=s.useRef(!1);return mt.jsx(Ji,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:ft(e.onCloseAutoFocus,e=>{var t;o.current||null==(t=a.triggerRef.current)||t.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:ft(e.onInteractOutside,e=>{const t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey,n=2===t.button||s;a.modal&&!n||(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jo.displayName=bo;s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(Qi,{...r,...n,ref:t})}).displayName="DropdownMenuGroup";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(eo,{...r,...n,ref:t})}).displayName="DropdownMenuLabel";var wo=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(to,{...r,...n,ref:t})});wo.displayName="DropdownMenuItem";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(so,{...r,...n,ref:t})}).displayName="DropdownMenuCheckboxItem";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(no,{...r,...n,ref:t})}).displayName="DropdownMenuRadioGroup";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(ro,{...r,...n,ref:t})}).displayName="DropdownMenuRadioItem";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(ao,{...r,...n,ref:t})}).displayName="DropdownMenuItemIndicator";var No=s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(io,{...r,...n,ref:t})});No.displayName="DropdownMenuSeparator";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(oo,{...r,...n,ref:t})}).displayName="DropdownMenuArrow";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(lo,{...r,...n,ref:t})}).displayName="DropdownMenuSubTrigger";s.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...n}=e,r=mo(s);return mt.jsx(co,{...r,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent";var ko=fo,So=vo,Co=yo,Eo=jo,_o=wo,To=No;const Po=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),Ao="-",Ro=[],Mo=e=>{const t=Io(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return Lo(e);const s=e.split(Ao),n=""===s[0]&&s.length>1?1:0;return Do(s,n,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=n[e],r=s[e];return t?r?((e,t)=>{const s=new Array(e.length+t.length);for(let n=0;n<e.length;n++)s[n]=e[n];for(let n=0;n<t.length;n++)s[e.length+n]=t[n];return s})(r,t):t:r||Ro}return s[e]||Ro}}},Do=(e,t,s)=>{if(0===e.length-t)return s.classGroupId;const n=e[t],r=s.nextPart.get(n);if(r){const s=Do(e,t+1,r);if(s)return s}const a=s.validators;if(null===a)return;const i=0===t?e.join(Ao):e.slice(t).join(Ao),o=a.length;for(let l=0;l<o;l++){const e=a[l];if(e.validator(i))return e.classGroupId}},Lo=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),n=t.slice(0,s);return n?"arbitrary.."+n:void 0})(),Io=e=>{const{theme:t,classGroups:s}=e;return Oo(s,t)},Oo=(e,t)=>{const s=Po();for(const n in e){const r=e[n];Fo(r,s,n,t)}return s},Fo=(e,t,s,n)=>{const r=e.length;for(let a=0;a<r;a++){const r=e[a];zo(r,t,s,n)}},zo=(e,t,s,n)=>{"string"!=typeof e?"function"!=typeof e?Uo(e,t,s,n):Bo(e,t,s,n):Vo(e,t,s)},Vo=(e,t,s)=>{(""===e?t:$o(t,e)).classGroupId=s},Bo=(e,t,s,n)=>{Wo(e)?Fo(e(n),t,s,n):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(s,e)))},Uo=(e,t,s,n)=>{const r=Object.entries(e),a=r.length;for(let i=0;i<a;i++){const[e,a]=r[i];Fo(a,$o(t,e),s,n)}},$o=(e,t)=>{let s=e;const n=t.split(Ao),r=n.length;for(let a=0;a<r;a++){const e=n[a];let t=s.nextPart.get(e);t||(t=Po(),s.nextPart.set(e,t)),s=t}return s},Wo=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Yo=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),n=Object.create(null);const r=(r,a)=>{s[r]=a,t++,t>e&&(t=0,n=s,s=Object.create(null))};return{get(e){let t=s[e];return void 0!==t?t:void 0!==(t=n[e])?(r(e,t),t):void 0},set(e,t){e in s?s[e]=t:r(e,t)}}},Ko=[],Go=(e,t,s,n,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:n,isExternal:r}),Ho=e=>{const{prefix:t,experimentalParseClassName:s}=e;let n=e=>{const t=[];let s,n=0,r=0,a=0;const i=e.length;for(let d=0;d<i;d++){const i=e[d];if(0===n&&0===r){if(":"===i){t.push(e.slice(a,d)),a=d+1;continue}if("/"===i){s=d;continue}}"["===i?n++:"]"===i?n--:"("===i?r++:")"===i&&r--}const o=0===t.length?e:e.slice(a);let l=o,c=!1;o.endsWith("!")?(l=o.slice(0,-1),c=!0):o.startsWith("!")&&(l=o.slice(1),c=!0);return Go(t,c,l,s&&s>a?s-a:void 0)};if(t){const e=t+":",s=n;n=t=>t.startsWith(e)?s(t.slice(e.length)):Go(Ko,!1,t,void 0,!0)}if(s){const e=n;n=t=>s({className:t,parseClassName:e})}return n},qo=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,s)=>{t.set(e,1e6+s)}),e=>{const s=[];let n=[];for(let r=0;r<e.length;r++){const a=e[r],i="["===a[0],o=t.has(a);i||o?(n.length>0&&(n.sort(),s.push(...n),n=[]),s.push(a)):n.push(a)}return n.length>0&&(n.sort(),s.push(...n)),s}},Xo=/\s+/,Zo=e=>{if("string"==typeof e)return e;let t,s="";for(let n=0;n<e.length;n++)e[n]&&(t=Zo(e[n]))&&(s&&(s+=" "),s+=t);return s},Jo=[],Qo=e=>{const t=t=>t[e]||Jo;return t.isThemeGetter=!0,t},el=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tl=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sl=/^\d+\/\d+$/,nl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,al=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,il=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ol=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ll=e=>sl.test(e),cl=e=>!!e&&!Number.isNaN(Number(e)),dl=e=>!!e&&Number.isInteger(Number(e)),ul=e=>e.endsWith("%")&&cl(e.slice(0,-1)),hl=e=>nl.test(e),ml=()=>!0,pl=e=>rl.test(e)&&!al.test(e),xl=()=>!1,fl=e=>il.test(e),gl=e=>ol.test(e),vl=e=>!bl(e)&&!Cl(e),yl=e=>Ml(e,Ol,xl),bl=e=>el.test(e),jl=e=>Ml(e,Fl,pl),wl=e=>Ml(e,zl,cl),Nl=e=>Ml(e,Ll,xl),kl=e=>Ml(e,Il,gl),Sl=e=>Ml(e,Bl,fl),Cl=e=>tl.test(e),El=e=>Dl(e,Fl),_l=e=>Dl(e,Vl),Tl=e=>Dl(e,Ll),Pl=e=>Dl(e,Ol),Al=e=>Dl(e,Il),Rl=e=>Dl(e,Bl,!0),Ml=(e,t,s)=>{const n=el.exec(e);return!!n&&(n[1]?t(n[1]):s(n[2]))},Dl=(e,t,s=!1)=>{const n=tl.exec(e);return!!n&&(n[1]?t(n[1]):s)},Ll=e=>"position"===e||"percentage"===e,Il=e=>"image"===e||"url"===e,Ol=e=>"length"===e||"size"===e||"bg-size"===e,Fl=e=>"length"===e,zl=e=>"number"===e,Vl=e=>"family-name"===e,Bl=e=>"shadow"===e,Ul=((e,...t)=>{let s,n,r,a;const i=e=>{const t=n(e);if(t)return t;const a=((e,t)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:a}=t,i=[],o=e.trim().split(Xo);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:m}=s(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!m,x=n(p?h.substring(0,m):h);if(!x){if(!p){l=e+(l.length>0?" "+l:l);continue}if(x=n(h),!x){l=e+(l.length>0?" "+l:l);continue}p=!1}const f=0===d.length?"":1===d.length?d[0]:a(d).join(":"),g=u?f+"!":f,v=g+x;if(i.indexOf(v)>-1)continue;i.push(v);const y=r(x,p);for(let s=0;s<y.length;++s){const e=y[s];i.push(g+e)}l=e+(l.length>0?" "+l:l)}return l})(e,s);return r(e,a),a};return a=o=>{const l=t.reduce((e,t)=>t(e),e());return s=(e=>({cache:Yo(e.cacheSize),parseClassName:Ho(e),sortModifiers:qo(e),...Mo(e)}))(l),n=s.cache.get,r=s.cache.set,a=i,i(o)},(...e)=>a(((...e)=>{let t,s,n=0,r="";for(;n<e.length;)(t=e[n++])&&(s=Zo(t))&&(r&&(r+=" "),r+=s);return r})(...e))})(()=>{const e=Qo("color"),t=Qo("font"),s=Qo("text"),n=Qo("font-weight"),r=Qo("tracking"),a=Qo("leading"),i=Qo("breakpoint"),o=Qo("container"),l=Qo("spacing"),c=Qo("radius"),d=Qo("shadow"),u=Qo("inset-shadow"),h=Qo("text-shadow"),m=Qo("drop-shadow"),p=Qo("blur"),x=Qo("perspective"),f=Qo("aspect"),g=Qo("ease"),v=Qo("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Cl,bl],b=()=>[Cl,bl,l],j=()=>[ll,"full","auto",...b()],w=()=>[dl,"none","subgrid",Cl,bl],N=()=>["auto",{span:["full",dl,Cl,bl]},dl,Cl,bl],k=()=>[dl,"auto",Cl,bl],S=()=>["auto","min","max","fr",Cl,bl],C=()=>["auto",...b()],E=()=>[ll,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],_=()=>[e,Cl,bl],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Tl,Nl,{position:[Cl,bl]}],P=()=>["auto","cover","contain",Pl,yl,{size:[Cl,bl]}],A=()=>[ul,El,jl],R=()=>["","none","full",c,Cl,bl],M=()=>["",cl,El,jl],D=()=>[cl,ul,Tl,Nl],L=()=>["","none",p,Cl,bl],I=()=>["none",cl,Cl,bl],O=()=>["none",cl,Cl,bl],F=()=>[cl,Cl,bl],z=()=>[ll,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hl],breakpoint:[hl],color:[ml],container:[hl],"drop-shadow":[hl],ease:["in","out","in-out"],font:[vl],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hl],shadow:[hl],spacing:["px",cl],text:[hl],"text-shadow":[hl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ll,bl,Cl,f]}],container:["container"],columns:[{columns:[cl,bl,Cl,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[dl,"auto",Cl,bl]}],basis:[{basis:[ll,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[cl,ll,"auto","initial","none",bl]}],grow:[{grow:["",cl,Cl,bl]}],shrink:[{shrink:["",cl,Cl,bl]}],order:[{order:[dl,"first","last","none",Cl,bl]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[o,"screen",...E()]}],"min-w":[{"min-w":[o,"screen","none",...E()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",s,El,jl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Cl,wl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ul,bl]}],"font-family":[{font:[_l,bl,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,Cl,bl]}],"line-clamp":[{"line-clamp":[cl,"none",Cl,wl]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Cl,bl]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Cl,bl]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_()}],"text-color":[{text:_()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[cl,"from-font","auto",Cl,jl]}],"text-decoration-color":[{decoration:_()}],"underline-offset":[{"underline-offset":[cl,"auto",Cl,bl]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cl,bl]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cl,bl]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:P()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},dl,Cl,bl],radial:["",Cl,bl],conic:[dl,Cl,bl]},Al,kl]}],"bg-color":[{bg:_()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:_()}],"gradient-via":[{via:_()}],"gradient-to":[{to:_()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:M()}],"border-w-x":[{"border-x":M()}],"border-w-y":[{"border-y":M()}],"border-w-s":[{"border-s":M()}],"border-w-e":[{"border-e":M()}],"border-w-t":[{"border-t":M()}],"border-w-r":[{"border-r":M()}],"border-w-b":[{"border-b":M()}],"border-w-l":[{"border-l":M()}],"divide-x":[{"divide-x":M()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":M()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:_()}],"border-color-x":[{"border-x":_()}],"border-color-y":[{"border-y":_()}],"border-color-s":[{"border-s":_()}],"border-color-e":[{"border-e":_()}],"border-color-t":[{"border-t":_()}],"border-color-r":[{"border-r":_()}],"border-color-b":[{"border-b":_()}],"border-color-l":[{"border-l":_()}],"divide-color":[{divide:_()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[cl,Cl,bl]}],"outline-w":[{outline:["",cl,El,jl]}],"outline-color":[{outline:_()}],shadow:[{shadow:["","none",d,Rl,Sl]}],"shadow-color":[{shadow:_()}],"inset-shadow":[{"inset-shadow":["none",u,Rl,Sl]}],"inset-shadow-color":[{"inset-shadow":_()}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_()}],"ring-offset-w":[{"ring-offset":[cl,jl]}],"ring-offset-color":[{"ring-offset":_()}],"inset-ring-w":[{"inset-ring":M()}],"inset-ring-color":[{"inset-ring":_()}],"text-shadow":[{"text-shadow":["none",h,Rl,Sl]}],"text-shadow-color":[{"text-shadow":_()}],opacity:[{opacity:[cl,Cl,bl]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[cl]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":_()}],"mask-image-linear-to-color":[{"mask-linear-to":_()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":_()}],"mask-image-t-to-color":[{"mask-t-to":_()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":_()}],"mask-image-r-to-color":[{"mask-r-to":_()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":_()}],"mask-image-b-to-color":[{"mask-b-to":_()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":_()}],"mask-image-l-to-color":[{"mask-l-to":_()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":_()}],"mask-image-x-to-color":[{"mask-x-to":_()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":_()}],"mask-image-y-to-color":[{"mask-y-to":_()}],"mask-image-radial":[{"mask-radial":[Cl,bl]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":_()}],"mask-image-radial-to-color":[{"mask-radial-to":_()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[cl]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":_()}],"mask-image-conic-to-color":[{"mask-conic-to":_()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:P()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Cl,bl]}],filter:[{filter:["","none",Cl,bl]}],blur:[{blur:L()}],brightness:[{brightness:[cl,Cl,bl]}],contrast:[{contrast:[cl,Cl,bl]}],"drop-shadow":[{"drop-shadow":["","none",m,Rl,Sl]}],"drop-shadow-color":[{"drop-shadow":_()}],grayscale:[{grayscale:["",cl,Cl,bl]}],"hue-rotate":[{"hue-rotate":[cl,Cl,bl]}],invert:[{invert:["",cl,Cl,bl]}],saturate:[{saturate:[cl,Cl,bl]}],sepia:[{sepia:["",cl,Cl,bl]}],"backdrop-filter":[{"backdrop-filter":["","none",Cl,bl]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[cl,Cl,bl]}],"backdrop-contrast":[{"backdrop-contrast":[cl,Cl,bl]}],"backdrop-grayscale":[{"backdrop-grayscale":["",cl,Cl,bl]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[cl,Cl,bl]}],"backdrop-invert":[{"backdrop-invert":["",cl,Cl,bl]}],"backdrop-opacity":[{"backdrop-opacity":[cl,Cl,bl]}],"backdrop-saturate":[{"backdrop-saturate":[cl,Cl,bl]}],"backdrop-sepia":[{"backdrop-sepia":["",cl,Cl,bl]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Cl,bl]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[cl,"initial",Cl,bl]}],ease:[{ease:["linear","initial",g,Cl,bl]}],delay:[{delay:[cl,Cl,bl]}],animate:[{animate:["none",v,Cl,bl]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Cl,bl]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:O()}],"scale-x":[{"scale-x":O()}],"scale-y":[{"scale-y":O()}],"scale-z":[{"scale-z":O()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[Cl,bl,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:_()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cl,bl]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cl,bl]}],fill:[{fill:["none",..._()]}],"stroke-w":[{stroke:[cl,El,jl,wl]}],stroke:[{stroke:["none",..._()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function $l(...e){return Ul(x(e))}function Wl({...e}){return mt.jsx(ko,{"data-slot":"dropdown-menu",...e})}function Yl({...e}){return mt.jsx(So,{"data-slot":"dropdown-menu-trigger",...e})}function Kl({className:e,sideOffset:t=4,...s}){return mt.jsx(Co,{children:mt.jsx(Eo,{"data-slot":"dropdown-menu-content",sideOffset:t,className:$l("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...s})})}function Gl({className:e,inset:t,variant:s="default",...n}){return mt.jsx(_o,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":s,className:$l("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function Hl({className:e,...t}){return mt.jsx(To,{"data-slot":"dropdown-menu-separator",className:$l("bg-border -mx-1 my-1 h-px",e),...t})}var ql=Symbol.for("react.lazy"),Xl=n[" use ".trim().toString()];function Zl(e){return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===ql&&"_payload"in e&&("object"==typeof(t=e._payload)&&null!==t&&"then"in t);var t}function Jl(e){const t=ec(e),n=s.forwardRef((e,n)=>{let{children:r,...a}=e;Zl(r)&&"function"==typeof Xl&&(r=Xl(r._payload));const i=s.Children.toArray(r),o=i.find(sc);if(o){const e=o.props.children,r=i.map(t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return mt.jsx(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return mt.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var Ql=Jl("Slot");function ec(e){const t=s.forwardRef((e,t)=>{let{children:n,...r}=e;if(Zl(n)&&"function"==typeof Xl&&(n=Xl(n._payload)),s.isValidElement(n)){const e=function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const s={...t};for(const n in t){const r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(r,n.props);return n.type!==s.Fragment&&(a.ref=t?vt(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tc=Symbol("radix.slottable");function sc(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tc}const nc=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,rc=x,ac=(e,t)=>s=>{var n;if(null==(null==t?void 0:t.variants))return rc(e,null==s?void 0:s.class,null==s?void 0:s.className);const{variants:r,defaultVariants:a}=t,i=Object.keys(r).map(e=>{const t=null==s?void 0:s[e],n=null==a?void 0:a[e];if(null===t)return null;const i=nc(t)||nc(n);return r[e][i]}),o=s&&Object.entries(s).reduce((e,t)=>{let[s,n]=t;return void 0===n||(e[s]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:s,className:n,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...a,...o}[t]):{...a,...o}[t]===s})?[...e,s,n]:e},[]);return rc(e,i,l,null==s?void 0:s.class,null==s?void 0:s.className)},ic=ac("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function oc({className:e,variant:t,size:s,asChild:n=!1,...r}){const a=n?Ql:"button";return mt.jsx(a,{"data-slot":"button",className:$l(ic({variant:t,size:s,className:e})),...r})}const lc=({children:e,user:t,logout:n})=>{var r;const a=o(),i=l(),[c,d]=s.useState(t||null),[u,h]=s.useState(!1),[m,p]=s.useState(!t);s.useEffect(()=>{if(t)return d(t),void p(!1);(async()=>{try{const e=localStorage.getItem("token");if(!e)return void p(!1);const t=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();e.user&&d(e.user)}else localStorage.removeItem("token")}catch(e){localStorage.removeItem("token")}finally{p(!1)}})()},[t]);const x=async()=>{if(n)n();else try{await fetch("/api/auth/logout",{method:"POST"}),localStorage.removeItem("token"),d(null),a("/login")}catch(e){}};if(m)return mt.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-900",children:mt.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(!c)return mt.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-900",children:mt.jsx("div",{className:"text-white text-xl",children:"Please log in to continue"})});const f="admin"===c.role||"main_admin"===c.role,g="main_admin"===c.role,v=[{id:"dashboard",label:"Dashboard",icon:V,path:"/dashboard"},{id:"campaigns",label:"Campaigns",icon:B,path:"/campaigns"},{id:"links",label:"Tracking Links",icon:U,path:"/links"},{id:"analytics",label:"Analytics",icon:$,path:"/analytics"},{id:"geography",label:"Geography",icon:W,path:"/geography"},{id:"security",label:"Security",icon:Y,path:"/security"},{id:"shortener",label:"Link Shortener",icon:K,path:"/shortener"},{id:"live-activity",label:"Live Activity",icon:B,path:"/live-activity"},{id:"notifications",label:"Notifications",icon:G,path:"/notifications"},{id:"settings",label:"Settings",icon:H,path:"/settings"}],y={label:"Admin Panel",icon:g?q:Y,path:"/admin"},b=i.pathname,j=(null==(r=v.find(e=>b.startsWith(e.path)))?void 0:r.id)||(b.startsWith("/admin")?"admin":null),w=()=>{var e,t,s,n;return c.first_name&&c.last_name?`${c.first_name[0]}${c.last_name[0]}`.toUpperCase():(null==(t=null==(e=c.email)?void 0:e[0])?void 0:t.toUpperCase())||(null==(n=null==(s=c.username)?void 0:s[0])?void 0:n.toUpperCase())||"U"},N=()=>{switch(c.role){case"main_admin":return"bg-red-600";case"admin":return"bg-orange-600";case"member":return"bg-blue-600";default:return"bg-slate-600"}},k=()=>{switch(c.role){case"main_admin":return"Main Admin";case"admin":return"Admin";case"member":return"Member";default:return"User"}};return mt.jsxs("div",{className:"flex h-screen bg-slate-900 text-white",children:[mt.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-slate-800 border-r border-slate-700 overflow-y-auto",children:[mt.jsxs("div",{className:"p-6 border-b border-slate-700",children:[mt.jsx("h1",{className:"text-2xl font-bold text-blue-400",children:"Brain Link"}),mt.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Tracker Pro"})]}),mt.jsx("div",{className:"p-4 border-b border-slate-700",children:mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx("div",{className:`w-10 h-10 rounded-full ${N()} flex items-center justify-center font-bold text-sm hover:opacity-80 transition-opacity focus:outline-none focus:ring-2 focus:ring-blue-500`,children:w()}),mt.jsxs("div",{className:"flex-1 min-w-0",children:[mt.jsx("p",{className:"text-sm font-semibold truncate",children:c.username}),mt.jsx("p",{className:"text-xs text-slate-400 truncate",children:c.email}),mt.jsx("span",{className:"inline-block text-xs px-2 py-1 mt-1 bg-slate-700 rounded",children:k()})]})]})}),mt.jsxs("div",{className:"flex-1 p-4 space-y-2",children:[mt.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider px-2 mb-3",children:"Personal Dashboard"}),v.map(e=>{const t=e.icon,s=j===e.id;return mt.jsxs("button",{onClick:()=>{a(e.path),h(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-colors "+(s?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700"),children:[mt.jsx(t,{className:"h-5 w-5 flex-shrink-0"}),mt.jsx("span",{className:"text-sm",children:e.label})]},e.id)})]}),f&&mt.jsxs("div",{className:"p-4 border-t border-slate-700",children:[mt.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider px-2 mb-3",children:"System Management"}),mt.jsxs("button",{onClick:()=>{a(y.path),h(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-colors "+("admin"===j?"bg-red-600 text-white":"text-slate-300 hover:bg-slate-700"),children:[mt.jsx(y.icon,{className:"h-5 w-5 flex-shrink-0"}),mt.jsx("span",{className:"text-sm font-semibold",children:y.label}),g&&mt.jsx("span",{className:"ml-auto text-xs bg-red-700 px-2 py-1 rounded",children:"OWNER"})]})]}),mt.jsx("div",{className:"p-4 border-t border-slate-700",children:mt.jsxs(oc,{onClick:x,variant:"outline",className:"w-full bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[mt.jsx(X,{className:"h-4 w-4 mr-2"}),"Logout"]})})]}),mt.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[mt.jsxs("div",{className:"bg-slate-800 border-b border-slate-700 px-4 sm:px-6 py-4 flex items-center justify-between",children:[mt.jsx("button",{onClick:()=>h(!u),className:"md:hidden text-white",children:u?mt.jsx(Z,{className:"h-6 w-6"}):mt.jsx(J,{className:"h-6 w-6"})}),mt.jsx("div",{className:"hidden md:block flex-1",children:mt.jsx("h2",{className:"text-lg font-semibold text-white",children:"admin"===j?"Admin Panel":"Dashboard"})}),mt.jsx("div",{className:"hidden md:block",children:mt.jsxs(Wl,{children:[mt.jsx(Yl,{asChild:!0,children:mt.jsx("button",{className:`w-10 h-10 rounded-full ${N()} flex items-center justify-center font-bold text-sm hover:opacity-80 transition-opacity`,children:w()})}),mt.jsxs(Kl,{align:"end",className:"bg-slate-800 border-slate-700 text-white w-56 z-50",children:[mt.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[mt.jsx("p",{className:"font-semibold text-sm",children:c.username}),mt.jsx("p",{className:"text-xs text-slate-400",children:c.email}),mt.jsx("span",{className:`inline-block text-xs px-2 py-1 mt-2 ${N()} rounded`,children:k()})]}),mt.jsxs(Gl,{onClick:()=>a("/profile"),className:"text-slate-300 hover:bg-slate-700 cursor-pointer",children:[mt.jsx(Q,{className:"h-4 w-4 mr-2"}),"Profile"]}),f&&mt.jsxs(mt.Fragment,{children:[mt.jsx(Hl,{className:"bg-slate-700"}),mt.jsxs(Gl,{onClick:()=>a("/admin"),className:"text-slate-300 hover:bg-slate-700 cursor-pointer",children:[mt.jsx(q,{className:"h-4 w-4 mr-2"}),"Admin Panel"]})]}),mt.jsx(Hl,{className:"bg-slate-700"}),mt.jsxs(Gl,{onClick:x,className:"text-red-400 hover:bg-slate-700 cursor-pointer",children:[mt.jsx(X,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),mt.jsx("div",{className:"md:hidden",children:mt.jsxs(Wl,{children:[mt.jsx(Yl,{asChild:!0,children:mt.jsx("button",{className:`w-10 h-10 rounded-full ${N()} flex items-center justify-center font-bold text-sm hover:opacity-80 transition-opacity focus:outline-none focus:ring-2 focus:ring-blue-500`,children:w()})}),mt.jsxs(Kl,{align:"end",className:"bg-slate-800 border-slate-700 text-white w-48 z-50",children:[mt.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[mt.jsx("p",{className:"font-semibold text-sm",children:c.username}),mt.jsx("p",{className:"text-xs text-slate-400",children:c.email})]}),mt.jsxs(Gl,{onClick:()=>a("/profile"),className:"text-slate-300 hover:bg-slate-700 cursor-pointer",children:[mt.jsx(Q,{className:"h-4 w-4 mr-2"}),"Profile"]}),f&&mt.jsxs(mt.Fragment,{children:[mt.jsx(Hl,{className:"bg-slate-700"}),mt.jsxs(Gl,{onClick:()=>a("/admin"),className:"text-slate-300 hover:bg-slate-700 cursor-pointer",children:[mt.jsx(q,{className:"h-4 w-4 mr-2"}),"Admin Panel"]})]}),mt.jsx(Hl,{className:"bg-slate-700"}),mt.jsxs(Gl,{onClick:x,className:"text-red-400 hover:bg-slate-700 cursor-pointer",children:[mt.jsx(X,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})]}),u&&mt.jsxs("div",{className:"md:hidden bg-slate-800 border-b border-slate-700 p-4 space-y-2 max-h-96 overflow-y-auto",children:[mt.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider px-2 mb-3",children:"Personal Dashboard"}),v.map(e=>{const t=e.icon,s=j===e.id;return mt.jsxs("button",{onClick:()=>{a(e.path),h(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-colors "+(s?"bg-blue-600 text-white":"text-slate-300 hover:bg-slate-700"),children:[mt.jsx(t,{className:"h-5 w-5 flex-shrink-0"}),mt.jsx("span",{className:"text-sm",children:e.label})]},e.id)}),f&&mt.jsxs(mt.Fragment,{children:[mt.jsx("div",{className:"my-3 border-t border-slate-700"}),mt.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider px-2 mb-3",children:"System Management"}),mt.jsxs("button",{onClick:()=>{a(y.path),h(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg transition-colors "+("admin"===j?"bg-red-600 text-white":"text-slate-300 hover:bg-slate-700"),children:[mt.jsx(y.icon,{className:"h-5 w-5 flex-shrink-0"}),mt.jsx("span",{className:"text-sm font-semibold",children:y.label})]})]})]}),mt.jsx("div",{className:"flex-1 overflow-auto bg-slate-900",children:mt.jsx("div",{className:"p-6",children:e})})]})]})};function cc({className:e,...t}){return mt.jsx("div",{"data-slot":"card",className:$l("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function dc({className:e,...t}){return mt.jsx("div",{"data-slot":"card-header",className:$l("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function uc({className:e,...t}){return mt.jsx("div",{"data-slot":"card-title",className:$l("leading-none font-semibold",e),...t})}function hc({className:e,...t}){return mt.jsx("div",{"data-slot":"card-description",className:$l("text-muted-foreground text-sm",e),...t})}function mc({className:e,...t}){return mt.jsx("div",{"data-slot":"card-content",className:$l("px-6",e),...t})}function pc(e,[t,s]){return Math.min(s,Math.max(t,e))}function xc(e){const t=fc(e),n=s.forwardRef((e,n)=>{const{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(vc);if(o){const e=o.props.children,r=i.map(t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return mt.jsx(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return mt.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function fc(e){const t=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const s={...t};for(const n in t){const r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(r,n.props);return n.type!==s.Fragment&&(a.ref=t?vt(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gc=Symbol("radix.slottable");function vc(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===gc}function yc(e){const t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});s.forwardRef((e,t)=>mt.jsx(Tt.span,{...e,ref:t,style:{...bc,...e.style}})).displayName="VisuallyHidden";var jc=[" ","Enter","ArrowUp","ArrowDown"],wc=[" ","Enter"],Nc="Select",[kc,Sc,Cc]=Lt(Nc),[Ec]=bt(Nc,[Cc,rr]),_c=rr(),[Tc,Pc]=Ec(Nc),[Ac,Rc]=Ec(Nc),Mc=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:x}=e,f=_c(t),[g,v]=s.useState(null),[y,b]=s.useState(null),[j,w]=s.useState(!1),N=Ot(d),[k,S]=kt({prop:r,defaultProp:a??!1,onChange:i,caller:Nc}),[C,E]=kt({prop:o,defaultProp:l,onChange:c,caller:Nc}),_=s.useRef(null),T=!g||(x||!!g.closest("form")),[P,A]=s.useState(new Set),R=Array.from(P).map(e=>e.props.value).join(";");return mt.jsx(br,{...f,children:mt.jsxs(Tc,{required:p,scope:t,trigger:g,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:w,contentId:ls(),value:C,onValueChange:E,open:k,onOpenChange:S,dir:N,triggerPointerDownPosRef:_,disabled:m,children:[mt.jsx(kc.Provider,{scope:t,children:mt.jsx(Ac,{scope:e.__scopeSelect,onNativeOptionAdd:s.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:s.useCallback(e=>{A(t=>{const s=new Set(t);return s.delete(e),s})},[]),children:n})}),T?mt.jsxs(gd,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:C,onChange:e=>E(e.target.value),disabled:m,form:x,children:[void 0===C?mt.jsx("option",{value:""}):null,Array.from(P)]},R):null]})})};Mc.displayName=Nc;var Dc="SelectTrigger",Lc=s.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=_c(n),o=Pc(Dc,n),l=o.disabled||r,c=yt(t,o.onTriggerChange),d=Sc(n),u=s.useRef("touch"),[h,m,p]=yd(e=>{const t=d().filter(e=>!e.disabled),s=t.find(e=>e.value===o.value),n=bd(t,e,s);void 0!==n&&o.onValueChange(n.value)}),x=e=>{l||(o.onOpenChange(!0),p()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return mt.jsx(jr,{asChild:!0,...i,children:mt.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vd(o.value)?"":void 0,...a,ref:c,onClick:ft(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==u.current&&x(e)}),onPointerDown:ft(a.onPointerDown,e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:ft(a.onKeyDown,e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||m(e.key),t&&" "===e.key||jc.includes(e.key)&&(x(),e.preventDefault())})})})});Lc.displayName=Dc;var Ic="SelectValue",Oc=s.forwardRef((e,t)=>{const{__scopeSelect:s,className:n,style:r,children:a,placeholder:i="",...o}=e,l=Pc(Ic,s),{onValueNodeHasChildrenChange:c}=l,d=void 0!==a,u=yt(t,l.onValueNodeChange);return wt(()=>{c(d)},[c,d]),mt.jsx(Tt.span,{...o,ref:u,style:{pointerEvents:"none"},children:vd(l.value)?mt.jsx(mt.Fragment,{children:i}):a})});Oc.displayName=Ic;var Fc=s.forwardRef((e,t)=>{const{__scopeSelect:s,children:n,...r}=e;return mt.jsx(Tt.span,{"aria-hidden":!0,...r,ref:t,children:n||""})});Fc.displayName="SelectIcon";var zc=e=>mt.jsx(kr,{asChild:!0,...e});zc.displayName="SelectPortal";var Vc="SelectContent",Bc=s.forwardRef((e,t)=>{const n=Pc(Vc,e.__scopeSelect),[a,i]=s.useState();if(wt(()=>{i(new DocumentFragment)},[]),!n.open){const t=a;return t?r.createPortal(mt.jsx($c,{scope:e.__scopeSelect,children:mt.jsx(kc.Slot,{scope:e.__scopeSelect,children:mt.jsx("div",{children:e.children})})}),t):null}return mt.jsx(Kc,{...e,ref:t})});Bc.displayName=Vc;var Uc=10,[$c,Wc]=Ec(Vc),Yc=xc("SelectContent.RemoveScroll"),Kc=s.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:f,avoidCollisions:g,...v}=e,y=Pc(Vc,n),[b,j]=s.useState(null),[w,N]=s.useState(null),k=yt(t,e=>j(e)),[S,C]=s.useState(null),[E,_]=s.useState(null),T=Sc(n),[P,A]=s.useState(!1),R=s.useRef(!1);s.useEffect(()=>{if(b)return ta(b)},[b]),Ht();const M=s.useCallback(e=>{const[t,...s]=T().map(e=>e.ref.current),[n]=s.slice(-1),r=document.activeElement;for(const a of e){if(a===r)return;if(null==a||a.scrollIntoView({block:"nearest"}),a===t&&w&&(w.scrollTop=0),a===n&&w&&(w.scrollTop=w.scrollHeight),null==a||a.focus(),document.activeElement!==r)return}},[T,w]),D=s.useCallback(()=>M([S,b]),[M,S,b]);s.useEffect(()=>{P&&D()},[P,D]);const{onOpenChange:L,triggerPointerDownPosRef:I}=y;s.useEffect(()=>{if(b){let e={x:0,y:0};const t=t=>{var s,n;e={x:Math.abs(Math.round(t.pageX)-((null==(s=I.current)?void 0:s.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(n=I.current)?void 0:n.y)??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():b.contains(s.target)||L(!1),document.removeEventListener("pointermove",t),I.current=null};return null!==I.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[b,L,I]),s.useEffect(()=>{const e=()=>L(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[L]);const[O,F]=yd(e=>{const t=T().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),n=bd(t,e,s);n&&setTimeout(()=>n.ref.current.focus())}),z=s.useCallback((e,t,s)=>{const n=!R.current&&!s;(void 0!==y.value&&y.value===t||n)&&(C(e),n&&(R.current=!0))},[y.value]),V=s.useCallback(()=>null==b?void 0:b.focus(),[b]),B=s.useCallback((e,t,s)=>{const n=!R.current&&!s;(void 0!==y.value&&y.value===t||n)&&_(e)},[y.value]),U="popper"===r?Hc:Gc,$=U===Hc?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:x,hideWhenDetached:f,avoidCollisions:g}:{};return mt.jsx($c,{scope:n,content:b,viewport:w,onViewportChange:N,itemRefCallback:z,selectedItem:S,onItemLeave:V,itemTextRefCallback:B,focusSelectedItem:D,selectedItemText:E,position:r,isPositioned:P,searchRef:O,children:mt.jsx(Ua,{as:Yc,allowPinchZoom:!0,children:mt.jsx(Qt,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ft(a,e=>{var t;null==(t=y.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:mt.jsx(Wt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:mt.jsx(U,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...$,onPlaced:()=>A(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:ft(v.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||F(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const s=e.target,n=t.indexOf(s);t=t.slice(n+1)}setTimeout(()=>M(t)),e.preventDefault()}})})})})})})});Kc.displayName="SelectContentImpl";var Gc=s.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Pc(Vc,n),o=Wc(Vc,n),[l,c]=s.useState(null),[d,u]=s.useState(null),h=yt(t,e=>u(e)),m=Sc(n),p=s.useRef(!1),x=s.useRef(!0),{viewport:f,selectedItem:g,selectedItemText:v,focusSelectedItem:y}=o,b=s.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&f&&g&&v){const e=i.trigger.getBoundingClientRect(),t=d.getBoundingClientRect(),s=i.valueNode.getBoundingClientRect(),n=v.getBoundingClientRect();if("rtl"!==i.dir){const r=n.left-t.left,a=s.left-r,i=e.left-a,o=e.width+i,c=Math.max(o,t.width),d=window.innerWidth-Uc,u=pc(a,[Uc,Math.max(Uc,d-c)]);l.style.minWidth=o+"px",l.style.left=u+"px"}else{const r=t.right-n.right,a=window.innerWidth-s.right-r,i=window.innerWidth-e.right-a,o=e.width+i,c=Math.max(o,t.width),d=window.innerWidth-Uc,u=pc(a,[Uc,Math.max(Uc,d-c)]);l.style.minWidth=o+"px",l.style.right=u+"px"}const a=m(),o=window.innerHeight-2*Uc,c=f.scrollHeight,u=window.getComputedStyle(d),h=parseInt(u.borderTopWidth,10),x=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),b=h+x+c+parseInt(u.paddingBottom,10)+y,j=Math.min(5*g.offsetHeight,b),w=window.getComputedStyle(f),N=parseInt(w.paddingTop,10),k=parseInt(w.paddingBottom,10),S=e.top+e.height/2-Uc,C=o-S,E=g.offsetHeight/2,_=h+x+(g.offsetTop+E),T=b-_;if(_<=S){const e=a.length>0&&g===a[a.length-1].ref.current;l.style.bottom="0px";const t=d.clientHeight-f.offsetTop-f.offsetHeight,s=_+Math.max(C,E+(e?k:0)+t+y);l.style.height=s+"px"}else{const e=a.length>0&&g===a[0].ref.current;l.style.top="0px";const t=Math.max(S,h+f.offsetTop+(e?N:0)+E)+T;l.style.height=t+"px",f.scrollTop=_-S+f.offsetTop}l.style.margin=`${Uc}px 0`,l.style.minHeight=j+"px",l.style.maxHeight=o+"px",null==r||r(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,l,d,f,g,v,i.dir,r]);wt(()=>b(),[b]);const[j,w]=s.useState();wt(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const N=s.useCallback(e=>{e&&!0===x.current&&(b(),null==y||y(),x.current=!1)},[b,y]);return mt.jsx(qc,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:mt.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:mt.jsx(Tt.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Gc.displayName="SelectItemAlignedPosition";var Hc=s.forwardRef((e,t)=>{const{__scopeSelect:s,align:n="start",collisionPadding:r=Uc,...a}=e,i=_c(s);return mt.jsx(wr,{...i,...a,ref:t,align:n,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hc.displayName="SelectPopperPosition";var[qc,Xc]=Ec(Vc,{}),Zc="SelectViewport",Jc=s.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=Wc(Zc,n),o=Xc(Zc,n),l=yt(t,i.onViewportChange),c=s.useRef(0);return mt.jsxs(mt.Fragment,{children:[mt.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),mt.jsx(kc.Slot,{scope:n,children:mt.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ft(a.onScroll,e=>{const t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:n}=o;if((null==n?void 0:n.current)&&s){const e=Math.abs(c.current-t.scrollTop);if(e>0){const n=window.innerHeight-2*Uc,r=parseFloat(s.style.minHeight),a=parseFloat(s.style.height),i=Math.max(r,a);if(i<n){const r=i+e,a=Math.min(n,r),o=r-a;s.style.height=a+"px","0px"===s.style.bottom&&(t.scrollTop=o>0?o:0,s.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});Jc.displayName=Zc;var Qc="SelectGroup",[ed,td]=Ec(Qc);s.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,r=ls();return mt.jsx(ed,{scope:s,id:r,children:mt.jsx(Tt.div,{role:"group","aria-labelledby":r,...n,ref:t})})}).displayName=Qc;var sd="SelectLabel";s.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,r=td(sd,s);return mt.jsx(Tt.div,{id:r.id,...n,ref:t})}).displayName=sd;var nd="SelectItem",[rd,ad]=Ec(nd),id=s.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Pc(nd,n),c=Wc(nd,n),d=l.value===r,[u,h]=s.useState(i??""),[m,p]=s.useState(!1),x=yt(t,e=>{var t;return null==(t=c.itemRefCallback)?void 0:t.call(c,e,r,a)}),f=ls(),g=s.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return mt.jsx(rd,{scope:n,value:r,disabled:a,textId:f,isSelected:d,onItemTextChange:s.useCallback(e=>{h(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:mt.jsx(kc.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:mt.jsx(Tt.div,{role:"option","aria-labelledby":f,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:ft(o.onFocus,()=>p(!0)),onBlur:ft(o.onBlur,()=>p(!1)),onClick:ft(o.onClick,()=>{"mouse"!==g.current&&v()}),onPointerUp:ft(o.onPointerUp,()=>{"mouse"===g.current&&v()}),onPointerDown:ft(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:ft(o.onPointerMove,e=>{var t;g.current=e.pointerType,a?null==(t=c.onItemLeave)||t.call(c):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=c.onItemLeave)||t.call(c))}),onKeyDown:ft(o.onKeyDown,e=>{var t;""!==(null==(t=c.searchRef)?void 0:t.current)&&" "===e.key||(wc.includes(e.key)&&v()," "===e.key&&e.preventDefault())})})})})});id.displayName=nd;var od="SelectItemText",ld=s.forwardRef((e,t)=>{const{__scopeSelect:n,className:a,style:i,...o}=e,l=Pc(od,n),c=Wc(od,n),d=ad(od,n),u=Rc(od,n),[h,m]=s.useState(null),p=yt(t,e=>m(e),d.onItemTextChange,e=>{var t;return null==(t=c.itemTextRefCallback)?void 0:t.call(c,e,d.value,d.disabled)}),x=null==h?void 0:h.textContent,f=s.useMemo(()=>mt.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return wt(()=>(g(f),()=>v(f)),[g,v,f]),mt.jsxs(mt.Fragment,{children:[mt.jsx(Tt.span,{id:d.textId,...o,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?r.createPortal(o.children,l.valueNode):null]})});ld.displayName=od;var cd="SelectItemIndicator",dd=s.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return ad(cd,s).isSelected?mt.jsx(Tt.span,{"aria-hidden":!0,...n,ref:t}):null});dd.displayName=cd;var ud="SelectScrollUpButton",hd=s.forwardRef((e,t)=>{const n=Wc(ud,e.__scopeSelect),r=Xc(ud,e.__scopeSelect),[a,i]=s.useState(!1),o=yt(t,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?mt.jsx(xd,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});hd.displayName=ud;var md="SelectScrollDownButton",pd=s.forwardRef((e,t)=>{const n=Wc(md,e.__scopeSelect),r=Xc(md,e.__scopeSelect),[a,i]=s.useState(!1),o=yt(t,r.onScrollButtonChange);return wt(()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,s=Math.ceil(t.scrollTop)<e;i(s)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[n.viewport,n.isPositioned]),a?mt.jsx(xd,{...e,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});pd.displayName=md;var xd=s.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=Wc("SelectScrollButton",n),o=s.useRef(null),l=Sc(n),c=s.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return s.useEffect(()=>()=>c(),[c]),wt(()=>{var e;const t=l().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[l]),mt.jsx(Tt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ft(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:ft(a.onPointerMove,()=>{var e;null==(e=i.onItemLeave)||e.call(i),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:ft(a.onPointerLeave,()=>{c()})})});s.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e;return mt.jsx(Tt.div,{"aria-hidden":!0,...n,ref:t})}).displayName="SelectSeparator";var fd="SelectArrow";s.forwardRef((e,t)=>{const{__scopeSelect:s,...n}=e,r=_c(s),a=Pc(fd,s),i=Wc(fd,s);return a.open&&"popper"===i.position?mt.jsx(Nr,{...r,...n,ref:t}):null}).displayName=fd;var gd=s.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=s.useRef(null),i=yt(r,a),o=yc(t);return s.useEffect(()=>{const e=a.current;if(!e)return;const s=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(s,"value").set;if(o!==t&&n){const s=new Event("change",{bubbles:!0});n.call(e,t),e.dispatchEvent(s)}},[o,t]),mt.jsx(Tt.select,{...n,style:{...bc,...n.style},ref:i,defaultValue:t})});function vd(e){return""===e||void 0===e}function yd(e){const t=Ft(e),n=s.useRef(""),r=s.useRef(0),a=s.useCallback(e=>{const s=n.current+e;t(s),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),i=s.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function bd(e,t,s){const n=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=s?e.indexOf(s):-1;let a=(i=e,o=Math.max(r,0),i.map((e,t)=>i[(o+t)%i.length]));var i,o;1===n.length&&(a=a.filter(e=>e!==s));const l=a.find(e=>e.textValue.toLowerCase().startsWith(n.toLowerCase()));return l!==s?l:void 0}gd.displayName="SelectBubbleInput";var jd=Mc,wd=Lc,Nd=Oc,kd=Fc,Sd=zc,Cd=Bc,Ed=Jc,_d=id,Td=ld,Pd=dd,Ad=hd,Rd=pd;function Md({...e}){return mt.jsx(jd,{"data-slot":"select",...e})}function Dd({...e}){return mt.jsx(Nd,{"data-slot":"select-value",...e})}function Ld({className:e,size:t="default",children:s,...n}){return mt.jsxs(wd,{"data-slot":"select-trigger","data-size":t,className:$l("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n,children:[s,mt.jsx(kd,{asChild:!0,children:mt.jsx(ee,{className:"size-4 opacity-50"})})]})}function Id({className:e,children:t,position:s="popper",...n}){return mt.jsx(Sd,{children:mt.jsxs(Cd,{"data-slot":"select-content",className:$l("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...n,children:[mt.jsx(Fd,{}),mt.jsx(Ed,{className:$l("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),mt.jsx(zd,{})]})})}function Od({className:e,children:t,...s}){return mt.jsxs(_d,{"data-slot":"select-item",className:$l("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[mt.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:mt.jsx(Pd,{children:mt.jsx(te,{className:"size-4"})})}),mt.jsx(Td,{children:t})]})}function Fd({className:e,...t}){return mt.jsx(Ad,{"data-slot":"select-scroll-up-button",className:$l("flex cursor-default items-center justify-center py-1",e),...t,children:mt.jsx(se,{className:"size-4"})})}function zd({className:e,...t}){return mt.jsx(Rd,{"data-slot":"select-scroll-down-button",className:$l("flex cursor-default items-center justify-center py-1",e),...t,children:mt.jsx(ee,{className:"size-4"})})}const Vd=()=>{const[e,t]=s.useState("7d"),[n,r]=s.useState({totalLinks:0,totalClicks:0,avgClicksPerLink:0}),[a,i]=s.useState([]),[o,l]=s.useState([]),[c,d]=s.useState([]),[u,h]=s.useState([]),[m,p]=s.useState(!0),[x,C]=s.useState(""),E=async e=>{var t,s,n,a,o,c;try{p(!0);const u=await fetch(`/api/analytics/dashboard?period=${e}`),m=await u.json();if(m){const e={totalLinks:m.totalLinks||0,totalClicks:m.totalClicks||0,avgClicksPerLink:m.totalClicks&&m.totalLinks?(m.totalClicks/m.totalLinks).toFixed(1):0,realVisitors:m.realVisitors||0,capturedEmails:m.capturedEmails||0,activeLinks:m.activeLinks||0,conversionRate:m.conversionRate||0,deviceDesktop:(null==(t=m.deviceBreakdown)?void 0:t.desktop)||0,deviceMobile:(null==(s=m.deviceBreakdown)?void 0:s.mobile)||0,deviceTablet:(null==(n=m.deviceBreakdown)?void 0:n.tablet)||0,deviceDesktopPercent:(null==(a=m.deviceBreakdown)?void 0:a.desktop)||0,deviceMobilePercent:(null==(o=m.deviceBreakdown)?void 0:o.mobile)||0,deviceTabletPercent:(null==(c=m.deviceBreakdown)?void 0:c.tablet)||0};r(e),i(m.performanceOverTime||[]),l(m.topCountries||[]),d(m.campaignPerformance||[]),h(m.recentCaptures||[])}}catch(u){}finally{p(!1)}};s.useEffect(()=>{E(e)},[e]);const _=e=>{t(e)},T={realVisitors:n.realVisitors||0,capturedEmails:n.capturedEmails||0,activeLinks:n.activeLinks||0,conversionRate:n.conversionRate||0,countries:o.length||0},P=[{name:"Desktop",value:0,percentage:0,color:"#8b5cf6"},{name:"Mobile",value:0,percentage:0,color:"#06b6d4"},{name:"Tablet",value:0,percentage:0,color:"#10b981"}],A=a.length>0?a.map(e=>({date:e.date,clicks:e.clicks||0,visitors:e.visitors||0,emails:e.emails||0})):[],R=o.length>0?o:[],M=c.length>0?c:[],D=u.length>0?u.slice(0,5):[];return mt.jsxs("div",{className:"space-y-6",children:[mt.jsxs("div",{className:"mb-8",children:[mt.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Advanced Analytics Dashboard"}),mt.jsx("p",{className:"text-slate-400",children:"Comprehensive tracking and performance metrics"})]}),mt.jsxs("div",{className:"space-y-4 mb-8",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[mt.jsxs(Md,{defaultValue:"all",children:[mt.jsx(Ld,{className:"w-full sm:w-[180px] bg-slate-800 border-slate-700 text-white",children:mt.jsx(Dd,{placeholder:"All"})}),mt.jsxs(Id,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(Od,{value:"all",children:"All"}),mt.jsx(Od,{value:"campaigns",children:"Campaigns"}),mt.jsx(Od,{value:"links",children:"Links"})]})]}),mt.jsx("div",{className:"flex-1",children:mt.jsxs("div",{className:"relative",children:[mt.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),mt.jsx("input",{type:"text",placeholder:"Search campaigns, emails, tracking...",value:x,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-800 border border-slate-700 rounded-md text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})]}),mt.jsxs("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:[mt.jsx(oc,{variant:"24h"===e?"default":"outline",size:"sm",onClick:()=>_("24h"),className:"24h"===e?"bg-blue-600 hover:bg-blue-700":"border-slate-600 text-slate-300 hover:bg-slate-700",children:"24h"}),mt.jsx(oc,{variant:"7d"===e?"default":"outline",size:"sm",onClick:()=>_("7d"),className:"7d"===e?"bg-blue-600 hover:bg-blue-700":"border-slate-600 text-slate-300 hover:bg-slate-700",children:"7d"}),mt.jsx(oc,{variant:"30d"===e?"default":"outline",size:"sm",onClick:()=>_("30d"),className:"30d"===e?"bg-blue-600 hover:bg-blue-700":"border-slate-600 text-slate-300 hover:bg-slate-700",children:"30d"}),mt.jsx(oc,{variant:"90d"===e?"default":"outline",size:"sm",onClick:()=>_("90d"),className:"90d"===e?"bg-blue-600 hover:bg-blue-700":"border-slate-600 text-slate-300 hover:bg-slate-700",children:"90d"}),mt.jsxs(oc,{onClick:()=>{E(e)},size:"sm",variant:"outline",className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]}),mt.jsxs(oc,{size:"sm",variant:"outline",className:"h-9 px-3",onClick:()=>{if(0===a.length)return void alert("No data to export.");const e=[["Date","Clicks","Visitors","Emails"].join(",")];a.forEach(t=>{const s=[`"${t.date}"`,`"${t.clicks}"`,`"${t.visitors}"`,`"${t.emails}"`];e.push(s.join(","))});const t=e.join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");n.href=URL.createObjectURL(s),n.setAttribute("download","dashboard_performance_data.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:[mt.jsx(ae,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),mt.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-3 mb-8",children:[mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Total Links"}),mt.jsx(ie,{className:"h-4 w-4 text-blue-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:n.totalLinks||6})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-green-500/10 to-green-600/5 border-green-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Total Clicks"}),mt.jsx(oe,{className:"h-4 w-4 text-green-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:n.totalClicks||4})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Real Visitors"}),mt.jsx(le,{className:"h-4 w-4 text-purple-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:T.realVisitors})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Captured Emails"}),mt.jsx(ce,{className:"h-4 w-4 text-orange-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:T.capturedEmails})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border-emerald-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Active Links"}),mt.jsx(B,{className:"h-4 w-4 text-emerald-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:T.activeLinks})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-yellow-500/10 to-yellow-600/5 border-yellow-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Conversion Rate"}),mt.jsx(de,{className:"h-4 w-4 text-yellow-500"})]}),mt.jsxs("p",{className:"text-3xl font-bold text-white",children:[T.conversionRate,"%"]})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-indigo-500/10 to-indigo-600/5 border-indigo-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Avg Clicks/Link"}),mt.jsx(de,{className:"h-4 w-4 text-indigo-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:n.avgClicksPerLink||0})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-cyan-500/10 to-cyan-600/5 border-cyan-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Countries"}),mt.jsx(W,{className:"h-4 w-4 text-cyan-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:T.countries})]})})}),mt.jsx(cc,{className:"hover:shadow-md transition-all cursor-pointer bg-gradient-to-br from-red-500/10 to-red-600/5 border-red-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex flex-col gap-1",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Total Campaigns"}),mt.jsx(de,{className:"h-4 w-4 text-red-500"})]}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:n.totalLinks||6})]})})})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[mt.jsxs(cc,{className:"hover:shadow-md transition-shadow",children:[mt.jsxs(dc,{className:"pb-3",children:[mt.jsx(uc,{className:"text-lg font-semibold",children:"Performance Over Time"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Clicks, visitors, and email captures"})]}),mt.jsxs(mc,{className:"p-4 pt-0",children:[mt.jsx(f,{width:"100%",height:300,children:mt.jsxs(g,{data:A,children:[mt.jsxs("defs",{children:[mt.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[mt.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.8}),mt.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:.1})]}),mt.jsxs("linearGradient",{id:"colorVisitors",x1:"0",y1:"0",x2:"0",y2:"1",children:[mt.jsx("stop",{offset:"5%",stopColor:"#06b6d4",stopOpacity:.8}),mt.jsx("stop",{offset:"95%",stopColor:"#06b6d4",stopOpacity:.1})]}),mt.jsxs("linearGradient",{id:"colorEmails",x1:"0",y1:"0",x2:"0",y2:"1",children:[mt.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),mt.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),mt.jsx(v,{strokeDasharray:"3 3",className:"opacity-20"}),mt.jsx(y,{dataKey:"date",fontSize:11,tickLine:!1,axisLine:!1}),mt.jsx(b,{fontSize:11,tickLine:!1,axisLine:!1}),mt.jsx(j,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),mt.jsx(w,{type:"monotone",dataKey:"clicks",stroke:"#8b5cf6",strokeWidth:2,fillOpacity:1,fill:"url(#colorClicks)",name:"Clicks"}),mt.jsx(w,{type:"monotone",dataKey:"visitors",stroke:"#06b6d4",strokeWidth:2,fillOpacity:1,fill:"url(#colorVisitors)",name:"Visitors"}),mt.jsx(w,{type:"monotone",dataKey:"emails",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorEmails)",name:"Email Captures"})]})}),mt.jsxs("div",{className:"flex justify-center gap-4 mt-3",children:[mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),mt.jsx("span",{className:"text-xs text-muted-foreground",children:"Clicks"})]}),mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),mt.jsx("span",{className:"text-xs text-muted-foreground",children:"Visitors"})]}),mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),mt.jsx("span",{className:"text-xs text-muted-foreground",children:"Email Captures"})]})]})]})]}),mt.jsxs(cc,{className:"hover:shadow-md transition-shadow",children:[mt.jsxs(dc,{className:"pb-3",children:[mt.jsx(uc,{className:"text-lg font-semibold",children:"Device Breakdown"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Traffic distribution by device type"})]}),mt.jsxs(mc,{className:"p-4 pt-0",children:[mt.jsx(f,{width:"100%",height:300,children:mt.jsxs(N,{children:[mt.jsx(k,{data:P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:110,paddingAngle:3,dataKey:"value",children:P.map((e,t)=>mt.jsx(S,{fill:e.color},`cell-${t}`))}),mt.jsx(j,{formatter:(e,t)=>[e.toLocaleString(),t],contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}})]})}),mt.jsx("div",{className:"flex justify-center gap-4 mt-3",children:P.map((e,t)=>mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),mt.jsx("span",{className:"text-xs text-muted-foreground",children:e.name})]},t))})]})]})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[mt.jsxs(cc,{className:"hover:shadow-md transition-shadow",children:[mt.jsxs(dc,{className:"pb-3",children:[mt.jsx(uc,{className:"text-lg font-semibold",children:"Top Countries"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Geographic distribution"})]}),mt.jsx(mc,{className:"p-4 pt-0",children:mt.jsx("div",{className:"space-y-3",children:R.map((e,t)=>mt.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx("span",{className:"text-2xl",children:e.flag}),mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium",children:e.country}),mt.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.clicks," clicks  ",e.emails," emails"]})]})]}),mt.jsxs("div",{className:"text-right",children:[mt.jsxs("p",{className:"text-sm font-semibold",children:[e.percentage,"%"]}),mt.jsx("div",{className:"w-16 h-1.5 bg-muted rounded-full mt-1 overflow-hidden",children:mt.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${e.percentage}%`}})})]})]},t))})})]}),mt.jsxs(cc,{className:"hover:shadow-md transition-shadow",children:[mt.jsxs(dc,{className:"pb-3",children:[mt.jsx(uc,{className:"text-lg font-semibold",children:"Campaign Performance"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Top performing campaigns"})]}),mt.jsx(mc,{className:"p-4 pt-0",children:mt.jsx("div",{className:"space-y-3",children:M.map((e,t)=>mt.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[mt.jsxs("div",{className:"flex items-start justify-between mb-2",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium",children:e.name}),mt.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",e.id]})]}),mt.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("active"===e.status?"bg-green-500/20 text-green-600 dark:text-green-400":"bg-gray-500/20 text-gray-600 dark:text-gray-400"),children:e.status})]}),mt.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[mt.jsxs("span",{children:[e.clicks," clicks"]}),mt.jsxs("span",{children:[e.emails," emails"]}),mt.jsxs("span",{className:"font-medium",children:[e.conversion," conversion"]})]})]},t))})})]}),mt.jsxs(cc,{className:"hover:shadow-md transition-shadow",children:[mt.jsxs(dc,{className:"pb-3",children:[mt.jsx(uc,{className:"text-lg font-semibold",children:"Recent Captures"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Latest email captures"})]}),mt.jsx(mc,{className:"p-4 pt-0",children:D.length>0?mt.jsx("div",{className:"space-y-3",children:D.map((e,t)=>mt.jsx("div",{className:"p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:mt.jsx(ce,{className:"h-4 w-4 text-primary"})}),mt.jsxs("div",{className:"flex-1 min-w-0",children:[mt.jsx("p",{className:"text-sm font-medium truncate",children:e.email}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:e.timestamp})]})]})},t))}):mt.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[mt.jsx(ce,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),mt.jsx("p",{className:"text-sm text-muted-foreground",children:"No email captures yet"}),mt.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Captured emails will appear here"})]})})]})]})]})},Bd=ac("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ud({className:e,variant:t,asChild:s=!1,...n}){const r=s?Ql:"span";return mt.jsx(r,{"data-slot":"badge",className:$l(Bd({variant:t}),e),...n})}function $d(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:s,scopeName:n})=>({...t,...s(e)[`__scope${n}`]}),{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var Wd=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Jl(`Primitive.${t}`),r=s.forwardRef((e,s)=>{const{asChild:r,...a}=e,i=r?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),mt.jsx(i,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Yd="Progress",[Kd]=function(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>s.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return s.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const a=s.createContext(r);a.displayName=t+"Context";const i=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...l}=t,c=(null==(n=null==r?void 0:r[e])?void 0:n[i])||a,d=s.useMemo(()=>l,Object.values(l));return mt.jsx(c.Provider,{value:d,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var l;const c=(null==(l=null==o?void 0:o[e])?void 0:l[i])||a,d=s.useContext(c);if(d)return d;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},$d(r,...t)]}(Yd),[Gd,Hd]=Kd(Yd),qd=s.forwardRef((e,t)=>{const{__scopeProgress:s,value:n=null,max:r,getValueLabel:a=Jd,...i}=e;(r||0===r)&&tu(r);const o=tu(r)?r:100;null!==n&&su(n,o);const l=su(n,o)?n:null,c=eu(l)?a(l,o):void 0;return mt.jsx(Gd,{scope:s,value:l,max:o,children:mt.jsx(Wd.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":eu(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Qd(l,o),"data-value":l??void 0,"data-max":o,...i,ref:t})})});qd.displayName=Yd;var Xd="ProgressIndicator",Zd=s.forwardRef((e,t)=>{const{__scopeProgress:s,...n}=e,r=Hd(Xd,s);return mt.jsx(Wd.div,{"data-state":Qd(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...n,ref:t})});function Jd(e,t){return`${Math.round(e/t*100)}%`}function Qd(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function eu(e){return"number"==typeof e}function tu(e){return eu(e)&&!isNaN(e)&&e>0}function su(e,t){return eu(e)&&!isNaN(e)&&e<=t&&e>=0}Zd.displayName=Xd;var nu=qd,ru=Zd;function au({className:e,value:t,...s}){return mt.jsx(nu,{"data-slot":"progress",className:$l("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:mt.jsx(ru,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}const iu=()=>{const[e,t]=s.useState("7"),[n,r]=s.useState(!0),[a,i]=s.useState({totalClicks:0,uniqueVisitors:0,conversionRate:0,bounceRate:0,capturedEmails:0,activeLinks:0,avgSessionDuration:0}),[o,l]=s.useState([]),[c,d]=s.useState([]),[u,h]=s.useState([]),[m,p]=s.useState([]);s.useEffect(()=>{x()},[e]);const x=async()=>{r(!0);try{const t=await fetch(`/api/analytics/overview?period=${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(t.ok){const e=await t.json();i({totalClicks:e.totalClicks||0,uniqueVisitors:e.uniqueVisitors||0,conversionRate:e.conversionRate||0,bounceRate:e.bounceRate||0,capturedEmails:e.capturedEmails||0,activeLinks:e.activeLinks||0,avgSessionDuration:e.avgSessionDuration||0}),l(e.topCampaigns||[]),h(e.countries||[]),d(e.devices||[]),p(e.performanceData||[])}else i({totalClicks:0,uniqueVisitors:0,conversionRate:0,bounceRate:0,capturedEmails:0,activeLinks:0,avgSessionDuration:0}),l([]),h([]),d([]),p([])}catch(t){}finally{r(!1)}};return mt.jsxs("div",{className:"space-y-6",children:[mt.jsxs("div",{className:"mb-8",children:[mt.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Advanced Analytics"}),mt.jsx("p",{className:"text-slate-400",children:"Detailed performance insights and metrics"})]}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[mt.jsxs(Md,{value:e,onValueChange:t,children:[mt.jsx(Ld,{className:"w-full sm:w-[180px] bg-slate-800 border-slate-700 text-white",children:mt.jsx(Dd,{placeholder:"Select time range"})}),mt.jsxs(Id,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(Od,{value:"1",children:"Last 24 hours"}),mt.jsx(Od,{value:"7",children:"Last 7 days"}),mt.jsx(Od,{value:"30",children:"Last 30 days"}),mt.jsx(Od,{value:"90",children:"Last 90 days"})]})]}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsxs(oc,{variant:"outline",size:"sm",onClick:()=>{x()},className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]}),mt.jsxs(oc,{variant:"outline",size:"sm",onClick:()=>{const e=[["Metric","Value"],["Total Clicks",a.totalClicks],["Unique Visitors",a.uniqueVisitors],["Conversion Rate",`${a.conversionRate}%`],["Bounce Rate",`${a.bounceRate}%`],["Captured Emails",a.capturedEmails],["Active Links",a.activeLinks],["Avg Session Duration",`${a.avgSessionDuration}m`]].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download=`analytics-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s)},className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[mt.jsx(ae,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),mt.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[mt.jsx(cc,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20 hover:shadow-lg transition-all",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Total Clicks"}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:a.totalClicks.toLocaleString()}),mt.jsx("p",{className:"text-xs text-green-400 mt-1",children:"+12% from last period"})]}),mt.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:mt.jsx(oe,{className:"h-6 w-6 text-blue-400"})})]})})}),mt.jsx(cc,{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border-green-500/20 hover:shadow-lg transition-all",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Unique Visitors"}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:a.uniqueVisitors.toLocaleString()}),mt.jsx("p",{className:"text-xs text-green-400 mt-1",children:"+8% from last period"})]}),mt.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:mt.jsx(ue,{className:"h-6 w-6 text-green-400"})})]})})}),mt.jsx(cc,{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20 hover:shadow-lg transition-all",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Conversion Rate"}),mt.jsxs("p",{className:"text-3xl font-bold text-white",children:[a.conversionRate,"%"]}),mt.jsx("p",{className:"text-xs text-green-400 mt-1",children:"+2.3% from last period"})]}),mt.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:mt.jsx(B,{className:"h-6 w-6 text-purple-400"})})]})})})]}),mt.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3 mb-6",children:[mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-blue-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Total Clicks"}),mt.jsx("p",{className:"text-xl font-bold",children:a.totalClicks.toLocaleString()})]}),mt.jsx(oe,{className:"h-4 w-4 text-blue-500"})]})})}),mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-green-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Unique Visitors"}),mt.jsx("p",{className:"text-xl font-bold",children:a.uniqueVisitors.toLocaleString()})]}),mt.jsx(ue,{className:"h-4 w-4 text-green-500"})]})})}),mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-purple-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Conversion Rate"}),mt.jsxs("p",{className:"text-xl font-bold",children:[a.conversionRate,"%"]})]}),mt.jsx(he,{className:"h-4 w-4 text-purple-500"})]})})}),mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-orange-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Bounce Rate"}),mt.jsxs("p",{className:"text-xl font-bold",children:[a.bounceRate,"%"]})]}),mt.jsx(me,{className:"h-4 w-4 text-orange-500"})]})})}),mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-teal-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Captured Emails"}),mt.jsx("p",{className:"text-xl font-bold",children:a.capturedEmails})]}),mt.jsx(ce,{className:"h-4 w-4 text-teal-500"})]})})}),mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-indigo-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Active Links"}),mt.jsx("p",{className:"text-xl font-bold",children:a.activeLinks})]}),mt.jsx(B,{className:"h-4 w-4 text-indigo-500"})]})})}),mt.jsx(cc,{className:"hover:shadow-sm transition-shadow cursor-pointer border-l-4 border-l-pink-500",children:mt.jsx(mc,{className:"p-3",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Avg Session"}),mt.jsxs("p",{className:"text-xl font-bold",children:[a.avgSessionDuration,"m"]})]}),mt.jsx(pe,{className:"h-4 w-4 text-pink-500"})]})})})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[mt.jsxs(cc,{className:"hover:shadow-sm transition-shadow",children:[mt.jsxs(dc,{className:"pb-2",children:[mt.jsx(uc,{className:"text-base font-semibold",children:"Performance Trends"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Clicks, visitors, and conversions over time"})]}),mt.jsx(mc,{className:"p-4",children:mt.jsx(f,{width:"100%",height:280,children:mt.jsxs(g,{data:m,children:[mt.jsxs("defs",{children:[mt.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[mt.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),mt.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),mt.jsxs("linearGradient",{id:"colorVisitors",x1:"0",y1:"0",x2:"0",y2:"1",children:[mt.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),mt.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]}),mt.jsxs("linearGradient",{id:"colorConversions",x1:"0",y1:"0",x2:"0",y2:"1",children:[mt.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),mt.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]})]}),mt.jsx(v,{strokeDasharray:"3 3",className:"opacity-30"}),mt.jsx(y,{dataKey:"date",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:e=>e.split("-")[2]}),mt.jsx(b,{fontSize:10,tickLine:!1,axisLine:!1}),mt.jsx(j,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"}}),mt.jsx(w,{type:"monotone",dataKey:"clicks",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorClicks)"}),mt.jsx(w,{type:"monotone",dataKey:"visitors",stroke:"#10b981",fillOpacity:1,fill:"url(#colorVisitors)"}),mt.jsx(w,{type:"monotone",dataKey:"conversions",stroke:"#f59e0b",fillOpacity:1,fill:"url(#colorConversions)"})]})})})]}),mt.jsxs(cc,{className:"hover:shadow-sm transition-shadow",children:[mt.jsxs(dc,{className:"pb-2",children:[mt.jsx(uc,{className:"text-base font-semibold",children:"Device Distribution"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Traffic breakdown by device type"})]}),mt.jsxs(mc,{className:"p-4",children:[mt.jsx(f,{width:"100%",height:280,children:mt.jsxs(N,{children:[mt.jsx(k,{data:c,cx:"50%",cy:"50%",innerRadius:50,outerRadius:100,paddingAngle:2,dataKey:"value",children:c.map((e,t)=>mt.jsx(S,{fill:e.color},`cell-${t}`))}),mt.jsx(j,{formatter:(e,t)=>[e.toLocaleString(),t],contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"}})]})}),mt.jsx("div",{className:"flex justify-center gap-4 mt-2",children:c.map((e,t)=>mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),mt.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.name," ",e.percentage,"%"]})]},t))})]})]}),mt.jsxs(cc,{className:"hover:shadow-sm transition-shadow",children:[mt.jsxs(dc,{className:"pb-2",children:[mt.jsx(uc,{className:"text-base font-semibold",children:"Geographic Distribution"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Top countries by traffic volume"})]}),mt.jsx(mc,{className:"p-4",children:mt.jsx(f,{width:"100%",height:280,children:mt.jsxs(C,{data:u.slice(0,5),layout:"horizontal",children:[mt.jsx(v,{strokeDasharray:"3 3",className:"opacity-30"}),mt.jsx(y,{type:"number",fontSize:10,tickLine:!1,axisLine:!1}),mt.jsx(b,{type:"category",dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1,width:80}),mt.jsx(j,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"}}),mt.jsx(E,{dataKey:"clicks",fill:"#3b82f6",radius:[0,4,4,0]})]})})})]}),mt.jsxs(cc,{className:"hover:shadow-sm transition-shadow",children:[mt.jsxs(dc,{className:"pb-2",children:[mt.jsx(uc,{className:"text-base font-semibold",children:"Campaign Performance"}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Top performing campaigns by conversion rate"})]}),mt.jsx(mc,{className:"p-4",children:mt.jsx(f,{width:"100%",height:280,children:mt.jsxs(C,{data:o.slice(0,5),children:[mt.jsx(v,{strokeDasharray:"3 3",className:"opacity-30"}),mt.jsx(y,{dataKey:"name",fontSize:10,tickLine:!1,axisLine:!1,angle:-45,textAnchor:"end",height:60}),mt.jsx(b,{fontSize:10,tickLine:!1,axisLine:!1}),mt.jsx(j,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"}}),mt.jsx(E,{dataKey:"rate",fill:"#10b981",radius:[4,4,0,0]})]})})})]})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[mt.jsxs(cc,{children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-base font-semibold",children:"Top Countries"}),mt.jsx(hc,{children:"Traffic distribution by country"})]}),mt.jsx(mc,{children:mt.jsx("div",{className:"space-y-3",children:u.slice(0,6).map((e,t)=>mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx("span",{className:"text-lg",children:e.flag}),mt.jsxs("div",{children:[mt.jsx("p",{className:"font-medium text-sm",children:e.name}),mt.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.clicks.toLocaleString()," clicks"]})]})]}),mt.jsxs("div",{className:"text-right",children:[mt.jsxs("p",{className:"font-medium text-sm",children:[e.percentage,"%"]}),mt.jsx(au,{value:e.percentage,className:"w-16 h-2"})]})]},t))})})]}),mt.jsxs(cc,{children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-base font-semibold",children:"Campaign Performance"}),mt.jsx(hc,{children:"Top performing campaigns"})]}),mt.jsx(mc,{children:mt.jsx("div",{className:"space-y-3",children:o.slice(0,5).map((e,t)=>mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:mt.jsx(he,{className:"h-4 w-4 text-white"})}),mt.jsxs("div",{children:[mt.jsx("p",{className:"font-medium text-sm",children:e.name}),mt.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.clicks.toLocaleString()," clicks  ",e.conversions," conversions"]})]})]}),mt.jsx("div",{className:"text-right",children:mt.jsxs(Ud,{variant:"active"===e.status?"default":"secondary",children:[e.rate,"%"]})})]},t))})})]})]})]})};function ou({className:e,type:t,...s}){return mt.jsx("input",{type:t,"data-slot":"input",className:$l("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var lu=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Jl(`Primitive.${t}`),r=s.forwardRef((e,s)=>{const{asChild:r,...a}=e,i=r?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),mt.jsx(i,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),cu=s.forwardRef((e,t)=>mt.jsx(lu.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));cu.displayName="Label";var du=cu;function uu({className:e,...t}){return mt.jsx(du,{"data-slot":"label",className:$l("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function hu({className:e,...t}){return mt.jsx("textarea",{"data-slot":"textarea",className:$l("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function mu(e){const t=pu(e),n=s.forwardRef((e,n)=>{const{children:r,...a}=e,i=s.Children.toArray(r),o=i.find(fu);if(o){const e=o.props.children,r=i.map(t=>t===o?s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null:t);return mt.jsx(t,{...a,ref:n,children:s.isValidElement(e)?s.cloneElement(e,void 0,r):null})}return mt.jsx(t,{...a,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function pu(e){const t=s.forwardRef((e,t)=>{const{children:n,...r}=e;if(s.isValidElement(n)){const e=function(e){var t,s;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=n&&"isReactWarning"in n&&n.isReactWarning;if(r)return e.ref;if(n=null==(s=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:s.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r)return e.props.ref;return e.props.ref||e.ref}(n),a=function(e,t){const s={...t};for(const n in t){const r=e[n],a=t[n];/^on[A-Z]/.test(n)?r&&a?s[n]=(...e)=>{const t=a(...e);return r(...e),t}:r&&(s[n]=r):"style"===n?s[n]={...r,...a}:"className"===n&&(s[n]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}(r,n.props);return n.type!==s.Fragment&&(a.ref=t?vt(t,e):e),s.cloneElement(n,a)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xu=Symbol("radix.slottable");function fu(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===xu}var gu="Dialog",[vu]=bt(gu),[yu,bu]=vu(gu),ju=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=s.useRef(null),c=s.useRef(null),[d,u]=kt({prop:r,defaultProp:a??!1,onChange:i,caller:gu});return mt.jsx(yu,{scope:t,triggerRef:l,contentRef:c,contentId:ls(),titleId:ls(),descriptionId:ls(),open:d,onOpenChange:u,onOpenToggle:s.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};ju.displayName=gu;var wu="DialogTrigger",Nu=s.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,r=bu(wu,s),a=yt(t,r.triggerRef);return mt.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":$u(r.open),...n,ref:a,onClick:ft(e.onClick,r.onOpenToggle)})});Nu.displayName=wu;var ku="DialogPortal",[Su,Cu]=vu(ku,{forceMount:void 0}),Eu=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=bu(ku,t);return mt.jsx(Su,{scope:t,forceMount:n,children:s.Children.map(r,e=>mt.jsx(Sr,{present:n||i.open,children:mt.jsx(kr,{asChild:!0,container:a,children:e})}))})};Eu.displayName=ku;var _u="DialogOverlay",Tu=s.forwardRef((e,t)=>{const s=Cu(_u,e.__scopeDialog),{forceMount:n=s.forceMount,...r}=e,a=bu(_u,e.__scopeDialog);return a.modal?mt.jsx(Sr,{present:n||a.open,children:mt.jsx(Au,{...r,ref:t})}):null});Tu.displayName=_u;var Pu=mu("DialogOverlay.RemoveScroll"),Au=s.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,r=bu(_u,s);return mt.jsx(Ua,{as:Pu,allowPinchZoom:!0,shards:[r.contentRef],children:mt.jsx(Tt.div,{"data-state":$u(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ru="DialogContent",Mu=s.forwardRef((e,t)=>{const s=Cu(Ru,e.__scopeDialog),{forceMount:n=s.forceMount,...r}=e,a=bu(Ru,e.__scopeDialog);return mt.jsx(Sr,{present:n||a.open,children:a.modal?mt.jsx(Du,{...r,ref:t}):mt.jsx(Lu,{...r,ref:t})})});Mu.displayName=Ru;var Du=s.forwardRef((e,t)=>{const n=bu(Ru,e.__scopeDialog),r=s.useRef(null),a=yt(t,n.contentRef,r);return s.useEffect(()=>{const e=r.current;if(e)return ta(e)},[]),mt.jsx(Iu,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=n.triggerRef.current)||t.focus()}),onPointerDownOutside:ft(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:ft(e.onFocusOutside,e=>e.preventDefault())})}),Lu=s.forwardRef((e,t)=>{const n=bu(Ru,e.__scopeDialog),r=s.useRef(!1),a=s.useRef(!1);return mt.jsx(Iu,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,i;null==(s=e.onCloseAutoFocus)||s.call(e,t),t.defaultPrevented||(r.current||null==(i=n.triggerRef.current)||i.focus(),t.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:t=>{var s,i;null==(s=e.onInteractOutside)||s.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const o=t.target;(null==(i=n.triggerRef.current)?void 0:i.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})}),Iu=s.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=bu(Ru,n),c=s.useRef(null),d=yt(t,c);return Ht(),mt.jsxs(mt.Fragment,{children:[mt.jsx(Qt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:mt.jsx(Wt,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":$u(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),mt.jsxs(mt.Fragment,{children:[mt.jsx(Gu,{titleId:l.titleId}),mt.jsx(Hu,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ou="DialogTitle",Fu=s.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,r=bu(Ou,s);return mt.jsx(Tt.h2,{id:r.titleId,...n,ref:t})});Fu.displayName=Ou;var zu="DialogDescription",Vu=s.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,r=bu(zu,s);return mt.jsx(Tt.p,{id:r.descriptionId,...n,ref:t})});Vu.displayName=zu;var Bu="DialogClose",Uu=s.forwardRef((e,t)=>{const{__scopeDialog:s,...n}=e,r=bu(Bu,s);return mt.jsx(Tt.button,{type:"button",...n,ref:t,onClick:ft(e.onClick,()=>r.onOpenChange(!1))})});function $u(e){return e?"open":"closed"}Uu.displayName=Bu;var Wu="DialogTitleWarning",[Yu,Ku]=function(e,t){const n=s.createContext(t),r=e=>{const{children:t,...r}=e,a=s.useMemo(()=>r,Object.values(r));return mt.jsx(n.Provider,{value:a,children:t})};return r.displayName=e+"Provider",[r,function(r){const a=s.useContext(n);if(a)return a;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(Wu,{contentName:Ru,titleName:Ou,docsSlug:"dialog"}),Gu=({titleId:e})=>{const t=Ku(Wu),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{if(e){document.getElementById(e)}},[n,e]),null},Hu=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ku("DialogDescriptionWarning").contentName}}.`;return s.useEffect(()=>{var s;const n=null==(s=e.current)?void 0:s.getAttribute("aria-describedby");if(t&&n){document.getElementById(t)}},[n,e,t]),null},qu=ju,Xu=Nu,Zu=Eu,Ju=Tu,Qu=Mu,eh=Fu,th=Vu,sh=Uu;function nh({...e}){return mt.jsx(qu,{"data-slot":"dialog",...e})}function rh({...e}){return mt.jsx(Xu,{"data-slot":"dialog-trigger",...e})}function ah({...e}){return mt.jsx(Zu,{"data-slot":"dialog-portal",...e})}function ih({className:e,...t}){return mt.jsx(Ju,{"data-slot":"dialog-overlay",className:$l("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function oh({className:e,children:t,...s}){return mt.jsxs(ah,{"data-slot":"dialog-portal",children:[mt.jsx(ih,{}),mt.jsxs(Qu,{"data-slot":"dialog-content",className:$l("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,mt.jsxs(sh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[mt.jsx(Z,{}),mt.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function lh({className:e,...t}){return mt.jsx("div",{"data-slot":"dialog-header",className:$l("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ch({className:e,...t}){return mt.jsx("div",{"data-slot":"dialog-footer",className:$l("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function dh({className:e,...t}){return mt.jsx(eh,{"data-slot":"dialog-title",className:$l("text-lg leading-none font-semibold",e),...t})}function uh({className:e,...t}){return mt.jsx(th,{"data-slot":"dialog-description",className:$l("text-muted-foreground text-sm",e),...t})}const hh=()=>{const[e,t]=s.useState([]),[n,r]=s.useState(!0),[a,i]=s.useState(!1),[o,l]=s.useState({name:"",description:"",targetUrl:"",status:"active"});s.useEffect(()=>{c()},[]);const c=async()=>{r(!0);try{const e=await fetch("/api/campaigns",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const s=await e.json();t(s.campaigns||[])}}catch(e){}finally{r(!1)}};return mt.jsxs("div",{className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Campaign Management"}),mt.jsx("p",{className:"text-slate-400",children:"Create and manage your marketing campaigns"})]}),mt.jsxs(nh,{open:a,onOpenChange:i,children:[mt.jsx(rh,{asChild:!0,children:mt.jsxs(oc,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})}),mt.jsxs(oh,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{className:"text-white",children:"Create New Campaign"}),mt.jsx(uh,{className:"text-slate-400",children:"Set up a new tracking campaign"})]}),mt.jsxs("div",{className:"space-y-4 py-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"name",className:"text-white",children:"Campaign Name"}),mt.jsx(ou,{id:"name",value:o.name,onChange:e=>l({...o,name:e.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"Enter campaign name"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"description",className:"text-white",children:"Description"}),mt.jsx(hu,{id:"description",value:o.description,onChange:e=>l({...o,description:e.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"Describe your campaign",rows:3})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"targetUrl",className:"text-white",children:"Target URL"}),mt.jsx(ou,{id:"targetUrl",type:"url",value:o.targetUrl,onChange:e=>l({...o,targetUrl:e.target.value}),className:"bg-slate-700 border-slate-600 text-white",placeholder:"https://example.com"})]})]}),mt.jsxs(ch,{children:[mt.jsx(oc,{variant:"outline",onClick:()=>i(!1),className:"border-slate-600",children:"Cancel"}),mt.jsx(oc,{onClick:async()=>{try{(await fetch("/api/campaigns",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(o)})).ok&&(i(!1),l({name:"",description:"",targetUrl:"",status:"active"}),c())}catch(e){}},className:"bg-blue-600 hover:bg-blue-700",children:"Create Campaign"})]})]})]})]}),mt.jsxs("div",{className:"flex gap-2 mb-6",children:[mt.jsxs(oc,{variant:"outline",size:"sm",onClick:()=>{c()},className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]}),mt.jsxs(oc,{variant:"outline",size:"sm",onClick:()=>{const t=[["Campaign","Status","Clicks","Conversions","Rate"],...e.map(e=>[e.name,e.status,e.clicks,e.conversions,`${e.conversion_rate}%`])].map(e=>e.join(",")).join("\n"),s=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(s),r=document.createElement("a");r.href=n,r.download=`campaigns-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},className:"border-slate-600 text-slate-300 hover:bg-slate-700",children:[mt.jsx(ae,{className:"h-4 w-4 mr-2"}),"Export"]})]}),mt.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[mt.jsx(cc,{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border-blue-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Total Campaigns"}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:e.length})]}),mt.jsx("div",{className:"p-3 bg-blue-500/20 rounded-full",children:mt.jsx(he,{className:"h-6 w-6 text-blue-400"})})]})})}),mt.jsx(cc,{className:"bg-gradient-to-br from-green-500/10 to-green-600/5 border-green-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Active Campaigns"}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:e.filter(e=>"active"===e.status).length})]}),mt.jsx("div",{className:"p-3 bg-green-500/20 rounded-full",children:mt.jsx(fe,{className:"h-6 w-6 text-green-400"})})]})})}),mt.jsx(cc,{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border-purple-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Total Clicks"}),mt.jsx("p",{className:"text-3xl font-bold text-white",children:e.reduce((e,t)=>e+(t.clicks||0),0).toLocaleString()})]}),mt.jsx("div",{className:"p-3 bg-purple-500/20 rounded-full",children:mt.jsx(oe,{className:"h-6 w-6 text-purple-400"})})]})})}),mt.jsx(cc,{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/5 border-orange-500/20",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Avg. Conversion"}),mt.jsxs("p",{className:"text-3xl font-bold text-white",children:[e.length>0?(e.reduce((e,t)=>e+(t.conversion_rate||0),0)/e.length).toFixed(1):0,"%"]})]}),mt.jsx("div",{className:"p-3 bg-orange-500/20 rounded-full",children:mt.jsx(B,{className:"h-6 w-6 text-orange-400"})})]})})})]}),mt.jsxs(cc,{children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-base font-semibold",children:"All Campaigns"}),mt.jsx(hc,{children:"Manage and monitor your campaigns"})]}),mt.jsx(mc,{children:mt.jsx("div",{className:"space-y-4",children:mt.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.length>0?e.map(e=>mt.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg hover:bg-slate-800 transition-colors",children:[mt.jsxs("div",{className:"flex items-center justify-between mb-3",children:[mt.jsxs("div",{className:"flex-1",children:[mt.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[mt.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),mt.jsx(Ud,{variant:"active"===e.status?"default":"secondary",children:e.status})]}),mt.jsx("p",{className:"text-sm text-slate-400",children:e.description})]}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsx(oc,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{try{const s="active"===t?"paused":"active";(await fetch(`/api/campaigns/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:s})})).ok&&c()}catch(s){}})(e.id,e.status),className:"border-slate-600",children:"active"===e.status?mt.jsx(ge,{className:"h-4 w-4"}):mt.jsx(fe,{className:"h-4 w-4"})}),mt.jsx(oc,{size:"sm",variant:"outline",className:"border-slate-600",children:mt.jsx(ve,{className:"h-4 w-4"})}),mt.jsx(oc,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this campaign?"))try{(await fetch(`/api/campaigns/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&c()}catch(t){}})(e.id),className:"border-red-600 text-red-400 hover:bg-red-600/10",children:mt.jsx(ye,{className:"h-4 w-4"})})]})]}),mt.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4",children:[mt.jsxs("div",{className:"p-3 bg-slate-700/50 rounded",children:[mt.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Clicks"}),mt.jsx("p",{className:"text-xl font-bold text-white",children:e.clicks||0})]}),mt.jsxs("div",{className:"p-3 bg-slate-700/50 rounded",children:[mt.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Visitors"}),mt.jsx("p",{className:"text-xl font-bold text-white",children:e.visitors||0})]}),mt.jsxs("div",{className:"p-3 bg-slate-700/50 rounded",children:[mt.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Conversions"}),mt.jsx("p",{className:"text-xl font-bold text-white",children:e.conversions||0})]}),mt.jsxs("div",{className:"p-3 bg-slate-700/50 rounded",children:[mt.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Conv. Rate"}),mt.jsxs("p",{className:"text-xl font-bold text-white",children:[e.conversion_rate||0,"%"]})]})]}),mt.jsxs("div",{className:"mt-4",children:[mt.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-2",children:[mt.jsx("span",{children:"Performance"}),mt.jsxs("span",{children:[e.conversion_rate||0,"%"]})]}),mt.jsx(au,{value:e.conversion_rate||0,className:"h-2"})]})]},e.id)):mt.jsxs("div",{className:"text-center py-12",children:[mt.jsx(he,{className:"h-16 w-16 mx-auto mb-4 text-slate-600"}),mt.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No campaigns yet"}),mt.jsx("p",{className:"text-slate-400 mb-4",children:"Create your first campaign to start tracking"}),mt.jsxs(oc,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})})})})]})]})};var mh="Switch",[ph]=bt(mh),[xh,fh]=ph(mh),gh=s.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[m,p]=s.useState(null),x=yt(t,e=>p(e)),f=s.useRef(!1),g=!m||(u||!!m.closest("form")),[v,y]=kt({prop:a,defaultProp:i??!1,onChange:d,caller:mh});return mt.jsxs(xh,{scope:n,checked:v,disabled:l,children:[mt.jsx(Tt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":jh(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:ft(e.onClick,e=>{y(e=>!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&mt.jsx(bh,{control:m,bubbles:!f.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});gh.displayName=mh;var vh="SwitchThumb",yh=s.forwardRef((e,t)=>{const{__scopeSwitch:s,...n}=e,r=fh(vh,s);return mt.jsx(Tt.span,{"data-state":jh(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t})});yh.displayName=vh;var bh=s.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=s.useRef(null),l=yt(o,i),c=yc(n),d=tr(t);return s.useEffect(()=>{const e=o.current;if(!e)return;const t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}},[c,n,r]),mt.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function jh(e){return e?"checked":"unchecked"}bh.displayName="SwitchBubbleInput";var wh=gh,Nh=yh;function kh({className:e,...t}){return mt.jsx(wh,{"data-slot":"switch",className:$l("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:mt.jsx(Nh,{"data-slot":"switch-thumb",className:$l("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var Sh="Tabs",[Ch]=bt(Sh,[Dr]),Eh=Dr(),[_h,Th]=Ch(Sh),Ph=s.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,onValueChange:r,defaultValue:a,orientation:i="horizontal",dir:o,activationMode:l="automatic",...c}=e,d=Ot(o),[u,h]=kt({prop:n,onChange:r,defaultProp:a??"",caller:Sh});return mt.jsx(_h,{scope:s,baseId:ls(),value:u,onValueChange:h,orientation:i,dir:d,activationMode:l,children:mt.jsx(Tt.div,{dir:d,"data-orientation":i,...c,ref:t})})});Ph.displayName=Sh;var Ah="TabsList",Rh=s.forwardRef((e,t)=>{const{__scopeTabs:s,loop:n=!0,...r}=e,a=Th(Ah,s),i=Eh(s);return mt.jsx($r,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:mt.jsx(Tt.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});Rh.displayName=Ah;var Mh="TabsTrigger",Dh=s.forwardRef((e,t)=>{const{__scopeTabs:s,value:n,disabled:r=!1,...a}=e,i=Th(Mh,s),o=Eh(s),l=Oh(i.baseId,n),c=Fh(i.baseId,n),d=n===i.value;return mt.jsx(Wr,{asChild:!0,...o,focusable:!r,active:d,children:mt.jsx(Tt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:l,...a,ref:t,onMouseDown:ft(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(n)}),onKeyDown:ft(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(n)}),onFocus:ft(e.onFocus,()=>{const e="manual"!==i.activationMode;d||r||!e||i.onValueChange(n)})})})});Dh.displayName=Mh;var Lh="TabsContent",Ih=s.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=Th(Lh,n),c=Oh(l.baseId,r),d=Fh(l.baseId,r),u=r===l.value,h=s.useRef(u);return s.useEffect(()=>{const e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),mt.jsx(Sr,{present:a||u,children:({present:s})=>mt.jsx(Tt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!s,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&i})})});function Oh(e,t){return`${e}-trigger-${t}`}function Fh(e,t){return`${e}-content-${t}`}Ih.displayName=Lh;var zh=Ph,Vh=Rh,Bh=Dh,Uh=Ih;function $h({className:e,...t}){return mt.jsx(zh,{"data-slot":"tabs",className:$l("flex flex-col gap-2",e),...t})}function Wh({className:e,...t}){return mt.jsx(Vh,{"data-slot":"tabs-list",className:$l("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Yh({className:e,...t}){return mt.jsx(Bh,{"data-slot":"tabs-trigger",className:$l("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Kh({className:e,...t}){return mt.jsx(Uh,{"data-slot":"tabs-content",className:$l("flex-1 outline-none",e),...t})}const Gh=ac("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Hh({className:e,variant:t,...s}){return mt.jsx("div",{"data-slot":"alert",role:"alert",className:$l(Gh({variant:t}),e),...s})}function qh({className:e,...t}){return mt.jsx("div",{"data-slot":"alert-description",className:$l("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}Array(12).fill(0);let Xh=1;const Zh=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:s,...n}=e,r="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:Xh++,a=this.toasts.find(e=>e.id===r),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),a?this.toasts=this.toasts.map(t=>t.id===r?(this.publish({...t,...e,id:r,title:s}),{...t,...e,id:r,dismissible:i,title:s}):t):this.addToast({title:s,...n,dismissible:i,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;void 0!==t.loading&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const n=Promise.resolve(e instanceof Function?e():e);let r,i=void 0!==s;const o=n.then(async e=>{r=["resolve",e];if(a.isValidElement(e))i=!1,this.create({id:s,type:"default",message:e});else if(Jh(e)&&!e.ok){i=!1;const n="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,r="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,o="object"==typeof n&&!a.isValidElement(n)?n:{message:n};this.create({id:s,type:"error",description:r,...o})}else if(e instanceof Error){i=!1;const n="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,o="object"==typeof n&&!a.isValidElement(n)?n:{message:n};this.create({id:s,type:"error",description:r,...o})}else if(void 0!==t.success){i=!1;const n="function"==typeof t.success?await t.success(e):t.success,r="function"==typeof t.description?await t.description(e):t.description,o="object"==typeof n&&!a.isValidElement(n)?n:{message:n};this.create({id:s,type:"success",description:r,...o})}}).catch(async e=>{if(r=["reject",e],void 0!==t.error){i=!1;const n="function"==typeof t.error?await t.error(e):t.error,r="function"==typeof t.description?await t.description(e):t.description,o="object"==typeof n&&!a.isValidElement(n)?n:{message:n};this.create({id:s,type:"error",description:r,...o})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),null==t.finally||t.finally.call(t)}),l=()=>new Promise((e,t)=>o.then(()=>"reject"===r[0]?t(r[1]):e(r[1])).catch(t));return"string"!=typeof s&&"number"!=typeof s?{unwrap:l}:Object.assign(s,{unwrap:l})},this.custom=(e,t)=>{const s=(null==t?void 0:t.id)||Xh++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jh=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Qh=(e,t)=>{const s=(null==t?void 0:t.id)||Xh++;return Zh.addToast({title:e,...t,id:s}),s},em=Object.assign(Qh,{success:Zh.success,info:Zh.info,warning:Zh.warning,error:Zh.error,custom:Zh.custom,message:Zh.message,promise:Zh.promise,dismiss:Zh.dismiss,loading:Zh.loading},{getHistory:()=>Zh.toasts,getToasts:()=>Zh.getActiveToasts()});!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const tm=()=>{const[e,t]=s.useState([]),[n,r]=s.useState(!0),[a,i]=s.useState(!1),[o,l]=s.useState(""),[c,d]=s.useState(365),[u,h]=s.useState(null),[m,p]=s.useState({});s.useEffect(()=>{x()},[]);const x=async()=>{try{r(!0);const e=await fetch("/api/api-keys");if(e.ok){const s=await e.json();t(s.api_keys||[])}}catch(e){em.error("Failed to load API keys")}finally{r(!1)}},f=e=>{navigator.clipboard.writeText(e),em.success("Copied to clipboard")},g=e=>e?new Date(e).toLocaleDateString():"Never";return n?mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-6",children:mt.jsxs("div",{className:"animate-pulse space-y-4",children:[mt.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/4"}),mt.jsx("div",{className:"h-20 bg-slate-700 rounded"})]})})}):mt.jsxs(mt.Fragment,{children:[mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsxs(uc,{className:"text-white flex items-center gap-2",children:[mt.jsx(be,{className:"h-5 w-5 text-blue-400"}),"API Keys"]}),mt.jsx(hc,{className:"text-slate-400 mt-2",children:"Manage API keys for integrating Brain Link Tracker with your applications"})]}),mt.jsxs(oc,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create API Key"]})]})}),mt.jsxs(mc,{className:"space-y-4",children:[0===e.length?mt.jsxs(Hh,{className:"bg-slate-700/50 border-slate-600",children:[mt.jsx(je,{className:"h-4 w-4 text-slate-400"}),mt.jsx(qh,{className:"text-slate-300",children:"No API keys yet. Create one to start integrating with your applications."})]}):mt.jsx("div",{className:"space-y-3",children:e.map(s=>mt.jsx("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-4",children:mt.jsxs("div",{className:"flex items-start justify-between",children:[mt.jsxs("div",{className:"flex-1",children:[mt.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[mt.jsx("h3",{className:"text-white font-semibold",children:s.name}),s.is_active?mt.jsx("span",{className:"px-2 py-1 bg-green-900/30 text-green-400 text-xs rounded-full",children:"Active"}):mt.jsx("span",{className:"px-2 py-1 bg-red-900/30 text-red-400 text-xs rounded-full",children:"Inactive"})]}),mt.jsxs("div",{className:"space-y-1 text-sm text-slate-400",children:[mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsxs("span",{className:"font-mono bg-slate-800 px-2 py-1 rounded",children:[s.key_prefix,"..."]}),mt.jsx(oc,{size:"sm",variant:"ghost",onClick:()=>f(s.key_prefix),className:"h-6 px-2 text-slate-400 hover:text-white",children:mt.jsx(we,{className:"h-3 w-3"})})]}),mt.jsxs("p",{children:["Created: ",g(s.created_at)]}),s.last_used_at&&mt.jsxs("p",{children:["Last used: ",g(s.last_used_at)]}),s.expires_at&&mt.jsxs("p",{children:["Expires: ",g(s.expires_at)]})]})]}),mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx(oc,{size:"sm",variant:"outline",onClick:()=>(async s=>{if(confirm("Are you sure you want to regenerate this API key? The old key will stop working immediately."))try{const n=await fetch(`/api/api-keys/${s}/regenerate`,{method:"POST"});if(n.ok){const r=await n.json();h(r.api_key),t(e.map(e=>e.id===s?r.api_key:e)),em.success("API key regenerated successfully")}else em.error("Failed to regenerate API key")}catch(n){em.error("Failed to regenerate API key")}})(s.id),className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:mt.jsx(re,{className:"h-4 w-4"})}),mt.jsx(oc,{size:"sm",variant:"outline",onClick:()=>(async s=>{if(confirm("Are you sure you want to delete this API key? This action cannot be undone."))try{(await fetch(`/api/api-keys/${s}`,{method:"DELETE"})).ok?(t(e.filter(e=>e.id!==s)),em.success("API key deleted successfully")):em.error("Failed to delete API key")}catch(n){em.error("Failed to delete API key")}})(s.id),className:"bg-slate-700 border-slate-600 text-red-400 hover:bg-red-900/20 hover:text-red-300",children:mt.jsx(ye,{className:"h-4 w-4"})})]})]})},s.id))}),mt.jsxs(Hh,{className:"bg-blue-900/20 border-blue-700",children:[mt.jsx(je,{className:"h-4 w-4 text-blue-500"}),mt.jsxs(qh,{className:"text-blue-400",children:[mt.jsx("strong",{children:"Important:"})," Keep your API keys secure. Never share them publicly or commit them to version control."]})]})]})]}),mt.jsx(nh,{open:a,onOpenChange:i,children:mt.jsxs(oh,{className:"bg-slate-800 border-slate-700 text-white",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{children:"Create New API Key"}),mt.jsx(uh,{className:"text-slate-400",children:"Generate a new API key for your application"})]}),mt.jsxs("div",{className:"space-y-4 py-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"keyName",children:"Key Name"}),mt.jsx(ou,{id:"keyName",placeholder:"e.g., Production App, Mobile App",value:o,onChange:e=>l(e.target.value),className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"keyExpiry",children:"Expires In (days)"}),mt.jsx(ou,{id:"keyExpiry",type:"number",min:"1",max:"3650",value:c,onChange:e=>d(parseInt(e.target.value)),className:"bg-slate-700 border-slate-600 text-white"}),mt.jsx("p",{className:"text-xs text-slate-400",children:"Leave as 365 for one year expiration"})]})]}),mt.jsxs(ch,{children:[mt.jsx(oc,{variant:"outline",onClick:()=>i(!1),className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),mt.jsx(oc,{onClick:()=>{(async()=>{if(o.trim())try{const s=await fetch("/api/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o,expires_in_days:c})});if(s.ok){const n=await s.json();h(n.api_key),t([n.api_key,...e]),l(""),em.success("API key created successfully")}else em.error("Failed to create API key")}catch(s){em.error("Failed to create API key")}else em.error("Please enter a name for the API key")})(),i(!1)},className:"bg-blue-600 hover:bg-blue-700",children:"Create API Key"})]})]})}),mt.jsx(nh,{open:!!u,onOpenChange:()=>h(null),children:mt.jsxs(oh,{className:"bg-slate-800 border-slate-700 text-white",children:[mt.jsxs(lh,{children:[mt.jsxs(dh,{className:"flex items-center gap-2",children:[mt.jsx(Ne,{className:"h-5 w-5 text-green-500"}),"API Key Created Successfully"]}),mt.jsx(uh,{className:"text-slate-400",children:"Make sure to copy your API key now. You won't be able to see it again!"})]}),u&&mt.jsxs("div",{className:"space-y-4 py-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{children:"Your API Key"}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsx(ou,{value:u.key||"",readOnly:!0,className:"bg-slate-700 border-slate-600 text-white font-mono text-sm"}),mt.jsx(oc,{onClick:()=>f(u.key),className:"bg-blue-600 hover:bg-blue-700",children:mt.jsx(we,{className:"h-4 w-4"})})]})]}),mt.jsxs(Hh,{className:"bg-yellow-900/20 border-yellow-700",children:[mt.jsx(je,{className:"h-4 w-4 text-yellow-500"}),mt.jsx(qh,{className:"text-yellow-400",children:"Store this key securely. For security reasons, we can't show it to you again."})]})]}),mt.jsx(ch,{children:mt.jsx(oc,{onClick:()=>h(null),className:"bg-green-600 hover:bg-green-700",children:"I've Saved My Key"})})]})})]})},sm=({planType:e,onSuccess:t,onCancel:n})=>{const[r,a]=s.useState(!1),[i,o]=s.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),l=(e,t)=>{"cardNumber"===e?t=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),s=t&&t[0]||"",n=[];for(let r=0,a=s.length;r<a;r+=4)n.push(s.substring(r,r+4));return n.length?n.join(" "):e})(t):"expiryDate"===e?t=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?t.slice(0,2)+"/"+t.slice(2,4):t})(t):"cvv"===e&&(t=t.replace(/[^0-9]/gi,"").slice(0,4)),o(s=>({...s,[e]:t}))};return mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white flex items-center gap-2",children:[mt.jsx(ke,{className:"h-5 w-5 text-blue-400"}),"Card Payment Details"]})}),mt.jsx(mc,{children:mt.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),!i.cardNumber||i.cardNumber.replace(/\s/g,"").length<13?(em.error("Please enter a valid card number"),0):!i.expiryDate||i.expiryDate.length<5?(em.error("Please enter a valid expiry date"),0):!i.cvv||i.cvv.length<3?(em.error("Please enter a valid CVV"),0):i.cardholderName||(em.error("Please enter cardholder name"),0)){a(!0);try{const t=await fetch("/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan_type:e,success_url:window.location.origin+"/payments?success=true",cancel_url:window.location.origin+"/payments?cancelled=true"})});if(t.ok){const e=await t.json();window.location.href=e.url}else{const e=await t.json();em.error(e.error||"Payment failed")}}catch(s){em.error("Failed to process payment")}finally{a(!1)}}},className:"space-y-4",children:[mt.jsxs(Hh,{className:"bg-blue-900/20 border-blue-700",children:[mt.jsx(Se,{className:"h-4 w-4 text-blue-500"}),mt.jsx(qh,{className:"text-blue-400 text-sm",children:"Your payment is secured by Stripe. We never store your card details."})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"Card Number"}),mt.jsx(ou,{type:"text",placeholder:"1234 5678 9012 3456",value:i.cardNumber,onChange:e=>l("cardNumber",e.target.value),maxLength:"19",className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"Expiry Date"}),mt.jsx(ou,{type:"text",placeholder:"MM/YY",value:i.expiryDate,onChange:e=>l("expiryDate",e.target.value),maxLength:"5",className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"CVV"}),mt.jsx(ou,{type:"text",placeholder:"123",value:i.cvv,onChange:e=>l("cvv",e.target.value),maxLength:"4",className:"bg-slate-700 border-slate-600 text-white"})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"Cardholder Name"}),mt.jsx(ou,{type:"text",placeholder:"John Doe",value:i.cardholderName,onChange:e=>l("cardholderName",e.target.value),className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs(oc,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:r,children:[r?mt.jsx(Ce,{className:"mr-2 h-4 w-4 animate-spin"}):mt.jsx(ke,{className:"mr-2 h-4 w-4"}),r?"Processing...":`Pay for ${e.toUpperCase()} Plan`]}),n&&mt.jsx(oc,{type:"button",variant:"outline",className:"w-full mt-2 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:n,disabled:r,children:"Cancel"})]})})]})},nm=({planType:e,planPrice:t,onSuccess:n,onCancel:r})=>{const[a,i]=s.useState({}),[o,l]=s.useState("BTC"),[c,d]=s.useState(!1),[u,h]=s.useState({txHash:"",amount:t||0,screenshot:null});s.useEffect(()=>{m()},[]);const m=async()=>{try{const e=await fetch("/api/crypto-payments/wallets");if(e.ok){const t=await e.json();i(t.wallets||{})}}catch(e){}},p=a[o]||"Wallet address not configured";return mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white flex items-center gap-2",children:[mt.jsx(Ee,{className:"h-5 w-5 text-orange-400"}),"Cryptocurrency Payment"]})}),mt.jsxs(mc,{className:"space-y-6",children:[mt.jsxs(Hh,{className:"bg-orange-900/20 border-orange-700",children:[mt.jsx(je,{className:"h-4 w-4 text-orange-500"}),mt.jsx(qh,{className:"text-orange-400 text-sm",children:"Send payment to the wallet address below, then submit proof for verification."})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"Select Cryptocurrency"}),mt.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{code:"BTC",name:"Bitcoin",icon:""},{code:"ETH",name:"Ethereum",icon:""},{code:"LTC",name:"Litecoin",icon:""},{code:"USDT",name:"Tether",icon:""}].map(e=>mt.jsx("button",{type:"button",onClick:()=>l(e.code),className:"p-3 rounded-lg border-2 transition-all "+(o===e.code?"border-orange-500 bg-orange-900/20":"border-slate-600 bg-slate-700/30 hover:border-slate-500"),children:mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("span",{className:"text-2xl",children:e.icon}),mt.jsxs("div",{className:"text-left",children:[mt.jsx("div",{className:"text-white font-semibold text-sm",children:e.code}),mt.jsx("div",{className:"text-slate-400 text-xs",children:e.name})]})]})},e.code))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsxs(uu,{className:"text-white",children:["Send ",o," to this address:"]}),mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx(ou,{type:"text",readOnly:!0,value:p,className:"flex-1 bg-slate-700 border-slate-600 text-white truncate"}),mt.jsx(oc,{type:"button",variant:"outline",size:"icon",onClick:()=>{return e=p,navigator.clipboard.writeText(e),void em.success("Wallet address copied to clipboard");var e},className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:mt.jsx(we,{className:"h-4 w-4"})})]})]}),mt.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),u.txHash)if(!u.amount||u.amount<=0)em.error("Please enter valid amount");else{d(!0);try{const t=await fetch("/api/crypto-payments/submit-proof",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan_type:e,currency:o,tx_hash:u.txHash,amount:u.amount,screenshot:u.screenshot})});if(t.ok)em.success("Payment proof submitted successfully! Awaiting admin verification."),n&&n();else{const e=await t.json();em.error(e.error||"Failed to submit payment proof")}}catch(s){em.error("Failed to submit payment proof")}finally{d(!1)}}else em.error("Please enter transaction hash")},className:"space-y-4",children:[mt.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsxs(uu,{className:"text-white",children:["Amount Sent (",o,")"]}),mt.jsx(ou,{type:"number",step:"any",placeholder:"0.00",value:u.amount,onChange:e=>h(t=>({...t,amount:e.target.value})),className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"Transaction Hash (TxID)"}),mt.jsx(ou,{type:"text",placeholder:"0x...",value:u.txHash,onChange:e=>h(t=>({...t,txHash:e.target.value})),className:"bg-slate-700 border-slate-600 text-white"})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{className:"text-white",children:"Payment Screenshot (Optional but recommended)"}),mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx(ou,{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void em.error("File size must be less than 5MB");const e=new FileReader;e.onloadend=()=>{h(t=>({...t,screenshot:e.result}))},e.readAsDataURL(t)}},className:"hidden",id:"screenshot-upload"}),mt.jsxs(uu,{htmlFor:"screenshot-upload",className:"flex-1 flex items-center justify-center p-3 border-2 border-dashed rounded-lg cursor-pointer bg-slate-700/50 border-slate-600 hover:bg-slate-700/70 text-slate-400",children:[mt.jsx(_e,{className:"h-4 w-4 mr-2"}),u.screenshot?"File Selected":"Click to upload screenshot (Max 5MB)"]}),u.screenshot&&mt.jsx(Ne,{className:"h-6 w-6 text-green-500"})]})]}),mt.jsxs(oc,{type:"submit",className:"w-full bg-orange-600 hover:bg-orange-700 text-white",disabled:c,children:[c?mt.jsx(Ce,{className:"mr-2 h-4 w-4 animate-spin"}):mt.jsx(Ne,{className:"mr-2 h-4 w-4"}),c?"Submitting Proof...":"Submit Payment Proof"]}),r&&mt.jsx(oc,{type:"button",variant:"outline",className:"w-full mt-2 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:r,disabled:c,children:"Cancel"})]})]})]})},rm=()=>{const[e,t]=s.useState(null),[n,r]=s.useState("api-keys"),[a,i]=s.useState(!0),[o,l]=s.useState(!1),[c,d]=s.useState(null),[u,h]=s.useState(!1),[m,p]=s.useState(!1),[x,f]=s.useState(null),[g,v]=s.useState(null),[y,b]=s.useState({preferred_payment_method:"card",telegram_personal_chat_id:"",telegram_personal_notifications_enabled:!1,slack_webhook_url:"",slack_notifications_enabled:!1,cdn_enabled:!1,cdn_url:"",cdn_provider:"cloudflare"}),[j,w]=s.useState({stripe_enabled:!1,stripe_publishable_key:"",stripe_secret_key:"",stripe_webhook_secret:"",stripe_price_id:"",crypto_enabled:!1,crypto_bitcoin_address:"",crypto_ethereum_address:"",telegram_system_token:"",telegram_system_chat_id:"",telegram_system_notifications_enabled:!1,max_links_per_user:100,max_campaigns_per_user:50,enable_email_capture:!0,enable_analytics:!0,retention_days:90,enable_custom_domains:!0,maintenance_mode:!1,enable_registrations:!0});s.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0),d(null);const s=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(s.ok){const e=await s.json();t(e.user)}try{const e=await fetch("/api/settings/user",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();b(e=>({...e,...t}))}}catch(e){}try{const e=await fetch("/api/admin/system-config",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();w(e=>({...e,...t})),v(t)}}catch(e){}}catch(s){d("Failed to load settings")}finally{i(!1)}},k=async()=>{try{l(!0);if(!(await fetch("/api/settings/user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(y)})).ok)throw new Error("Failed to save user settings");em.success("User settings saved successfully"),h(!0),setTimeout(()=>h(!1),3e3)}catch(e){em.error(e.message||"Error saving user settings"),d(e.message||"Error saving user settings")}finally{l(!1)}},S=()=>{p(!1),f(null),em.success("Subscription process initiated. Check your email for confirmation."),N()},C=()=>{p(!1),f(null),em.info("Payment cancelled.")};if(a)return mt.jsxs("div",{className:"flex justify-center items-center h-full",children:[mt.jsx(Ce,{className:"h-8 w-8 animate-spin text-blue-500"}),mt.jsx("span",{className:"ml-2 text-white",children:"Loading Settings..."})]});if(c&&!u)return mt.jsxs(Hh,{variant:"destructive",className:"bg-red-900/20 border-red-700",children:[mt.jsx(je,{className:"h-4 w-4 text-red-500"}),mt.jsx(qh,{className:"text-red-400",children:c})]});const E="main_admin"===(null==e?void 0:e.role)||"admin"===(null==e?void 0:e.role);return mt.jsxs("div",{className:"space-y-6 p-6",children:[mt.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),mt.jsx("p",{className:"text-slate-400",children:"Manage your account preferences, API keys, and system configurations."}),mt.jsxs($h,{value:n,onValueChange:r,className:"w-full",children:[mt.jsxs(Wh,{className:"grid w-full grid-cols-3 md:grid-cols-5 h-auto bg-slate-800 border border-slate-700",children:[mt.jsxs(Yh,{value:"api-keys",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300",children:[mt.jsx(be,{className:"h-4 w-4 mr-2"})," API Keys"]}),mt.jsxs(Yh,{value:"notifications",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300",children:[mt.jsx(Te,{className:"h-4 w-4 mr-2"})," Notifications"]}),mt.jsxs(Yh,{value:"payments",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300",children:[mt.jsx(ke,{className:"h-4 w-4 mr-2"})," Payments"]}),mt.jsxs(Yh,{value:"cdn",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300",children:[mt.jsx(Pe,{className:"h-4 w-4 mr-2"})," CDN"]}),E&&mt.jsxs(Yh,{value:"system",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300",children:[mt.jsx(H,{className:"h-4 w-4 mr-2"})," System Config"]})]}),mt.jsx(Kh,{value:"api-keys",className:"mt-4",children:mt.jsx(tm,{})}),mt.jsx(Kh,{value:"notifications",className:"mt-4",children:mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white",children:"Notification Settings"})}),mt.jsxs(mc,{className:"space-y-6",children:[mt.jsxs("div",{className:"space-y-4",children:[mt.jsxs("h3",{className:"text-xl font-semibold text-blue-400 flex items-center",children:[mt.jsx(Te,{className:"h-5 w-5 mr-2"})," Telegram Notifications"]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"telegram-switch",className:"text-slate-300",children:"Enable Personal Telegram Notifications"}),mt.jsx(kh,{id:"telegram-switch",checked:y.telegram_personal_notifications_enabled,onCheckedChange:e=>b(t=>({...t,telegram_personal_notifications_enabled:e}))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"telegram-chat-id",className:"text-slate-300",children:"Your Telegram Chat ID"}),mt.jsx(ou,{id:"telegram-chat-id",placeholder:"Enter your Telegram Chat ID",value:y.telegram_personal_chat_id,onChange:e=>b(t=>({...t,telegram_personal_chat_id:e.target.value})),className:"bg-slate-700 border-slate-600 text-white"}),mt.jsx("p",{className:"text-sm text-slate-500",children:"Get your Chat ID by messaging the system bot."})]})]}),mt.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[mt.jsxs("h3",{className:"text-xl font-semibold text-blue-400 flex items-center",children:[mt.jsx(Ae,{className:"h-5 w-5 mr-2"})," Slack Notifications"]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"slack-switch",className:"text-slate-300",children:"Enable Slack Notifications"}),mt.jsx(kh,{id:"slack-switch",checked:y.slack_notifications_enabled,onCheckedChange:e=>b(t=>({...t,slack_notifications_enabled:e}))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"slack-webhook",className:"text-slate-300",children:"Slack Webhook URL"}),mt.jsx(ou,{id:"slack-webhook",placeholder:"Enter your Slack Webhook URL",value:y.slack_webhook_url,onChange:e=>b(t=>({...t,slack_webhook_url:e.target.value})),className:"bg-slate-700 border-slate-600 text-white"}),mt.jsx("p",{className:"text-sm text-slate-500",children:"Notifications will be sent to this Slack channel."})]})]}),mt.jsxs(oc,{onClick:k,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o?mt.jsx(Ce,{className:"h-4 w-4 mr-2 animate-spin"}):mt.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})]})]})}),mt.jsx(Kh,{value:"payments",className:"mt-4",children:mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-white",children:"Subscription & Payment"}),mt.jsxs("p",{className:"text-slate-400 text-sm",children:["Your current plan: ",mt.jsx("span",{className:"font-bold text-blue-400",children:null==e?void 0:e.plan_type.toUpperCase()})]})]}),mt.jsx(mc,{className:"space-y-6",children:m?mt.jsxs("div",{className:"space-y-4",children:[mt.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Complete Payment for ",null==x?void 0:x.toUpperCase()," Plan"]}),"card"===y.preferred_payment_method&&(null==g?void 0:g.stripe_enabled)?mt.jsx(sm,{planType:x,onSuccess:S,onCancel:C}):"crypto"===y.preferred_payment_method&&(null==g?void 0:g.crypto_enabled)?mt.jsx(nm,{planType:x,planPrice:"pro"===x?29.99:99.99,onSuccess:S,onCancel:C}):mt.jsxs(Hh,{variant:"destructive",className:"bg-red-900/20 border-red-700",children:[mt.jsx(je,{className:"h-4 w-4 text-red-500"}),mt.jsx(qh,{className:"text-red-400",children:"Payment method not available or not configured by admin."})]})]}):mt.jsxs("div",{className:"space-y-4",children:[mt.jsx("h3",{className:"text-xl font-semibold text-white",children:"Upgrade Your Plan"}),mt.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[mt.jsxs(cc,{className:"p-4 cursor-pointer transition-all "+("pro"===(null==e?void 0:e.plan_type)?"border-green-500 bg-green-900/20":"border-slate-700 hover:border-blue-500"),onClick:()=>{f("pro"),p(!0)},children:[mt.jsx(uc,{className:"text-white",children:"Pro Plan"}),mt.jsx("p",{className:"text-slate-400",children:"$29.99/month"}),mt.jsx(oc,{size:"sm",className:"mt-2",disabled:"pro"===(null==e?void 0:e.plan_type),children:"pro"===(null==e?void 0:e.plan_type)?"Current Plan":"Select Pro"})]}),mt.jsxs(cc,{className:"p-4 cursor-pointer transition-all "+("enterprise"===(null==e?void 0:e.plan_type)?"border-green-500 bg-green-900/20":"border-slate-700 hover:border-blue-500"),onClick:()=>{f("enterprise"),p(!0)},children:[mt.jsx(uc,{className:"text-white",children:"Enterprise Plan"}),mt.jsx("p",{className:"text-slate-400",children:"$99.99/month"}),mt.jsx(oc,{size:"sm",className:"mt-2",disabled:"enterprise"===(null==e?void 0:e.plan_type),children:"enterprise"===(null==e?void 0:e.plan_type)?"Current Plan":"Select Enterprise"})]})]}),mt.jsxs("div",{className:"space-y-2 pt-4 border-t border-slate-700",children:[mt.jsx("h3",{className:"text-xl font-semibold text-white",children:"Payment Method Preference"}),mt.jsxs("div",{className:"flex items-center space-x-4",children:[mt.jsxs(oc,{variant:"card"===y.preferred_payment_method?"default":"outline",onClick:()=>b(e=>({...e,preferred_payment_method:"card"})),className:"card"===y.preferred_payment_method?"bg-blue-600 hover:bg-blue-700":"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",disabled:!(null==g?void 0:g.stripe_enabled),children:[mt.jsx(ke,{className:"h-4 w-4 mr-2"})," Card (Stripe)"]}),mt.jsxs(oc,{variant:"crypto"===y.preferred_payment_method?"default":"outline",onClick:()=>b(e=>({...e,preferred_payment_method:"crypto"})),className:"crypto"===y.preferred_payment_method?"bg-blue-600 hover:bg-blue-700":"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",disabled:!(null==g?void 0:g.crypto_enabled),children:[mt.jsx(Ee,{className:"h-4 w-4 mr-2"})," Crypto"]})]}),mt.jsx("p",{className:"text-sm text-slate-500",children:"Select your preferred method before proceeding to payment."})]})]})})]})}),mt.jsx(Kh,{value:"cdn",className:"mt-4",children:mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-white",children:"CDN Configuration"}),mt.jsx("p",{className:"text-slate-400 text-sm",children:"Configure your Content Delivery Network (CDN) settings for faster asset loading."})]}),mt.jsxs(mc,{className:"space-y-6",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"cdn-switch",className:"text-slate-300",children:"Enable CDN for Assets"}),mt.jsx(kh,{id:"cdn-switch",checked:y.cdn_enabled,onCheckedChange:e=>b(t=>({...t,cdn_enabled:e}))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"cdn-url",className:"text-slate-300",children:"CDN Base URL"}),mt.jsx(ou,{id:"cdn-url",placeholder:"e.g., https://cdn.yourdomain.com",value:y.cdn_url,onChange:e=>b(t=>({...t,cdn_url:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!y.cdn_enabled})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"cdn-provider",className:"text-slate-300",children:"CDN Provider"}),mt.jsx(ou,{id:"cdn-provider",placeholder:"e.g., Cloudflare, AWS CloudFront",value:y.cdn_provider,onChange:e=>b(t=>({...t,cdn_provider:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!y.cdn_enabled})]}),mt.jsxs(oc,{onClick:k,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o?mt.jsx(Ce,{className:"h-4 w-4 mr-2 animate-spin"}):mt.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Save CDN Settings"]})]})]})}),E&&mt.jsx(Kh,{value:"system",className:"mt-4",children:mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(dc,{children:[mt.jsxs(uc,{className:"text-white flex items-center",children:[mt.jsx(H,{className:"h-5 w-5 mr-2"})," Global System Configuration"]}),mt.jsx("p",{className:"text-slate-400 text-sm",children:"These settings affect all users and the entire application."})]}),mt.jsxs(mc,{className:"space-y-6",children:[mt.jsxs("div",{className:"space-y-4",children:[mt.jsx("h3",{className:"text-xl font-semibold text-blue-400",children:"General"}),mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"max-links",className:"text-slate-300",children:"Max Links per User (Default)"}),mt.jsx(ou,{id:"max-links",type:"number",value:j.max_links_per_user,onChange:e=>w(t=>({...t,max_links_per_user:parseInt(e.target.value)})),className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"retention-days",className:"text-slate-300",children:"Analytics Retention (Days)"}),mt.jsx(ou,{id:"retention-days",type:"number",value:j.retention_days,onChange:e=>w(t=>({...t,retention_days:parseInt(e.target.value)})),className:"bg-slate-700 border-slate-600 text-white"})]})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"maintenance-mode",className:"text-slate-300",children:"Maintenance Mode (Disable Site Access)"}),mt.jsx(kh,{id:"maintenance-mode",checked:j.maintenance_mode,onCheckedChange:e=>w(t=>({...t,maintenance_mode:e}))})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"enable-registrations",className:"text-slate-300",children:"Enable New User Registrations"}),mt.jsx(kh,{id:"enable-registrations",checked:j.enable_registrations,onCheckedChange:e=>w(t=>({...t,enable_registrations:e}))})]})]}),mt.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[mt.jsxs("h3",{className:"text-xl font-semibold text-blue-400 flex items-center",children:[mt.jsx(ke,{className:"h-5 w-5 mr-2"})," Payment Gateways"]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"stripe-enabled",className:"text-slate-300",children:"Enable Stripe Payments"}),mt.jsx(kh,{id:"stripe-enabled",checked:j.stripe_enabled,onCheckedChange:e=>w(t=>({...t,stripe_enabled:e}))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"stripe-key",className:"text-slate-300",children:"Stripe Publishable Key"}),mt.jsx(ou,{id:"stripe-key",placeholder:"pk_live_...",value:j.stripe_publishable_key,onChange:e=>w(t=>({...t,stripe_publishable_key:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!j.stripe_enabled})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"stripe-secret",className:"text-slate-300",children:"Stripe Secret Key"}),mt.jsx(ou,{id:"stripe-secret",placeholder:"sk_live_...",value:j.stripe_secret_key,onChange:e=>w(t=>({...t,stripe_secret_key:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!j.stripe_enabled})]}),mt.jsxs("div",{className:"flex items-center justify-between pt-4",children:[mt.jsx(uu,{htmlFor:"crypto-enabled",className:"text-slate-300",children:"Enable Crypto Payments"}),mt.jsx(kh,{id:"crypto-enabled",checked:j.crypto_enabled,onCheckedChange:e=>w(t=>({...t,crypto_enabled:e}))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"btc-address",className:"text-slate-300",children:"Bitcoin Wallet Address"}),mt.jsx(ou,{id:"btc-address",placeholder:"1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa",value:j.crypto_bitcoin_address,onChange:e=>w(t=>({...t,crypto_bitcoin_address:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!j.crypto_enabled})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"eth-address",className:"text-slate-300",children:"Ethereum Wallet Address"}),mt.jsx(ou,{id:"eth-address",placeholder:"0x...",value:j.crypto_ethereum_address,onChange:e=>w(t=>({...t,crypto_ethereum_address:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!j.crypto_enabled})]})]}),mt.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[mt.jsxs("h3",{className:"text-xl font-semibold text-blue-400 flex items-center",children:[mt.jsx(Te,{className:"h-5 w-5 mr-2"})," System Telegram Notifications"]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsx(uu,{htmlFor:"system-telegram-switch",className:"text-slate-300",children:"Enable System Telegram Notifications (e.g., New User, Payment Proof)"}),mt.jsx(kh,{id:"system-telegram-switch",checked:j.telegram_system_notifications_enabled,onCheckedChange:e=>w(t=>({...t,telegram_system_notifications_enabled:e}))})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"system-telegram-token",className:"text-slate-300",children:"System Telegram Bot Token"}),mt.jsx(ou,{id:"system-telegram-token",placeholder:"Enter your bot token",value:j.telegram_system_token,onChange:e=>w(t=>({...t,telegram_system_token:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!j.telegram_system_notifications_enabled})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"system-telegram-chat-id",className:"text-slate-300",children:"System Telegram Chat ID (Admin Group)"}),mt.jsx(ou,{id:"system-telegram-chat-id",placeholder:"Enter admin group chat ID",value:j.telegram_system_chat_id,onChange:e=>w(t=>({...t,telegram_system_chat_id:e.target.value})),className:"bg-slate-700 border-slate-600 text-white",disabled:!j.telegram_system_notifications_enabled})]})]}),mt.jsxs(oc,{onClick:async()=>{try{l(!0);if(!(await fetch("/api/admin/system-config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(j)})).ok)throw new Error("Failed to save admin system config");em.success("Admin system configuration saved successfully"),h(!0),setTimeout(()=>h(!1),3e3)}catch(e){em.error(e.message||"Error saving admin system config"),d(e.message||"Error saving admin system config")}finally{l(!1)}},disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[o?mt.jsx(Ce,{className:"h-4 w-4 mr-2 animate-spin"}):mt.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Save System Configuration"]})]})]})})]})]})};function am({className:e,...t}){return mt.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:mt.jsx("table",{"data-slot":"table",className:$l("w-full caption-bottom text-sm",e),...t})})}function im({className:e,...t}){return mt.jsx("thead",{"data-slot":"table-header",className:$l("[&_tr]:border-b",e),...t})}function om({className:e,...t}){return mt.jsx("tbody",{"data-slot":"table-body",className:$l("[&_tr:last-child]:border-0",e),...t})}function lm({className:e,...t}){return mt.jsx("tr",{"data-slot":"table-row",className:$l("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function cm({className:e,...t}){return mt.jsx("th",{"data-slot":"table-head",className:$l("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function dm({className:e,...t}){return mt.jsx("td",{"data-slot":"table-cell",className:$l("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function um(){const[e,t]=s.useState("dashboard"),[n,r]=s.useState({totalUsers:0,totalLinks:0,totalClicks:0,totalCampaigns:0}),[i,o]=s.useState([]),[l,c]=s.useState([]),[d,u]=s.useState([]),[h,m]=s.useState([]),[p,x]=s.useState([]),[f,g]=s.useState([]),[v,y]=s.useState([]),[b,j]=s.useState(""),[w,N]=s.useState({username:"",email:"",password:"",role:"member",status:"active"}),[k,S]=s.useState(!1),[C,E]=s.useState(!1),[_,T]=s.useState(!1),[P,A]=s.useState(!1),[R,M]=s.useState(!1),[D,L]=s.useState(null),[I,O]=s.useState(null),[F,z]=s.useState(null),[U,$]=s.useState(null),[K,G]=s.useState(""),[q,X]=s.useState("all"),[Z,J]=s.useState(null),[Q,te]=s.useState(null),[ne,ie]=s.useState(!1),[oe,le]=s.useState(""),[ce,de]=s.useState(null),[he,pe]=s.useState(!0);s.useEffect(()=>{fe();const e=setInterval(()=>{he&&fe()},3e4);return()=>clearInterval(e)},[he]),s.useEffect(()=>{"users"===e&&ge(),"campaigns"===e&&ve(),"security"===e&&be(),"subscriptions"===e&&je(),"support"===e&&we(),"audit"===e&&Ne(),"settings"===e&&Se()},[e]);const fe=async()=>{try{const e=await fetch("/api/admin/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();r(t)}}catch(e){}},ge=async()=>{try{const e=await fetch("/api/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();o(t.users||[])}}catch(e){J("Failed to load users")}},ve=async()=>{try{const e=await fetch("/api/admin/campaigns/details",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();c(t.campaigns||[])}}catch(e){J("Failed to load campaigns")}},be=async()=>{try{const e=await fetch("/api/admin/security/threats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();u(t.threats||[])}}catch(e){J("Failed to load security threats")}},je=async()=>{try{const e=await fetch("/api/admin/subscriptions",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();m(t.subscriptions||[])}}catch(e){J("Failed to load subscriptions")}},we=async()=>{try{const e=await fetch("/api/admin/support/tickets",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();x(t.tickets||[])}}catch(e){J("Failed to load support tickets")}},Ne=async()=>{try{const e=await fetch("/api/admin/audit-logs",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();y(t.logs||[])}}catch(e){J("Failed to load audit logs")}},Se=async()=>{try{const e=await fetch("/api/admin/domains",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();g(t.domains||[])}}catch(e){J("Failed to load domains")}},Ce=e=>mt.jsx(Ud,{className:{pending:"bg-yellow-500",active:"bg-green-500",suspended:"bg-red-500",expired:"bg-orange-500",verified:"bg-blue-500",open:"bg-yellow-500",in_progress:"bg-blue-500",closed:"bg-green-500"}[e]||"bg-gray-500",children:e}),Ee=({icon:e,label:t,value:s,color:n})=>mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-4 sm:p-6",children:mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:t}),mt.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white mt-1",children:s})]}),mt.jsx("div",{className:`p-2 sm:p-3 rounded-lg ${n}`,children:mt.jsx(e,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})})]})})});return mt.jsxs("div",{className:"w-full h-full bg-slate-950 text-white p-3 sm:p-6",children:[Z&&mt.jsxs("div",{className:"mb-4 p-3 sm:p-4 bg-red-500/20 border border-red-500 rounded-lg text-red-200 text-xs sm:text-sm",children:[Z,mt.jsx("button",{onClick:()=>J(null),className:"ml-2 text-red-100 hover:text-red-50",children:""})]}),Q&&mt.jsxs("div",{className:"mb-4 p-3 sm:p-4 bg-green-500/20 border border-green-500 rounded-lg text-green-200 text-xs sm:text-sm",children:[Q,mt.jsx("button",{onClick:()=>te(null),className:"ml-2 text-green-100 hover:text-green-50",children:""})]}),mt.jsxs("div",{className:"mb-6",children:[mt.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-white mb-2",children:"Admin Panel"}),mt.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"Enterprise-grade administration dashboard"})]}),mt.jsxs($h,{value:e,onValueChange:t,className:"w-full",children:[mt.jsxs(Wh,{className:"grid grid-cols-2 sm:grid-cols-5 lg:grid-cols-8 gap-2 bg-slate-800 p-2 mb-6 overflow-x-auto",children:[mt.jsxs(Yh,{value:"dashboard",className:"text-xs sm:text-sm",children:[mt.jsx(V,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Dash"})]}),mt.jsxs(Yh,{value:"users",className:"text-xs sm:text-sm",children:[mt.jsx(ue,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),mt.jsxs(Yh,{value:"campaigns",className:"text-xs sm:text-sm",children:[mt.jsx(Re,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Camp"})]}),mt.jsxs(Yh,{value:"security",className:"text-xs sm:text-sm",children:[mt.jsx(Y,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Sec"})]}),mt.jsxs(Yh,{value:"subscriptions",className:"text-xs sm:text-sm",children:[mt.jsx(ke,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Subs"})]}),mt.jsxs(Yh,{value:"support",className:"text-xs sm:text-sm",children:[mt.jsx(Te,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Supp"})]}),mt.jsxs(Yh,{value:"audit",className:"text-xs sm:text-sm",children:[mt.jsx(Me,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Audit"})]}),mt.jsxs(Yh,{value:"settings",className:"text-xs sm:text-sm",children:[mt.jsx(H,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Set"})]})]}),mt.jsxs(Kh,{value:"dashboard",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Dashboard Overview"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"Real-time system metrics and statistics"})]}),mt.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[mt.jsx("label",{className:"text-xs sm:text-sm text-slate-400",children:"Auto-refresh:"}),mt.jsx("input",{type:"checkbox",checked:he,onChange:e=>pe(e.target.checked),className:"w-4 h-4"}),mt.jsx(oc,{onClick:fe,variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:mt.jsx(re,{className:"h-4 w-4"})})]})]}),mt.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[mt.jsx(Ee,{icon:ue,label:"Total Users",value:n.totalUsers,color:"bg-blue-500"}),mt.jsx(Ee,{icon:Re,label:"Total Campaigns",value:n.totalCampaigns,color:"bg-purple-500"}),mt.jsx(Ee,{icon:B,label:"Total Links",value:n.totalLinks,color:"bg-green-500"}),mt.jsx(Ee,{icon:me,label:"Total Clicks",value:n.totalClicks,color:"bg-orange-500"})]})]}),mt.jsxs(Kh,{value:"users",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"User Management"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"Manage system users and permissions"})]}),mt.jsxs(nh,{open:k,onOpenChange:S,children:[mt.jsx(rh,{asChild:!0,children:mt.jsxs(oc,{className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto text-xs sm:text-sm",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create User"]})}),mt.jsxs(oh,{className:"bg-slate-800 border-slate-700 w-[95vw] sm:w-full",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{className:"text-white",children:"Create New User"}),mt.jsx(uh,{className:"text-slate-400",children:"Add a new user to the system with specified role and permissions."})]}),mt.jsxs("div",{className:"space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("label",{className:"text-white text-sm mb-2 block",children:"Username"}),mt.jsx(ou,{value:w.username,onChange:e=>N({...w,username:e.target.value}),placeholder:"Enter username",className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{children:[mt.jsx("label",{className:"text-white text-sm mb-2 block",children:"Email"}),mt.jsx(ou,{type:"email",value:w.email,onChange:e=>N({...w,email:e.target.value}),placeholder:"Enter email",className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{children:[mt.jsx("label",{className:"text-white text-sm mb-2 block",children:"Password"}),mt.jsx(ou,{type:"password",value:w.password,onChange:e=>N({...w,password:e.target.value}),placeholder:"Enter password",className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{children:[mt.jsx("label",{className:"text-white text-sm mb-2 block",children:"Role"}),mt.jsxs("select",{value:w.role,onChange:e=>N({...w,role:e.target.value}),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-md p-2 text-sm",children:[mt.jsx("option",{value:"member",children:"Member"}),mt.jsx("option",{value:"admin",children:"Admin"}),mt.jsx("option",{value:"assistant_admin",children:"Assistant Admin"}),mt.jsx("option",{value:"main_admin",children:"Main Admin"})]})]}),mt.jsxs("div",{children:[mt.jsx("label",{className:"text-white text-sm mb-2 block",children:"Status"}),mt.jsxs("select",{value:w.status,onChange:e=>N({...w,status:e.target.value}),className:"w-full bg-slate-700 border border-slate-600 text-white rounded-md p-2 text-sm",children:[mt.jsx("option",{value:"active",children:"Active"}),mt.jsx("option",{value:"suspended",children:"Suspended"}),mt.jsx("option",{value:"pending",children:"Pending"})]})]}),mt.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row",children:[mt.jsx(oc,{onClick:async()=>{if(w.username&&w.email&&w.password)try{const e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(w)});if(e.ok)te("User created successfully"),S(!1),N({username:"",email:"",password:"",role:"member",status:"active"}),ge();else{const t=await e.json();J(t.error||"Failed to create user")}}catch(e){J("Error creating user")}else J("Please fill in all required fields")},className:"bg-blue-600 hover:bg-blue-700 flex-1 text-xs sm:text-sm",children:"Create User"}),mt.jsx(oc,{onClick:()=>S(!1),variant:"outline",className:"flex-1 text-xs sm:text-sm",children:"Cancel"})]})]})]})]})]}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-3 sm:p-6",children:mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-white text-xs sm:text-sm",children:"Username"}),mt.jsx(cm,{className:"text-white hidden sm:table-cell text-xs sm:text-sm",children:"Email"}),mt.jsx(cm,{className:"text-white text-xs sm:text-sm",children:"Role"}),mt.jsx(cm,{className:"text-white text-xs sm:text-sm",children:"Status"}),mt.jsx(cm,{className:"text-white text-right text-xs sm:text-sm",children:"Actions"})]})}),mt.jsx(om,{children:0===i.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:5,className:"text-center py-8 text-slate-400 text-xs sm:text-sm",children:"No users found."})}):i.map(e=>mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white text-xs sm:text-sm font-medium",children:e.username}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:e.email}),mt.jsx(dm,{className:"text-slate-300 text-xs sm:text-sm",children:Ce(e.role)}),mt.jsx(dm,{className:"text-slate-300 text-xs sm:text-sm",children:Ce(e.status)}),mt.jsx(dm,{className:"text-right",children:mt.jsxs(Wl,{children:[mt.jsx(Yl,{asChild:!0,children:mt.jsx(oc,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",children:mt.jsx(De,{className:"h-4 w-4"})})}),mt.jsxs(Kl,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(Gl,{className:"text-slate-300",children:"Edit"}),mt.jsx(Gl,{className:"text-slate-300",children:"Reset Password"}),mt.jsx(Gl,{className:"text-red-500",children:"Delete"})]})]})})]},e.id))})]})})})})]}),mt.jsxs(Kh,{value:"campaigns",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Campaign Management"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"View and manage all campaigns"})]}),mt.jsxs(oc,{className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto text-xs sm:text-sm",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-3 sm:p-6",children:mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-white text-xs sm:text-sm",children:"Name"}),mt.jsx(cm,{className:"text-white hidden sm:table-cell text-xs sm:text-sm",children:"Status"}),mt.jsx(cm,{className:"text-white text-xs sm:text-sm",children:"Links"}),mt.jsx(cm,{className:"text-white hidden md:table-cell text-xs sm:text-sm",children:"Clicks"}),mt.jsx(cm,{className:"text-white text-right text-xs sm:text-sm",children:"Expand"})]})}),mt.jsx(om,{children:0===l.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:5,className:"text-center py-8 text-slate-400 text-xs sm:text-sm",children:"No campaigns found."})}):l.map(e=>mt.jsxs(a.Fragment,{children:[mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white text-xs sm:text-sm font-medium",children:e.name}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:Ce(e.status)}),mt.jsx(dm,{className:"text-slate-300 text-xs sm:text-sm",children:e.link_count||0}),mt.jsx(dm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:e.click_count||0}),mt.jsx(dm,{className:"text-right",children:mt.jsx(oc,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void $(U===t?null:t);var t},className:"text-slate-400 hover:text-white",children:U===e.id?mt.jsx(se,{className:"h-4 w-4"}):mt.jsx(ee,{className:"h-4 w-4"})})})]}),U===e.id&&mt.jsx(lm,{className:"bg-slate-900/50 border-slate-700",children:mt.jsx(dm,{colSpan:5,className:"p-3 sm:p-4",children:mt.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 sm:p-4 space-y-3",children:[mt.jsxs("div",{children:[mt.jsx("h4",{className:"text-white font-semibold text-sm sm:text-base mb-2",children:"Campaign Details"}),mt.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-xs sm:text-sm",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400",children:"Created:"}),mt.jsx("p",{className:"text-white",children:new Date(e.created_at).toLocaleDateString()})]}),mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400",children:"Description:"}),mt.jsx("p",{className:"text-white",children:e.description||"N/A"})]})]})]}),e.links&&e.links.length>0&&mt.jsxs("div",{children:[mt.jsx("h5",{className:"text-white font-semibold text-sm mb-2",children:"Associated Links"}),mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{className:"text-xs sm:text-sm",children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-600",children:[mt.jsx(cm,{className:"text-slate-300 text-xs",children:"Code"}),mt.jsx(cm,{className:"text-slate-300 hidden sm:table-cell text-xs",children:"URL"}),mt.jsx(cm,{className:"text-slate-300 text-xs",children:"Clicks"}),mt.jsx(cm,{className:"text-slate-300 text-right text-xs",children:"Actions"})]})}),mt.jsx(om,{children:e.links.map(e=>mt.jsxs(lm,{className:"border-slate-600",children:[mt.jsx(dm,{className:"text-white text-xs font-mono",children:e.short_code}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs truncate max-w-[150px]",children:e.original_url}),mt.jsx(dm,{className:"text-slate-300 text-xs",children:e.clicks||0}),mt.jsx(dm,{className:"text-right",children:mt.jsx(oc,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white text-xs",children:"View"})})]},e.id))})]})})]})]})})})]},e.id))})]})})})})]}),mt.jsxs(Kh,{value:"security",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Security Threats"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"Monitor and manage security incidents"})]}),mt.jsxs(oc,{onClick:be,variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-3 sm:p-6",children:mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"IP Address"}),mt.jsx(cm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:"Threat Type"}),mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"Severity"}),mt.jsx(cm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:"Timestamp"}),mt.jsx(cm,{className:"text-slate-300 text-right text-xs sm:text-sm",children:"Status"})]})}),mt.jsx(om,{children:0===d.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:5,className:"text-center py-8 text-slate-400 text-xs sm:text-sm",children:"No security threats detected."})}):d.map(e=>mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white text-xs sm:text-sm font-mono",children:e.ip_address}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:e.threat_type}),mt.jsxs(dm,{className:"text-xs sm:text-sm",children:["critical"===e.severity&&mt.jsx(Ud,{className:"bg-red-600",children:"Critical"}),"high"===e.severity&&mt.jsx(Ud,{className:"bg-orange-600",children:"High"}),"medium"===e.severity&&mt.jsx(Ud,{className:"bg-yellow-600",children:"Medium"})]}),mt.jsx(dm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:new Date(e.timestamp).toLocaleString()}),mt.jsx(dm,{className:"text-right",children:Ce(e.status)})]},e.id))})]})})})})]}),mt.jsxs(Kh,{value:"subscriptions",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Subscriptions"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"Manage user subscriptions and plans"})]}),mt.jsxs(oc,{onClick:je,variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-3 sm:p-6",children:mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"User"}),mt.jsx(cm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:"Plan"}),mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"Status"}),mt.jsx(cm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:"Expires"}),mt.jsx(cm,{className:"text-slate-300 text-right text-xs sm:text-sm",children:"Actions"})]})}),mt.jsx(om,{children:0===h.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:5,className:"text-center py-8 text-slate-400 text-xs sm:text-sm",children:"No subscriptions found."})}):h.map(e=>mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white text-xs sm:text-sm",children:e.user_name}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:e.plan_type}),mt.jsx(dm,{className:"text-xs sm:text-sm",children:Ce(e.status)}),mt.jsx(dm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:new Date(e.expiry_date).toLocaleDateString()}),mt.jsx(dm,{className:"text-right",children:mt.jsx(oc,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white text-xs",children:"Manage"})})]},e.id))})]})})})})]}),mt.jsxs(Kh,{value:"support",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Support Tickets"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"Manage customer support requests"})]}),mt.jsxs(oc,{onClick:we,variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-3 sm:p-6",children:mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"Ticket ID"}),mt.jsx(cm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:"Subject"}),mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"Status"}),mt.jsx(cm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:"Priority"}),mt.jsx(cm,{className:"text-slate-300 text-right text-xs sm:text-sm",children:"Actions"})]})}),mt.jsx(om,{children:0===p.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:5,className:"text-center py-8 text-slate-400 text-xs sm:text-sm",children:"No support tickets found."})}):p.map(e=>mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white text-xs sm:text-sm font-mono",children:e.id}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm truncate max-w-[200px]",children:e.subject}),mt.jsx(dm,{className:"text-xs sm:text-sm",children:Ce(e.status)}),mt.jsxs(dm,{className:"text-xs sm:text-sm hidden md:table-cell",children:["high"===e.priority&&mt.jsx(Ud,{className:"bg-red-600",children:"High"}),"medium"===e.priority&&mt.jsx(Ud,{className:"bg-yellow-600",children:"Medium"}),"low"===e.priority&&mt.jsx(Ud,{className:"bg-green-600",children:"Low"})]}),mt.jsx(dm,{className:"text-right",children:mt.jsx(oc,{variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white text-xs",children:"View"})})]},e.id))})]})})})})]}),mt.jsxs(Kh,{value:"audit",className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Audit Logs"}),mt.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"System activity and user actions"})]}),mt.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[mt.jsxs(oc,{onClick:Ne,variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[mt.jsx(re,{className:"h-4 w-4 mr-2"}),"Refresh"]}),mt.jsxs(oc,{onClick:async()=>{try{const e=await fetch("/api/admin/audit-logs/export",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.blob(),s=window.URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download="audit_logs.csv",n.click(),te("Audit logs exported successfully")}}catch(e){J("Failed to export audit logs")}},variant:"outline",size:"sm",className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[mt.jsx(ae,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-3 sm:p-6",children:mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"ID"}),mt.jsx(cm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:"User ID"}),mt.jsx(cm,{className:"text-slate-300 text-xs sm:text-sm",children:"Action"}),mt.jsx(cm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:"Timestamp"})]})}),mt.jsx(om,{children:0===v.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:4,className:"text-center py-8 text-slate-400 text-xs sm:text-sm",children:"No audit logs found."})}):v.map(e=>mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white text-xs sm:text-sm font-mono",children:e.id}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs sm:text-sm",children:e.user_id}),mt.jsx(dm,{className:"text-slate-300 text-xs sm:text-sm",children:e.action}),mt.jsx(dm,{className:"text-slate-300 hidden md:table-cell text-xs sm:text-sm",children:new Date(e.timestamp).toLocaleString()})]},e.id))})]})})})})]}),mt.jsx(Kh,{value:"settings",className:"space-y-6",children:mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[mt.jsx("div",{className:"lg:col-span-2 space-y-6",children:mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(dc,{children:[mt.jsxs(uc,{className:"text-white text-lg sm:text-xl flex items-center gap-2",children:[mt.jsx(W,{className:"h-5 w-5"}),"Domain Management"]}),mt.jsxs(hc,{className:"text-slate-400 text-xs sm:text-sm",children:["Manage short.io domains for link creation (",f.length,"/200+)"]})]}),mt.jsxs(mc,{className:"space-y-4",children:[mt.jsxs(nh,{open:C,onOpenChange:E,children:[mt.jsx(rh,{asChild:!0,children:mt.jsxs(oc,{className:"bg-blue-600 hover:bg-blue-700 w-full text-xs sm:text-sm",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Add Domain"]})}),mt.jsxs(oh,{className:"bg-slate-800 border-slate-700 w-[95vw] sm:w-full",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{className:"text-white",children:"Add New Domain"}),mt.jsx(uh,{className:"text-slate-400 text-xs sm:text-sm",children:"Add a short.io domain for link creation"})]}),mt.jsxs("div",{className:"space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("label",{className:"text-white text-sm mb-2 block",children:"Domain"}),mt.jsx(ou,{value:b,onChange:e=>j(e.target.value),placeholder:"e.g., example.short.gy",className:"bg-slate-700 border-slate-600 text-white text-xs sm:text-sm"})]}),mt.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row",children:[mt.jsx(oc,{onClick:async()=>{if(b)try{const e=await fetch("/api/admin/domains",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({domain:b})});if(e.ok)te("Domain added successfully"),E(!1),j(""),Se();else{const t=await e.json();J(t.error||"Failed to add domain")}}catch(e){J("Error adding domain")}else J("Please enter a domain")},className:"bg-blue-600 hover:bg-blue-700 flex-1 text-xs sm:text-sm",children:"Add Domain"}),mt.jsx(oc,{onClick:()=>E(!1),variant:"outline",className:"flex-1 text-xs sm:text-sm",children:"Cancel"})]})]})]})]}),mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{className:"text-xs sm:text-sm",children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-slate-700",children:[mt.jsx(cm,{className:"text-white",children:"Domain"}),mt.jsx(cm,{className:"text-white hidden sm:table-cell",children:"Status"}),mt.jsx(cm,{className:"text-white text-right",children:"Actions"})]})}),mt.jsx(om,{children:0===f.length?mt.jsx(lm,{children:mt.jsx(dm,{colSpan:3,className:"text-center py-4 text-slate-400 text-xs",children:"No domains added yet."})}):f.map(e=>mt.jsxs(lm,{className:"border-slate-700 hover:bg-slate-700/50",children:[mt.jsx(dm,{className:"text-white font-mono text-xs sm:text-sm",children:e.domain}),mt.jsx(dm,{className:"text-slate-300 hidden sm:table-cell text-xs",children:Ce(e.status)}),mt.jsx(dm,{className:"text-right",children:mt.jsx(oc,{onClick:()=>(async e=>{try{(await fetch(`/api/admin/domains/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(te("Domain deleted successfully"),Se()):J("Failed to delete domain")}catch(t){J("Error deleting domain")}})(e.id),variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300 text-xs",children:mt.jsx(Le,{className:"h-4 w-4"})})})]},e.id))})]})})]})]})}),mt.jsxs("div",{className:"space-y-4",children:[mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white text-base sm:text-lg flex items-center gap-2",children:[mt.jsx(Ie,{className:"h-5 w-5"}),"System Settings"]})}),mt.jsx(mc,{className:"space-y-3",children:mt.jsxs(nh,{open:ne,onOpenChange:ie,children:[mt.jsx(rh,{asChild:!0,children:mt.jsxs(oc,{variant:"destructive",className:"w-full text-xs sm:text-sm",children:[mt.jsx(ye,{className:"h-4 w-4 mr-2"}),"Delete All Data"]})}),mt.jsxs(oh,{className:"bg-slate-800 border-slate-700 w-[95vw] sm:w-full",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{className:"text-red-500",children:"Delete All System Data"}),mt.jsx(uh,{className:"text-slate-400 text-xs sm:text-sm",children:'This action is permanent and cannot be undone. Type "DELETE ALL DATA" to confirm.'})]}),mt.jsxs("div",{className:"space-y-4",children:[mt.jsx(ou,{value:oe,onChange:e=>le(e.target.value),placeholder:'Type "DELETE ALL DATA" to confirm',className:"bg-slate-700 border-slate-600 text-white text-xs sm:text-sm"}),mt.jsxs("div",{className:"flex gap-2 flex-col sm:flex-row",children:[mt.jsx(oc,{onClick:async()=>{if("DELETE ALL DATA"===oe)try{(await fetch("/api/admin/system/delete-all",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(te("All system data deleted"),ie(!1),le(""),fe()):J("Failed to delete system data")}catch(e){J("Error deleting system data")}else J('Please type "DELETE ALL DATA" to confirm')},variant:"destructive",className:"flex-1 text-xs sm:text-sm",children:"Delete All Data"}),mt.jsx(oc,{onClick:()=>{ie(!1),le("")},variant:"outline",className:"flex-1 text-xs sm:text-sm",children:"Cancel"})]})]})]})]})})]}),mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white text-base sm:text-lg flex items-center gap-2",children:[mt.jsx(Oe,{className:"h-5 w-5"}),"Database Info"]})}),mt.jsxs(mc,{className:"space-y-2 text-xs sm:text-sm",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400",children:"Total Users"}),mt.jsx("p",{className:"text-white font-semibold",children:n.totalUsers})]}),mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400",children:"Total Links"}),mt.jsx("p",{className:"text-white font-semibold",children:n.totalLinks})]}),mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400",children:"Total Clicks"}),mt.jsx("p",{className:"text-white font-semibold",children:n.totalClicks})]})]})]})]})]})})]})]})}const hm=({size:e="md",showText:t=!0,className:s=""})=>{const n={sm:{container:"h-8",icon:"h-6 w-6",text:"text-lg"},md:{container:"h-10",icon:"h-8 w-8",text:"text-xl"},lg:{container:"h-12",icon:"h-10 w-10",text:"text-2xl"},xl:{container:"h-16",icon:"h-12 w-12",text:"text-3xl"}}[e];return mt.jsxs("div",{className:`flex items-center gap-3 ${n.container} ${s}`,children:[mt.jsxs("div",{className:"relative",children:[mt.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-lg blur-sm opacity-75"}),mt.jsx("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 rounded-lg p-2 shadow-lg",children:mt.jsxs("div",{className:"relative",children:[mt.jsx(Fe,{className:`${n.icon} text-white`}),mt.jsx(ie,{className:"absolute -bottom-1 -right-1 h-4 w-4 text-white bg-gradient-to-br from-blue-500 to-purple-500 rounded-full p-0.5"})]})})]}),t&&mt.jsxs("div",{className:"flex flex-col",children:[mt.jsx("h1",{className:`${n.text} font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent leading-tight`,children:"Brain Link"}),mt.jsx("span",{className:"text-xs text-muted-foreground font-medium tracking-wider uppercase -mt-1",children:"Tracker"})]})]})},mm=({onLogin:e})=>{const t=o(),[n,r]=s.useState({username:"",password:""}),[a,i]=s.useState(!1),[l,c]=s.useState(!1),[d,u]=s.useState(""),h=e=>{r({...n,[e.target.name]:e.target.value})};return mt.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:mt.jsxs(cc,{className:"w-full max-w-md bg-card border-border",children:[mt.jsxs(dc,{className:"text-center",children:[mt.jsx("div",{className:"flex justify-center mb-4 cursor-pointer",onClick:()=>t("/"),children:mt.jsx(hm,{size:"lg"})}),mt.jsx(uc,{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),mt.jsx(hc,{className:"text-muted-foreground",children:"Sign in to your account"})]}),mt.jsx(mc,{children:mt.jsxs("form",{onSubmit:async s=>{s.preventDefault(),c(!0),u("");await e(n.username,n.password)&&t("/dashboard"),c(!1)},className:"space-y-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"username",className:"text-foreground text-sm font-medium",children:"Username/Email"}),mt.jsxs("div",{className:"relative",children:[mt.jsx(ce,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),mt.jsx(ou,{id:"username",name:"username",type:"text",placeholder:"Enter your username or email",value:n.username,onChange:h,required:!0,className:"pl-10 bg-input border-border text-foreground placeholder-muted-foreground focus:border-primary"})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"password",className:"text-foreground text-sm font-medium",children:"Password"}),mt.jsxs("div",{className:"relative",children:[mt.jsx(Se,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),mt.jsx(ou,{id:"password",name:"password",type:a?"text":"password",placeholder:"Enter your password",value:n.password,onChange:h,required:!0,className:"pl-10 pr-10 bg-input border-border text-foreground placeholder-muted-foreground focus:border-primary"}),mt.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:a?mt.jsx(ze,{className:"h-4 w-4"}):mt.jsx(le,{className:"h-4 w-4"})})]})]}),d&&mt.jsx("div",{className:"text-destructive text-sm text-center",children:d}),mt.jsx(oc,{type:"submit",disabled:l,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground font-medium",children:l?"Signing in...":"Sign In"}),mt.jsx(oc,{type:"button",variant:"outline",onClick:()=>t("/register"),className:"w-full border-border text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:"Don't have an account? Sign up"})]})})]})})},pm=()=>{const e=o(),[t]=c(),n=t.get("plan")||"free",[r,a]=s.useState({username:"",email:"",password:"",confirmPassword:"",plan:n}),[i,l]=s.useState(!1),[u,h]=s.useState(!1),[m,p]=s.useState(!1),[x,f]=s.useState({score:0,feedback:[]});s.useEffect(()=>{a(e=>({...e,plan:n}))},[n]);const g=e=>{const{name:t,value:s}=e.target;a(e=>({...e,[t]:s})),"password"===t&&(e=>{const t=[];let s=0;e.length>=8?(s++,t.push({text:"At least 8 characters",met:!0})):t.push({text:"At least 8 characters",met:!1}),/[A-Z]/.test(e)?(s++,t.push({text:"Contains uppercase letter",met:!0})):t.push({text:"Contains uppercase letter",met:!1}),/[a-z]/.test(e)?(s++,t.push({text:"Contains lowercase letter",met:!0})):t.push({text:"Contains lowercase letter",met:!1}),/[0-9]/.test(e)?(s++,t.push({text:"Contains number",met:!0})):t.push({text:"Contains number",met:!1}),/[^A-Za-z0-9]/.test(e)?(s++,t.push({text:"Contains special character",met:!0})):t.push({text:"Contains special character",met:!1}),f({score:s,feedback:t})})(s)};return mt.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-4",children:mt.jsxs(cc,{className:"w-full max-w-md bg-slate-900 border-slate-800",children:[mt.jsxs(dc,{className:"text-center",children:[mt.jsx("div",{className:"flex justify-center mb-4 cursor-pointer",onClick:()=>e("/"),children:mt.jsx(hm,{size:"lg"})}),mt.jsx(uc,{className:"text-2xl font-bold text-white",children:"Create Your Account"}),mt.jsx(hc,{className:"text-slate-400",children:"Join thousands of users tracking their links"})]}),mt.jsx(mc,{children:mt.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),p(!0),r.password!==r.confirmPassword)return em.error("Passwords do not match"),void p(!1);if(x.score<3)return em.error("Password is too weak. Please meet at least 3 requirements."),void p(!1);try{const t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,email:r.email,password:r.password,plan:r.plan})}),s=await t.json();t.ok?(em.success("Registration successful! Your account is pending admin approval."),setTimeout(()=>{e("/login")},2e3)):em.error(s.error||"Registration failed")}catch(zT){em.error("Network error. Please try again.")}finally{p(!1)}},className:"space-y-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"username",className:"text-white text-sm font-medium",children:"Username"}),mt.jsxs("div",{className:"relative",children:[mt.jsx(Q,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),mt.jsx(ou,{id:"username",name:"username",type:"text",placeholder:"Choose a username",value:r.username,onChange:g,required:!0,className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"email",className:"text-white text-sm font-medium",children:"Email"}),mt.jsxs("div",{className:"relative",children:[mt.jsx(ce,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),mt.jsx(ou,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:r.email,onChange:g,required:!0,className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"password",className:"text-white text-sm font-medium",children:"Password"}),mt.jsxs("div",{className:"relative",children:[mt.jsx(Se,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),mt.jsx(ou,{id:"password",name:"password",type:i?"text":"password",placeholder:"Create a strong password",value:r.password,onChange:g,required:!0,className:"pl-10 pr-10 bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"}),mt.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-3 text-slate-400 hover:text-white",children:i?mt.jsx(ze,{className:"h-4 w-4"}):mt.jsx(le,{className:"h-4 w-4"})})]}),r.password&&mt.jsxs("div",{className:"space-y-2 mt-2",children:[mt.jsxs("div",{className:"flex items-center justify-between text-xs",children:[mt.jsx("span",{className:"text-slate-400",children:"Password Strength:"}),mt.jsx("span",{className:"font-semibold "+(x.score<=2?"text-red-500":3===x.score?"text-yellow-500":4===x.score?"text-blue-500":"text-green-500"),children:x.score<=2?"Weak":3===x.score?"Fair":4===x.score?"Good":"Strong"})]}),mt.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:mt.jsx("div",{className:"h-2 rounded-full transition-all "+(x.score<=2?"bg-red-500":3===x.score?"bg-yellow-500":4===x.score?"bg-blue-500":"bg-green-500"),style:{width:x.score/5*100+"%"}})}),mt.jsx("div",{className:"space-y-1",children:x.feedback.map((e,t)=>mt.jsxs("div",{className:"flex items-center text-xs",children:[e.met?mt.jsx(Ve,{className:"w-3 h-3 text-green-500 mr-2"}):mt.jsx(Be,{className:"w-3 h-3 text-slate-500 mr-2"}),mt.jsx("span",{className:e.met?"text-green-500":"text-slate-500",children:e.text})]},t))})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"confirmPassword",className:"text-white text-sm font-medium",children:"Confirm Password"}),mt.jsxs("div",{className:"relative",children:[mt.jsx(Se,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),mt.jsx(ou,{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",placeholder:"Confirm your password",value:r.confirmPassword,onChange:g,required:!0,className:"pl-10 pr-10 bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"}),mt.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-3 text-slate-400 hover:text-white",children:u?mt.jsx(ze,{className:"h-4 w-4"}):mt.jsx(le,{className:"h-4 w-4"})})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"plan",className:"text-white text-sm font-medium",children:"Select Plan"}),mt.jsxs(Md,{value:r.plan,onValueChange:e=>a(t=>({...t,plan:e})),children:[mt.jsx(Ld,{className:"bg-slate-800 border-slate-700 text-white",children:mt.jsx(Dd,{placeholder:"Choose a plan"})}),mt.jsxs(Id,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(Od,{value:"free",className:"text-white",children:"Free Plan - $0 (7-day trial, 10 links/day)"}),mt.jsx(Od,{value:"weekly",className:"text-white",children:"Weekly Plan - $35 (7 days)"}),mt.jsx(Od,{value:"biweekly",className:"text-white",children:"Biweekly Plan - $68 (14 days)"}),mt.jsx(Od,{value:"monthly",className:"text-white",children:"Monthly Plan - $150 (30 days)"}),mt.jsx(Od,{value:"quarterly",className:"text-white",children:"Quarterly Plan - $420 (90 days)"}),mt.jsx(Od,{value:"pro",className:"text-white",children:"Pro Plan - $299/month"}),mt.jsx(Od,{value:"enterprise",className:"text-white",children:"Enterprise Plan - $999/year"})]})]})]}),mt.jsx(oc,{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium",children:m?"Creating Account...":"Create Account"}),mt.jsxs("div",{className:"text-center text-sm text-slate-400",children:["Already have an account?"," ",mt.jsx(d,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium",children:"Sign in"})]})]})})]})})},xm=s.createContext({});const fm="undefined"!=typeof window,gm=fm?s.useLayoutEffect:s.useEffect,vm=s.createContext(null);function ym(e,t){-1===e.indexOf(t)&&e.push(t)}function bm(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const jm=(e,t,s)=>s>t?t:s<e?e:s;const wm={},Nm=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function km(e){return"object"==typeof e&&null!==e}const Sm=e=>/^0[^.\s]+$/u.test(e);function Cm(e){let t;return()=>(void 0===t&&(t=e()),t)}const Em=e=>e,_m=(e,t)=>s=>t(e(s)),Tm=(...e)=>e.reduce(_m),Pm=(e,t,s)=>{const n=t-e;return 0===n?1:(s-e)/n};class Am{constructor(){this.subscriptions=[]}add(e){return ym(this.subscriptions,e),()=>bm(this.subscriptions,e)}notify(e,t,s){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,s);else for(let r=0;r<n;r++){const n=this.subscriptions[r];n&&n(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rm=e=>1e3*e,Mm=e=>e/1e3;function Dm(e,t){return t?e*(1e3/t):0}const Lm=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e;function Im(e,t,s,n){if(e===t&&s===n)return Em;const r=t=>function(e,t,s,n,r){let a,i,o=0;do{i=t+(s-t)/2,a=Lm(i,n,r)-e,a>0?s=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,s);return e=>0===e||1===e?e:Lm(r(e),t,n)}const Om=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Fm=e=>t=>1-e(1-t),zm=Im(.33,1.53,.69,.99),Vm=Fm(zm),Bm=Om(Vm),Um=e=>(e*=2)<1?.5*Vm(e):.5*(2-Math.pow(2,-10*(e-1))),$m=e=>1-Math.sin(Math.acos(e)),Wm=Fm($m),Ym=Om($m),Km=Im(.42,0,1,1),Gm=Im(0,0,.58,1),Hm=Im(.42,0,.58,1),qm=e=>Array.isArray(e)&&"number"==typeof e[0],Xm={linear:Em,easeIn:Km,easeInOut:Hm,easeOut:Gm,circIn:$m,circInOut:Ym,circOut:Wm,backIn:Vm,backInOut:Bm,backOut:zm,anticipate:Um},Zm=e=>{if(qm(e)){e.length;const[t,s,n,r]=e;return Im(t,s,n,r)}return"string"==typeof e?Xm[e]:e},Jm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qm(e,t){let s=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,i=Jm.reduce((e,t)=>(e[t]=function(e){let t=new Set,s=new Set,n=!1,r=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function o(t){a.has(t)&&(l.schedule(t),e()),t(i)}const l={schedule:(e,r=!1,i=!1)=>{const o=i&&n?t:s;return r&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{s.delete(e),a.delete(e)},process:e=>{i=e,n?r=!0:(n=!0,[t,s]=[s,t],t.forEach(o),t.clear(),n=!1,r&&(r=!1,l.process(e)))}};return l}(a),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:m,postRender:p}=i,x=()=>{const a=wm.useManualTiming?r.timestamp:performance.now();s=!1,wm.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(a-r.timestamp,40),1)),r.timestamp=a,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),d.process(r),u.process(r),h.process(r),m.process(r),p.process(r),r.isProcessing=!1,s&&t&&(n=!1,e(x))};return{schedule:Jm.reduce((t,a)=>{const o=i[a];return t[a]=(t,a=!1,i=!1)=>(s||(s=!0,n=!0,r.isProcessing||e(x)),o.schedule(t,a,i)),t},{}),cancel:e=>{for(let t=0;t<Jm.length;t++)i[Jm[t]].cancel(e)},state:r,steps:i}}const{schedule:ep,cancel:tp,state:sp,steps:np}=Qm("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Em,!0);let rp;function ap(){rp=void 0}const ip={now:()=>(void 0===rp&&ip.set(sp.isProcessing||wm.useManualTiming?sp.timestamp:performance.now()),rp),set:e=>{rp=e,queueMicrotask(ap)}},op=e=>t=>"string"==typeof t&&t.startsWith(e),lp=op("--"),cp=op("var(--"),dp=e=>!!cp(e)&&up.test(e.split("/*")[0].trim()),up=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hp={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},mp={...hp,transform:e=>jm(0,1,e)},pp={...hp,default:1},xp=e=>Math.round(1e5*e)/1e5,fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const gp=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vp=(e,t)=>s=>Boolean("string"==typeof s&&gp.test(s)&&s.startsWith(e)||t&&!function(e){return null==e}(s)&&Object.prototype.hasOwnProperty.call(s,t)),yp=(e,t,s)=>n=>{if("string"!=typeof n)return n;const[r,a,i,o]=n.match(fp);return{[e]:parseFloat(r),[t]:parseFloat(a),[s]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},bp={...hp,transform:e=>Math.round((e=>jm(0,255,e))(e))},jp={test:vp("rgb","red"),parse:yp("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:n=1})=>"rgba("+bp.transform(e)+", "+bp.transform(t)+", "+bp.transform(s)+", "+xp(mp.transform(n))+")"};const wp={test:vp("#"),parse:function(e){let t="",s="",n="",r="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),n=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),n=e.substring(3,4),r=e.substring(4,5),t+=t,s+=s,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}},transform:jp.transform},Np=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),kp=Np("deg"),Sp=Np("%"),Cp=Np("px"),Ep=Np("vh"),_p=Np("vw"),Tp=(()=>({...Sp,parse:e=>Sp.parse(e)/100,transform:e=>Sp.transform(100*e)}))(),Pp={test:vp("hsl","hue"),parse:yp("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(e)+", "+Sp.transform(xp(t))+", "+Sp.transform(xp(s))+", "+xp(mp.transform(n))+")"},Ap={test:e=>jp.test(e)||wp.test(e)||Pp.test(e),parse:e=>jp.test(e)?jp.parse(e):Pp.test(e)?Pp.parse(e):wp.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?jp.transform(e):Pp.transform(e),getAnimatableNone:e=>{const t=Ap.parse(e);return t.alpha=0,Ap.transform(t)}},Rp=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Mp="number",Dp="color",Lp=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ip(e){const t=e.toString(),s=[],n={color:[],number:[],var:[]},r=[];let a=0;const i=t.replace(Lp,e=>(Ap.test(e)?(n.color.push(a),r.push(Dp),s.push(Ap.parse(e))):e.startsWith("var(")?(n.var.push(a),r.push("var"),s.push(e)):(n.number.push(a),r.push(Mp),s.push(parseFloat(e))),++a,"${}")).split("${}");return{values:s,split:i,indexes:n,types:r}}function Op(e){return Ip(e).values}function Fp(e){const{split:t,types:s}=Ip(e),n=t.length;return e=>{let r="";for(let a=0;a<n;a++)if(r+=t[a],void 0!==e[a]){const t=s[a];r+=t===Mp?xp(e[a]):t===Dp?Ap.transform(e[a]):e[a]}return r}}const zp=e=>"number"==typeof e?0:Ap.test(e)?Ap.getAnimatableNone(e):e;const Vp={test:function(e){var t,s;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(fp))?void 0:t.length)||0)+((null==(s=e.match(Rp))?void 0:s.length)||0)>0},parse:Op,createTransformer:Fp,getAnimatableNone:function(e){const t=Op(e);return Fp(e)(t.map(zp))}};function Bp(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+6*(t-e)*s:s<.5?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Up(e,t){return s=>s>0?t:e}const $p=(e,t,s)=>e+(t-e)*s,Wp=(e,t,s)=>{const n=e*e,r=s*(t*t-n)+n;return r<0?0:Math.sqrt(r)},Yp=[wp,jp,Pp];function Kp(e){const t=(s=e,Yp.find(e=>e.test(s)));var s;if(!Boolean(t))return!1;let n=t.parse(e);return t===Pp&&(n=function({hue:e,saturation:t,lightness:s,alpha:n}){e/=360,s/=100;let r=0,a=0,i=0;if(t/=100){const n=s<.5?s*(1+t):s+t-s*t,o=2*s-n;r=Bp(o,n,e+1/3),a=Bp(o,n,e),i=Bp(o,n,e-1/3)}else r=a=i=s;return{red:Math.round(255*r),green:Math.round(255*a),blue:Math.round(255*i),alpha:n}}(n)),n}const Gp=(e,t)=>{const s=Kp(e),n=Kp(t);if(!s||!n)return Up(e,t);const r={...s};return e=>(r.red=Wp(s.red,n.red,e),r.green=Wp(s.green,n.green,e),r.blue=Wp(s.blue,n.blue,e),r.alpha=$p(s.alpha,n.alpha,e),jp.transform(r))},Hp=new Set(["none","hidden"]);function qp(e,t){return s=>$p(e,t,s)}function Xp(e){return"number"==typeof e?qp:"string"==typeof e?dp(e)?Up:Ap.test(e)?Gp:Qp:Array.isArray(e)?Zp:"object"==typeof e?Ap.test(e)?Gp:Jp:Up}function Zp(e,t){const s=[...e],n=s.length,r=e.map((e,s)=>Xp(e)(e,t[s]));return e=>{for(let t=0;t<n;t++)s[t]=r[t](e);return s}}function Jp(e,t){const s={...e,...t},n={};for(const r in s)void 0!==e[r]&&void 0!==t[r]&&(n[r]=Xp(e[r])(e[r],t[r]));return e=>{for(const t in n)s[t]=n[t](e);return s}}const Qp=(e,t)=>{const s=Vp.createTransformer(t),n=Ip(e),r=Ip(t);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Hp.has(e)&&!r.values.length||Hp.has(t)&&!n.values.length?function(e,t){return Hp.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}(e,t):Tm(Zp(function(e,t){const s=[],n={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],i=e.indexes[a][n[a]],o=e.values[i]??0;s[r]=o,n[a]++}return s}(n,r),r.values),s):Up(e,t)};function ex(e,t,s){if("number"==typeof e&&"number"==typeof t&&"number"==typeof s)return $p(e,t,s);return Xp(e)(e,t)}const tx=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>ep.update(t,e),stop:()=>tp(t),now:()=>sp.isProcessing?sp.timestamp:ip.now()}},sx=(e,t,s=10)=>{let n="";const r=Math.max(Math.round(t/s),2);for(let a=0;a<r;a++)n+=Math.round(1e4*e(a/(r-1)))/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},nx=2e4;function rx(e){let t=0;let s=e.next(t);for(;!s.done&&t<nx;)t+=50,s=e.next(t);return t>=nx?1/0:t}function ax(e,t,s){const n=Math.max(t-5,0);return Dm(s-e(n),t-n)}const ix=100,ox=10,lx=1,cx=0,dx=800,ux=.3,hx=.3,mx={granular:.01,default:2},px={granular:.005,default:.5},xx=.01,fx=10,gx=.05,vx=1,yx=.001;function bx({duration:e=dx,bounce:t=ux,velocity:s=cx,mass:n=lx}){let r,a,i=1-t;i=jm(gx,vx,i),e=jm(xx,fx,Mm(e)),i<1?(r=t=>{const n=t*i,r=n*e,a=n-s,o=wx(t,i),l=Math.exp(-r);return yx-a/o*l},a=t=>{const n=t*i*e,a=n*s+s,o=Math.pow(i,2)*Math.pow(t,2)*e,l=Math.exp(-n),c=wx(Math.pow(t,2),i);return(-r(t)+yx>0?-1:1)*((a-o)*l)/c}):(r=t=>Math.exp(-t*e)*((t-s)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(s-t)));const o=function(e,t,s){let n=s;for(let r=1;r<jx;r++)n-=e(n)/t(n);return n}(r,a,5/e);if(e=Rm(e),isNaN(o))return{stiffness:ix,damping:ox,duration:e};{const t=Math.pow(o,2)*n;return{stiffness:t,damping:2*i*Math.sqrt(n*t),duration:e}}}const jx=12;function wx(e,t){return e*Math.sqrt(1-t*t)}const Nx=["duration","bounce"],kx=["stiffness","damping","mass"];function Sx(e,t){return t.some(t=>void 0!==e[t])}function Cx(e=hx,t=ux){const s="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:r}=s;const a=s.keyframes[0],i=s.keyframes[s.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:cx,stiffness:ix,damping:ox,mass:lx,isResolvedFromDuration:!1,...e};if(!Sx(e,kx)&&Sx(e,Nx))if(e.visualDuration){const s=e.visualDuration,n=2*Math.PI/(1.2*s),r=n*n,a=2*jm(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:lx,stiffness:r,damping:a}}else{const s=bx(e);t={...t,...s,mass:lx},t.isResolvedFromDuration=!0}return t}({...s,velocity:-Mm(s.velocity||0)}),p=h||0,x=c/(2*Math.sqrt(l*d)),f=i-a,g=Mm(Math.sqrt(l/d)),v=Math.abs(f)<5;let y;if(n||(n=v?mx.granular:mx.default),r||(r=v?px.granular:px.default),x<1){const e=wx(g,x);y=t=>{const s=Math.exp(-x*g*t);return i-s*((p+x*g*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===x)y=e=>i-Math.exp(-g*e)*(f+(p+g*f)*e);else{const e=g*Math.sqrt(x*x-1);y=t=>{const s=Math.exp(-x*g*t),n=Math.min(e*t,300);return i-s*((p+x*g*f)*Math.sinh(n)+e*f*Math.cosh(n))/e}}const b={calculatedDuration:m&&u||null,next:e=>{const t=y(e);if(m)o.done=e>=u;else{let s=0===e?p:0;x<1&&(s=0===e?Rm(p):ax(y,e,t));const a=Math.abs(s)<=n,l=Math.abs(i-t)<=r;o.done=a&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(rx(b),nx),t=sx(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function Ex({keyframes:e,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},m=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=s*t;const x=u+p,f=void 0===i?x:i(x);f!==x&&(p=f-u);const g=e=>-p*Math.exp(-e/n),v=e=>f+g(e),y=e=>{const t=g(e),s=v(e);h.done=Math.abs(t)<=c,h.value=h.done?f:s};let b,j;const w=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(b=e,j=Cx({keyframes:[h.value,m(h.value)],velocity:ax(v,e,h.value),damping:r,stiffness:a,restDelta:c,restSpeed:d}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==b||(t=!0,y(e),w(e)),void 0!==b&&e>=b?j.next(e-b):(!t&&y(e),h)}}}function _x(e,t,{clamp:s=!0,ease:n,mixer:r}={}){const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,s){const n=[],r=s||wm.mix||ex,a=e.length-1;for(let i=0;i<a;i++){let s=r(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Em:t;s=Tm(e,s)}n.push(s)}return n}(t,n,r),l=o.length,c=s=>{if(i&&s<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(s<e[n+1]);n++);const r=Pm(e[n],e[n+1],s);return o[n](r)};return s?t=>c(jm(e[0],e[a-1],t)):c}function Tx(e){const t=[0];return function(e,t){const s=e[e.length-1];for(let n=1;n<=t;n++){const r=Pm(0,t,n);e.push($p(s,1,r))}}(t,e.length-1),t}function Px({duration:e=300,keyframes:t,times:s,ease:n="easeInOut"}){const r=(e=>Array.isArray(e)&&"number"!=typeof e[0])(n)?n.map(Zm):Zm(n),a={done:!1,value:t[0]},i=function(e,t){return e.map(e=>e*t)}(s&&s.length===t.length?s:Tx(t),e),o=_x(i,t,{ease:Array.isArray(r)?r:(l=t,c=r,l.map(()=>c||Hm).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}Cx.applyToOptions=e=>{const t=function(e,t=100,s){const n=s({...e,keyframes:[0,t]}),r=Math.min(rx(n),nx);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Mm(r)}}(e,100,Cx);return e.ease=t.ease,e.duration=Rm(t.duration),e.type="keyframes",e};const Ax=e=>null!==e;function Rx(e,{repeat:t,repeatType:s="loop"},n,r=1){const a=e.filter(Ax),i=r<0||t&&"loop"!==s&&t%2==1?0:a.length-1;return i&&void 0!==n?n:a[i]}const Mx={decay:Ex,inertia:Ex,tween:Px,keyframes:Px,spring:Cx};function Dx(e){"string"==typeof e.type&&(e.type=Mx[e.type])}class Lx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Ix=e=>e/100;class Ox extends Lx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:s}=this.options;s&&s.updatedAt!==ip.now()&&this.tick(ip.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Dx(e);const{type:t=Px,repeat:s=0,repeatDelay:n=0,repeatType:r,velocity:a=0}=e;let{keyframes:i}=e;const o=t||Px;o!==Px&&"number"!=typeof i[0]&&(this.mixKeyframes=Tm(Ix,ex(i[0],i[1])),i=[0,100]);const l=o({...e,keyframes:i});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...i].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=rx(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(s+1)-n,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:n,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:o}=this;if(null===this.startTime)return s.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const f=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?f<0:f>n;this.currentTime=Math.max(f,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let v=this.currentTime,y=s;if(d){const e=Math.min(this.currentTime,n)/i;let t=Math.floor(e),s=e%1;!s&&e>=1&&(s=1),1===s&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(s=1-s,h&&(s-=h/i)):"mirror"===u&&(y=a)),v=jm(0,1,s)*i}const b=g?{done:!1,value:c[0]}:y.next(v);r&&(b.value=r(b.value));let{done:j}=b;g||null===o||(j=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&m!==Ex&&(b.value=Rx(c,this.options,x,this.speed)),p&&p(b.value),w&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Mm(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mm(e)}get time(){return Mm(this.currentTime)}set time(e){var t;e=Rm(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ip.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Mm(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:s=tx,startTime:n}=this.options;this.driver||(this.driver=s(e=>this.tick(e))),null==(t=(e=this.options).onPlay)||t.call(e);const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ip.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const Fx=e=>180*e/Math.PI,zx=e=>{const t=Fx(Math.atan2(e[1],e[0]));return Bx(t)},Vx={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zx,rotateZ:zx,skewX:e=>Fx(Math.atan(e[1])),skewY:e=>Fx(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bx=e=>((e%=360)<0&&(e+=360),e),Ux=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$x=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Wx={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ux,scaleY:$x,scale:e=>(Ux(e)+$x(e))/2,rotateX:e=>Bx(Fx(Math.atan2(e[6],e[5]))),rotateY:e=>Bx(Fx(Math.atan2(-e[2],e[0]))),rotateZ:zx,rotate:zx,skewX:e=>Fx(Math.atan(e[4])),skewY:e=>Fx(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Yx(e){return e.includes("scale")?1:0}function Kx(e,t){if(!e||"none"===e)return Yx(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(s)n=Wx,r=s;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Vx,r=t}if(!r)return Yx(t);const a=n[t],i=r[1].split(",").map(Gx);return"function"==typeof a?a(i):i[a]}function Gx(e){return parseFloat(e.trim())}const Hx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qx=(()=>new Set(Hx))(),Xx=e=>e===hp||e===Cp,Zx=new Set(["x","y","z"]),Jx=Hx.filter(e=>!Zx.has(e));const Qx={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Kx(t,"x"),y:(e,{transform:t})=>Kx(t,"y")};Qx.translateX=Qx.x,Qx.translateY=Qx.y;const ef=new Set;let tf=!1,sf=!1,nf=!1;function rf(){if(sf){const e=Array.from(ef).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),s=new Map;t.forEach(e=>{const t=function(e){const t=[];return Jx.forEach(s=>{const n=e.getValue(s);void 0!==n&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}(e);t.length&&(s.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=s.get(e);t&&t.forEach(([t,s])=>{var n;null==(n=e.getValue(t))||n.set(s)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}sf=!1,tf=!1,ef.forEach(e=>e.complete(nf)),ef.clear()}function af(){ef.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sf=!0)})}class of{constructor(e,t,s,n,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=n,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(ef.add(this),tf||(tf=!0,ep.read(af),ep.resolveKeyframes(rf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:n}=this;if(null===e[0]){const r=null==n?void 0:n.get(),a=e[e.length-1];if(void 0!==r)e[0]=r;else if(s&&t){const n=s.readValue(t,a);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===r&&n.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ef.delete(this)}cancel(){"scheduled"===this.state&&(ef.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const lf=Cm(()=>void 0!==window.ScrollTimeline),cf={};function df(e,t){const s=Cm(e);return()=>cf[t]??s()}const uf=df(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),hf=([e,t,s,n])=>`cubic-bezier(${e}, ${t}, ${s}, ${n})`,mf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hf([0,.65,.55,1]),circOut:hf([.55,0,1,.45]),backIn:hf([.31,.01,.66,-.59]),backOut:hf([.33,1.53,.69,.99])};function pf(e,t){return e?"function"==typeof e?uf()?sx(e,t):"ease-out":qm(e)?hf(e):Array.isArray(e)?e.map(e=>pf(e,t)||mf.easeOut):mf[e]:void 0}function xf(e,t,s,{delay:n=0,duration:r=300,repeat:a=0,repeatType:i="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:s};l&&(d.offset=l);const u=pf(o,r);Array.isArray(u)&&(d.easing=u);const h={delay:n,duration:r,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(d,h)}function ff(e){return"function"==typeof e&&"applyToOptions"in e}class gf extends Lx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:n,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:i,onComplete:o}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=a,this.options=e,e.type;const l=function({type:e,...t}){return ff(e)&&uf()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=xf(t,s,n,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=Rx(n,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,s){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,s):e.style[t]=s}(t,s,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const s=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return Mm(Number(s))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Mm(e)}get time(){return Mm(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rm(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var s;return this.allowFlatten&&(null==(s=this.animation.effect)||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&lf()?(this.animation.timeline=e,Em):t(this)}}const vf={anticipate:Um,backInOut:Bm,circInOut:Ym};function yf(e){"string"==typeof e.ease&&e.ease in vf&&(e.ease=vf[e.ease])}class bf extends gf{constructor(e){yf(e),Dx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:n,element:r,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const i=new Ox({...a,autoplay:!1}),o=Rm(this.finishedTime??this.time);t.setWithVelocity(i.sample(o-10).value,i.sample(o).value,10),i.stop()}}const jf=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!Vp.test(e)&&"0"!==e||e.startsWith("url(")));function wf(e){e.duration=0,e.type="keyframes"}const Nf=new Set(["opacity","clipPath","filter","transform"]),kf=Cm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Sf extends Lx{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:n=0,repeatDelay:r=0,repeatType:a="loop",keyframes:i,name:o,motionValue:l,element:c,...d}){var u;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=ip.now();const h={autoplay:e,delay:t,type:s,repeat:n,repeatDelay:r,repeatType:a,name:o,motionValue:l,element:c,...d},m=(null==c?void 0:c.KeyframeResolver)||of;this.keyframeResolver=new m(i,(e,t,s)=>this.onKeyframesResolved(e,t,h,!s),o,l,c),null==(u=this.keyframeResolver)||u.scheduleResolve()}onKeyframesResolved(e,t,s,n){this.keyframeResolver=void 0;const{name:r,type:a,velocity:i,delay:o,isHandoff:l,onUpdate:c}=s;this.resolvedAt=ip.now(),function(e,t,s,n){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=jf(r,t),o=jf(a,t);return!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}(e)||("spring"===s||ff(s))&&n)}(e,r,a,i)||(!wm.instantAnimations&&o||null==c||c(Rx(e,s,t)),e[0]=e[e.length-1],wf(s),s.repeat=0);const d={startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},u=!l&&function(e){var t;const{motionValue:s,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!((null==(t=null==s?void 0:s.owner)?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=s.owner.getProps();return kf()&&n&&Nf.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==a&&0!==i&&"inertia"!==o}(d)?new bf({...d,element:d.motionValue.owner.current}):new Ox(d);u.finished.then(()=>this.notifyFinished()).catch(Em),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),nf=!0,af(),rf(),nf=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const Cf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ef(e,t,s=1){const[n,r]=function(e){const t=Cf.exec(e);if(!t)return[,];const[,s,n,r]=t;return[`--${s??n}`,r]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return Nm(e)?parseFloat(e):e}return dp(r)?Ef(r,t,s+1):r}function _f(e,t){return(null==e?void 0:e[t])??(null==e?void 0:e.default)??e}const Tf=new Set(["width","height","top","left","right","bottom",...Hx]),Pf=e=>t=>t.test(e),Af=[hp,Cp,Sp,kp,_p,Ep,{test:e=>"auto"===e,parse:e=>e}],Rf=e=>Af.find(Pf(e));function Mf(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||Sm(e))}const Df=new Set(["brightness","contrast","saturate","opacity"]);function Lf(e){const[t,s]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=s.match(fp)||[];if(!n)return e;const r=s.replace(n,"");let a=Df.has(t)?1:0;return n!==s&&(a*=100),t+"("+a+r+")"}const If=/\b([a-z-]*)\(.*?\)/gu,Of={...Vp,getAnimatableNone:e=>{const t=e.match(If);return t?t.map(Lf).join(" "):e}},Ff={...hp,transform:Math.round},zf={borderWidth:Cp,borderTopWidth:Cp,borderRightWidth:Cp,borderBottomWidth:Cp,borderLeftWidth:Cp,borderRadius:Cp,radius:Cp,borderTopLeftRadius:Cp,borderTopRightRadius:Cp,borderBottomRightRadius:Cp,borderBottomLeftRadius:Cp,width:Cp,maxWidth:Cp,height:Cp,maxHeight:Cp,top:Cp,right:Cp,bottom:Cp,left:Cp,padding:Cp,paddingTop:Cp,paddingRight:Cp,paddingBottom:Cp,paddingLeft:Cp,margin:Cp,marginTop:Cp,marginRight:Cp,marginBottom:Cp,marginLeft:Cp,backgroundPositionX:Cp,backgroundPositionY:Cp,...{rotate:kp,rotateX:kp,rotateY:kp,rotateZ:kp,scale:pp,scaleX:pp,scaleY:pp,scaleZ:pp,skew:kp,skewX:kp,skewY:kp,distance:Cp,translateX:Cp,translateY:Cp,translateZ:Cp,x:Cp,y:Cp,z:Cp,perspective:Cp,transformPerspective:Cp,opacity:mp,originX:Tp,originY:Tp,originZ:Cp},zIndex:Ff,fillOpacity:mp,strokeOpacity:mp,numOctaves:Ff},Vf={...zf,color:Ap,backgroundColor:Ap,outlineColor:Ap,fill:Ap,stroke:Ap,borderColor:Ap,borderTopColor:Ap,borderRightColor:Ap,borderBottomColor:Ap,borderLeftColor:Ap,filter:Of,WebkitFilter:Of},Bf=e=>Vf[e];function Uf(e,t){let s=Bf(e);return s!==Of&&(s=Vp),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const $f=new Set(["auto","none","0"]);class Wf extends of{constructor(e,t,s,n,r){super(e,t,s,n,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let s=e[o];if("string"==typeof s&&(s=s.trim(),dp(s))){const n=Ef(s,t.current);void 0!==n&&(e[o]=n),o===e.length-1&&(this.finalKeyframe=s)}}if(this.resolveNoneKeyframes(),!Tf.has(s)||2!==e.length)return;const[n,r]=e,a=Rf(n),i=Rf(r);if(a!==i)if(Xx(a)&&Xx(i))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else Qx[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let n=0;n<e.length;n++)(null===e[n]||Mf(e[n]))&&s.push(n);s.length&&function(e,t,s){let n,r=0;for(;r<e.length&&!n;){const t=e[r];"string"==typeof t&&!$f.has(t)&&Ip(t).values.length&&(n=e[r]),r++}if(n&&s)for(const a of t)e[a]=Uf(s,n)}(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;"height"===s&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qx[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(s,n).jump(n,!1)}measureEndState(){var e;const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const r=t.getValue(s);r&&r.jump(this.measuredOrigin,!1);const a=n.length-1,i=n[a];n[a]=Qx[s](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(([e,s])=>{t.getValue(e).set(s)}),this.resolveNoneKeyframes()}}const Yf=(e,t)=>t&&"number"==typeof e?t.transform(e):e;class Kf{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;const s=ip.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(t=this.events.change)||t.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=ip.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Am);const s=this.events[e].add(t);return"change"===e?()=>{s(),ep.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ip.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Dm(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gf(e,t){return new Kf(e,t)}const{schedule:Hf}=Qm(queueMicrotask,!1),qf={x:!1,y:!1};function Xf(){return qf.x||qf.y}function Zf(e,t){const s=function(e,t,s){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const n=(null==s?void 0:s[e])??t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),n=new AbortController;return[s,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function Jf(e){return!("touch"===e.pointerType||Xf())}const Qf=(e,t)=>!!t&&(e===t||Qf(e,t.parentElement)),eg=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,tg=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const sg=new WeakSet;function ng(e){return t=>{"Enter"===t.key&&e(t)}}function rg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function ag(e){return eg(e)&&!Xf()}function ig(e,t,s={}){const[n,r,a]=Zf(e,s),i=e=>{const n=e.currentTarget;if(!ag(e))return;sg.add(n);const a=t(n,e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),sg.has(n)&&sg.delete(n),ag(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{i(e,n===window||n===document||s.useGlobalTarget||Qf(n,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return n.forEach(e=>{var t;(s.useGlobalTarget?window:e).addEventListener("pointerdown",i,r),km(t=e)&&"offsetHeight"in t&&(e.addEventListener("focus",e=>((e,t)=>{const s=e.currentTarget;if(!s)return;const n=ng(()=>{if(sg.has(s))return;rg(s,"down");const e=ng(()=>{rg(s,"up")});s.addEventListener("keyup",e,t),s.addEventListener("blur",()=>rg(s,"cancel"),t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)})(e,r)),function(e){return tg.has(e.tagName)||-1!==e.tabIndex}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function og(e){return km(e)&&"ownerSVGElement"in e}const lg=e=>Boolean(e&&e.getVelocity),cg=[...Af,Ap,Vp],dg=s.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});const ug=s.createContext({strict:!1}),hg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mg={};for(const VT in hg)mg[VT]={isEnabled:e=>hg[VT].some(t=>!!e[t])};const pg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xg(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pg.has(e)}let fg=e=>!xg(e);try{"function"==typeof(gg=require("@emotion/is-prop-valid").default)&&(fg=e=>e.startsWith("on")?!xg(e):gg(e))}catch{}var gg;const vg=s.createContext({});function yg(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function bg(e){return"string"==typeof e||Array.isArray(e)}const jg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wg=["initial",...jg];function Ng(e){return yg(e.animate)||wg.some(t=>bg(e[t]))}function kg(e){return Boolean(Ng(e)||e.variants)}function Sg(e){const{initial:t,animate:n}=function(e,t){if(Ng(e)){const{initial:t,animate:s}=e;return{initial:!1===t||bg(t)?t:void 0,animate:bg(s)?s:void 0}}return!1!==e.inherit?t:{}}(e,s.useContext(vg));return s.useMemo(()=>({initial:t,animate:n}),[Cg(t),Cg(n)])}function Cg(e){return Array.isArray(e)?e.join(" "):e}const Eg={};function _g(e,{layout:t,layoutId:s}){return qx.has(e)||e.startsWith("origin")||(t||void 0!==s)&&(!!Eg[e]||"opacity"===e)}const Tg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Pg=Hx.length;function Ag(e,t,s){const{style:n,vars:r,transformOrigin:a}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(qx.has(l))i=!0;else if(lp(l))r[l]=e;else{const t=Yf(e,zf[l]);l.startsWith("origin")?(o=!0,a[l]=t):n[l]=t}}if(t.transform||(i||s?n.transform=function(e,t,s){let n="",r=!0;for(let a=0;a<Pg;a++){const i=Hx[a],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||s){const e=Yf(o,zf[i]);l||(r=!1,n+=`${Tg[i]||i}(${e}) `),s&&(t[i]=e)}}return n=n.trim(),s?n=s(t,r?"":n):r&&(n="none"),n}(t,e.transform,s):n.transform&&(n.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:s=0}=a;n.transformOrigin=`${e} ${t} ${s}`}}const Rg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mg(e,t,s){for(const n in t)lg(t[n])||_g(n,s)||(e[n]=t[n])}function Dg(e,t){const n={};return Mg(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return s.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{}};return Ag(s,t,e),Object.assign({},s.vars,s.style)},[t])}(e,t)),n}function Lg(e,t){const s={},n=Dg(e,t);return e.drag&&!1!==e.dragListener&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=n,s}const Ig={offset:"stroke-dashoffset",array:"stroke-dasharray"},Og={offset:"strokeDashoffset",array:"strokeDasharray"};function Fg(e,{attrX:t,attrY:s,attrScale:n,pathLength:r,pathSpacing:a=1,pathOffset:i=0,...o},l,c,d){if(Ag(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(null==d?void 0:d.transformBox)??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==s&&(u.y=s),void 0!==n&&(u.scale=n),void 0!==r&&function(e,t,s=1,n=0,r=!0){e.pathLength=1;const a=r?Ig:Og;e[a.offset]=Cp.transform(-n);const i=Cp.transform(t),o=Cp.transform(s);e[a.array]=`${i} ${o}`}(u,r,a,i,!1)}const zg=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Vg=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Bg(e,t,n,r){const a=s.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Fg(s,t,Vg(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const t={};Mg(t,e.style,e),a.style={...t,...a.style}}return a}const Ug=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $g(e){return"string"==typeof e&&!e.includes("-")&&!!(Ug.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wg(e,t,n,{latestValues:r},a,i=!1){const o=($g(e)?Bg:Lg)(t,r,a,e),l=function(e,t,s){const n={};for(const r in e)"values"===r&&"object"==typeof e.values||(fg(r)||!0===s&&xg(r)||!t&&!xg(r)||e.draggable&&r.startsWith("onDrag"))&&(n[r]=e[r]);return n}(t,"string"==typeof e,i),c=e!==s.Fragment?{...l,...o,ref:n}:{},{children:d}=t,u=s.useMemo(()=>lg(d)?d.get():d,[d]);return s.createElement(e,{...c,children:u})}function Yg(e){const t=[{},{}];return null==e||e.values.forEach((e,s)=>{t[0][s]=e.get(),t[1][s]=e.getVelocity()}),t}function Kg(e,t,s,n){if("function"==typeof t){const[r,a]=Yg(n);t=t(void 0!==s?s:e.custom,r,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[r,a]=Yg(n);t=t(void 0!==s?s:e.custom,r,a)}return t}function Gg(e){return lg(e)?e.get():e}function Hg(e,t,s,n){const r={},a=n(e,{});for(const h in a)r[h]=Gg(a[h]);let{initial:i,animate:o}=e;const l=Ng(e),c=kg(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!s&&!1===s.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!=typeof u&&!yg(u)){const t=Array.isArray(u)?u:[u];for(let s=0;s<t.length;s++){const n=Kg(e,t[s]);if(n){const{transitionEnd:e,transition:t,...s}=n;for(const n in s){let e=s[n];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(r[n]=e)}for(const n in e)r[n]=e[n]}}}return r}const qg=e=>(t,n)=>{const r=s.useContext(vg),a=s.useContext(vm),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},s,n,r){return{latestValues:Hg(s,n,r,e),renderState:t()}}(e,t,r,a);return n?i():function(e){const t=s.useRef(null);return null===t.current&&(t.current=e()),t.current}(i)};function Xg(e,t,s){var n;const{style:r}=e,a={};for(const i in r)(lg(r[i])||t.style&&lg(t.style[i])||_g(i,e)||void 0!==(null==(n=null==s?void 0:s.getValue(i))?void 0:n.liveStyle))&&(a[i]=r[i]);return a}const Zg=qg({scrapeMotionValuesFromProps:Xg,createRenderState:Rg});function Jg(e,t,s){const n=Xg(e,t,s);for(const r in e)if(lg(e[r])||lg(t[r])){n[-1!==Hx.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}const Qg=qg({scrapeMotionValuesFromProps:Jg,createRenderState:zg}),ev=Symbol.for("motionComponentSymbol");function tv(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function sv(e,t,n){return s.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&("function"==typeof n?n(s):tv(n)&&(n.current=s))},[t])}const nv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rv="data-"+nv("framerAppearId"),av=s.createContext({});function iv(e,t,n,r,a){var i,o;const{visualElement:l}=s.useContext(vg),c=s.useContext(ug),d=s.useContext(vm),u=s.useContext(dg).reducedMotion,h=s.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:u}));const m=h.current,p=s.useContext(av);!m||m.projection||!a||"html"!==m.type&&"svg"!==m.type||function(e,t,s,n){const{layoutId:r,layout:a,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:ov(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:Boolean(i)||o&&tv(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}(h.current,n,a,p);const x=s.useRef(!1);s.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const f=n[rv],g=s.useRef(Boolean(f)&&!(null==(i=window.MotionHandoffIsComplete)?void 0:i.call(window,f))&&(null==(o=window.MotionHasOptimisedAnimation)?void 0:o.call(window,f)));return gm(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),g.current&&m.animationState&&m.animationState.animateChanges())}),s.useEffect(()=>{m&&(!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,f)}),g.current=!1),m.enteringChildren=void 0)}),m}function ov(e){if(e)return!1!==e.options.allowProjection?e.projection:ov(e.parent)}function lv(e,{forwardMotionProps:t=!1}={},n,r){n&&function(e){for(const t in e)mg[t]={...mg[t],...e[t]}}(n);const a=$g(e)?Qg:Zg;function i(n,i){let o;const l={...s.useContext(dg),...n,layoutId:cv(n)},{isStatic:c}=l,d=Sg(n),u=a(n,c);if(!c&&fm){s.useContext(ug).strict;const t=function(e){const{drag:t,layout:s}=mg;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==s?void 0:s.isEnabled(e))?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);o=t.MeasureLayout,d.visualElement=iv(e,u,l,r,t.ProjectionNode)}return mt.jsxs(vg.Provider,{value:d,children:[o&&d.visualElement?mt.jsx(o,{visualElement:d.visualElement,...l}):null,Wg(e,n,sv(u,d.visualElement,i),u,c,t)]})}i.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const o=s.forwardRef(i);return o[ev]=e,o}function cv({layoutId:e}){const t=s.useContext(xm).id;return t&&void 0!==e?t+"-"+e:e}function dv(e,t){if("undefined"==typeof Proxy)return lv;const s=new Map,n=(s,n)=>lv(s,n,e,t);return new Proxy((e,t)=>n(e,t),{get:(r,a)=>"create"===a?n:(s.has(a)||s.set(a,lv(a,void 0,e,t)),s.get(a))})}function uv({top:e,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:e,max:n}}}function hv(e){return void 0===e||1===e}function mv({scale:e,scaleX:t,scaleY:s}){return!hv(e)||!hv(t)||!hv(s)}function pv(e){return mv(e)||xv(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xv(e){return fv(e.x)||fv(e.y)}function fv(e){return e&&"0%"!==e}function gv(e,t,s){return s+t*(e-s)}function vv(e,t,s,n,r){return void 0!==r&&(e=gv(e,r,n)),gv(e,s,n)+t}function yv(e,t=0,s=1,n,r){e.min=vv(e.min,t,s,n,r),e.max=vv(e.max,t,s,n,r)}function bv(e,{x:t,y:s}){yv(e.x,t.translate,t.scale,t.originPoint),yv(e.y,s.translate,s.scale,s.originPoint)}const jv=.999999999999,wv=1.0000000000001;function Nv(e,t){e.min=e.min+t,e.max=e.max+t}function kv(e,t,s,n,r=.5){yv(e,t,s,$p(e.min,e.max,r),n)}function Sv(e,t){kv(e.x,t.x,t.scaleX,t.scale,t.originX),kv(e.y,t.y,t.scaleY,t.scale,t.originY)}function Cv(e,t){return uv(function(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const Ev=()=>({x:{min:0,max:0},y:{min:0,max:0}}),_v={current:null},Tv={current:!1};const Pv=new WeakMap;const Av=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rv{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:n,blockInitialAnimation:r,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=of,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=ip.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ep.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.blockInitialAnimation=Boolean(r),this.isControllingVariants=Ng(t),this.isVariantNode=kg(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in d){const e=d[u];void 0!==o[u]&&lg(e)&&e.set(o[u])}}mount(e){var t;this.current=e,Pv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Tv.current||function(){if(Tv.current=!0,fm)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_v.current=e.matches;e.addEventListener("change",t),t()}else _v.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||_v.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),tp(this.notifyUpdate),tp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=qx.has(e);s&&this.onBindTransform&&this.onBindTransform();const n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ep.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in mg){const t=mg[e];if(!t)continue;const{isEnabled:s,Feature:n}=t;if(!this.features[e]&&n&&s(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<Av.length;s++){const t=Av[s];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,s){for(const n in t){const r=t[n],a=s[n];if(lg(r))e.addValue(n,r);else if(lg(a))e.addValue(n,Gf(r,{owner:e}));else if(a!==r)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(n);e.addValue(n,Gf(void 0!==t?t:r,{owner:e}))}}for(const n in s)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return void 0===s&&void 0!==t&&(s=Gf(null===t?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var n;return null!=s&&("string"==typeof s&&(Nm(s)||Sm(s))?s=parseFloat(s):(n=s,!cg.find(Pf(n))&&Vp.test(t)&&(s=Uf(e,t))),this.setBaseTarget(e,lg(s)?s.get():s)),lg(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props;let n;if("string"==typeof s||"object"==typeof s){const r=Kg(this.props,s,null==(t=this.presenceContext)?void 0:t.custom);r&&(n=r[e])}if(s&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||lg(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Am),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Hf.render(this.render)}}class Mv extends Rv{constructor(){super(...arguments),this.KeyframeResolver=Wf}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lg(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Dv(e,{style:t,vars:s},n,r){const a=e.style;let i;for(i in t)a[i]=t[i];for(i in null==r||r.applyProjectionStyles(a,n),s)a.setProperty(i,s[i])}class Lv extends Mv{constructor(){super(...arguments),this.type="html",this.renderInstance=Dv}readValueFromInstance(e,t){var s,n;if(qx.has(t))return(null==(s=this.projection)?void 0:s.isProjecting)?Yx(t):((e,t)=>{const{transform:s="none"}=getComputedStyle(e);return Kx(s,t)})(e,t);{const s=(n=e,window.getComputedStyle(n)),r=(lp(t)?s.getPropertyValue(t):s[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Cv(e,t)}build(e,t,s){Ag(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return Xg(e,t,s)}}const Iv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Ov extends Mv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ev}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qx.has(t)){const e=Bf(t);return e&&e.default||0}return t=Iv.has(t)?t:nv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return Jg(e,t,s)}build(e,t,s){Fg(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,n){!function(e,t,s,n){Dv(e,t,void 0,n);for(const r in t.attrs)e.setAttribute(Iv.has(r)?r:nv(r),t.attrs[r])}(e,t,0,n)}mount(e){this.isSVGTag=Vg(e.tagName),super.mount(e)}}const Fv=(e,t)=>$g(e)?new Ov(t):new Lv(t,{allowProjection:e!==s.Fragment});function zv(e,t,s){const n=e.getProps();return Kg(n,t,void 0!==s?s:n.custom,e)}const Vv=e=>Array.isArray(e);function Bv(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Gf(s))}function Uv(e){return Vv(e)?e[e.length-1]||0:e}function $v(e,t){const s=e.getValue("willChange");if(n=s,Boolean(lg(n)&&n.add))return s.add(t);if(!s&&wm.WillChange){const s=new wm.WillChange("auto");e.addValue("willChange",s),s.add(t)}var n}function Wv(e){return e.props[rv]}const Yv=e=>null!==e;const Kv={type:"spring",stiffness:500,damping:25,restSpeed:10},Gv={type:"keyframes",duration:.8},Hv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qv=(e,{keyframes:t})=>t.length>2?Gv:qx.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Kv:Hv;const Xv=(e,t,s,n={},r,a)=>i=>{const o=_f(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c-=Rm(l);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:r};(function({when:e,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:r,repeat:a,repeatType:i,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||Object.assign(d,qv(e,d)),d.duration&&(d.duration=Rm(d.duration)),d.repeatDelay&&(d.repeatDelay=Rm(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(wf(d),0===d.delay&&(u=!0)),(wm.instantAnimations||wm.skipAnimations)&&(u=!0,wf(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!a&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:s="loop"}){const n=e.filter(Yv);return n[t&&"loop"!==s&&t%2==1?0:n.length-1]}(d.keyframes,o);if(void 0!==e)return void ep.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new Ox(d):new Sf(d)};function Zv({protectedKeys:e,needsAnimating:t},s){const n=e.hasOwnProperty(s)&&!0!==t[s];return t[s]=!1,n}function Jv(e,t,{delay:s=0,transitionOverride:n,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...o}=t;n&&(a=n);const l=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const d in o){const t=e.getValue(d,e.latestValues[d]??null),n=o[d];if(void 0===n||c&&Zv(c,d))continue;const r={delay:s,..._f(a||{},d)},i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(n)&&n===i&&!r.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const t=Wv(e);if(t){const e=window.MotionHandoffAnimation(t,d,ep);null!==e&&(r.startTime=e,u=!0)}}$v(e,d),t.start(Xv(d,t,n,e.shouldReduceMotion&&Tf.has(d)?{type:!1}:r,e,u));const h=t.animation;h&&l.push(h)}return i&&Promise.all(l).then(()=>{ep.update(()=>{i&&function(e,t){const s=zv(e,t);let{transitionEnd:n={},transition:r={},...a}=s||{};a={...a,...n};for(const i in a)Bv(e,i,Uv(a[i]))}(e,i)})}),l}function Qv(e,t,s,n=0,r=1){const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),i=e.size,o=(i-1)*n;return"function"==typeof s?s(a,i):1===r?a*n:o-a*n}function ey(e,t,s={}){var n;const r=zv(e,t,"exit"===s.type?null==(n=e.presenceContext)?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const i=r?()=>Promise.all(Jv(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(n=0)=>{const{delayChildren:r=0,staggerChildren:i,staggerDirection:o}=a;return function(e,t,s=0,n=0,r=0,a=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(ey(l,t,{...i,delay:s+("function"==typeof n?0:n)+Qv(e.variantChildren,l,n,r,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,r,i,o,s)}:()=>Promise.resolve(),{when:l}=a;if(l){const[e,t]="beforeChildren"===l?[i,o]:[o,i];return e().then(()=>t())}return Promise.all([i(),o(s.delay)])}function ty(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let n=0;n<s;n++)if(t[n]!==e[n])return!1;return!0}const sy=wg.length;function ny(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&ny(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let s=0;s<sy;s++){const n=wg[s],r=e.props[n];(bg(r)||!1===r)&&(t[n]=r)}return t}const ry=[...jg].reverse(),ay=jg.length;function iy(e){return t=>Promise.all(t.map(({animation:t,options:s})=>function(e,t,s={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>ey(e,t,s));n=Promise.all(r)}else if("string"==typeof t)n=ey(e,t,s);else{const r="function"==typeof t?zv(e,t,s.custom):t;n=Promise.all(Jv(e,r,s))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,t,s)))}function oy(e){let t=iy(e),s=dy(),n=!0;const r=t=>(s,n)=>{var r;const a=zv(e,n,"exit"===t?null==(r=e.presenceContext)?void 0:r.custom:void 0);if(a){const{transition:e,transitionEnd:t,...n}=a;s={...s,...n,...t}}return s};function a(a){const{props:i}=e,o=ny(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<ay;t++){const h=ry[t],m=s[h],p=void 0!==i[h]?i[h]:o[h],x=bg(p),f=h===a?m.isActive:null;!1===f&&(u=t);let g=p===o[h]&&p!==i[h]&&x;if(g&&n&&e.manuallyAnimateOnMount&&(g=!1),m.protectedKeys={...d},!m.isActive&&null===f||!p&&!m.prevProp||yg(p)||"boolean"==typeof p)continue;const v=ly(m.prevProp,p);let y=v||h===a&&m.isActive&&!g&&x||t>u&&x,b=!1;const j=Array.isArray(p)?p:[p];let w=j.reduce(r(h),{});!1===f&&(w={});const{prevResolvedValues:N={}}=m,k={...N,...w},S=t=>{y=!0,c.has(t)&&(b=!0,c.delete(t)),m.needsAnimating[t]=!0;const s=e.getValue(t);s&&(s.liveStyle=!1)};for(const e in k){const t=w[e],s=N[e];if(d.hasOwnProperty(e))continue;let n=!1;n=Vv(t)&&Vv(s)?!ty(t,s):t!==s,n?null!=t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):m.protectedKeys[e]=!0}m.prevProp=p,m.prevResolvedValues=w,m.isActive&&(d={...d,...w}),n&&e.blockInitialAnimation&&(y=!1);const C=g&&v;y&&(!C||b)&&l.push(...j.map(t=>{const s={type:h};if("string"==typeof t&&n&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:n}=e,r=zv(n,t);if(n.enteringChildren&&r){const{delayChildren:t}=r.transition||{};s.delay=Qv(n.enteringChildren,e,t)}}return{animation:t,options:s}}))}if(c.size){const t={};if("boolean"!=typeof i.initial){const s=zv(e,Array.isArray(i.initial)?i.initial[0]:i.initial);s&&s.transition&&(t.transition=s.transition)}c.forEach(s=>{const n=e.getBaseTarget(s),r=e.getValue(s);r&&(r.liveStyle=!0),t[s]=n??null}),l.push({animation:t})}let h=Boolean(l.length);return!n||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(h=!1),n=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){var r;if(s[t].isActive===n)return Promise.resolve();null==(r=e.variantChildren)||r.forEach(e=>{var s;return null==(s=e.animationState)?void 0:s.setActive(t,n)}),s[t].isActive=n;const i=a(t);for(const e in s)s[e].protectedKeys={};return i},setAnimateFunction:function(s){t=s(e)},getState:()=>s,reset:()=>{s=dy()}}}function ly(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!ty(t,e)}function cy(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dy(){return{animate:cy(!0),whileInView:cy(),whileHover:cy(),whileTap:cy(),whileDrag:cy(),whileFocus:cy(),exit:cy()}}class uy{constructor(e){this.isMounted=!1,this.node=e}update(){}}let hy=0;const my={animation:{Feature:class extends uy{constructor(e){super(e),e.animationState||(e.animationState=oy(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends uy{constructor(){super(...arguments),this.id=hy++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function py(e,t,s,n={passive:!0}){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s)}function xy(e){return{point:{x:e.pageX,y:e.pageY}}}function fy(e,t,s,n){return py(e,t,(e=>t=>eg(t)&&e(t,xy(t)))(s),n)}function gy(e){return e.max-e.min}function vy(e,t,s,n=.5){e.origin=n,e.originPoint=$p(t.min,t.max,e.origin),e.scale=gy(s)/gy(t),e.translate=$p(s.min,s.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function yy(e,t,s,n){vy(e.x,t.x,s.x,n?n.originX:void 0),vy(e.y,t.y,s.y,n?n.originY:void 0)}function by(e,t,s){e.min=s.min+t.min,e.max=e.min+gy(t)}function jy(e,t,s){e.min=t.min-s.min,e.max=e.min+gy(t)}function wy(e,t,s){jy(e.x,t.x,s.x),jy(e.y,t.y,s.y)}function Ny(e){return[e("x"),e("y")]}const ky=({current:e})=>e?e.ownerDocument.defaultView:null,Sy=(e,t)=>Math.abs(e-t);class Cy{constructor(e,t,{transformPagePoint:s,contextWindow:n=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ty(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,s=function(e,t){const s=Sy(e.x,t.x),n=Sy(e.y,t.y);return Math.sqrt(s**2+n**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!s)return;const{point:n}=e,{timestamp:r}=sp;this.history.push({...n,timestamp:r});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ey(t,this.transformPagePoint),ep.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:s,onSessionEnd:n,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Ty("pointercancel"===e.type?this.lastMoveEventInfo:Ey(t,this.transformPagePoint),this.history);this.startEvent&&s&&s(e,a),n&&n(e,a)},!eg(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=n||window;const i=Ey(xy(e),this.transformPagePoint),{point:o}=i,{timestamp:l}=sp;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,Ty(i,this.history)),this.removeListeners=Tm(fy(this.contextWindow,"pointermove",this.handlePointerMove),fy(this.contextWindow,"pointerup",this.handlePointerUp),fy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tp(this.updatePoint)}}function Ey(e,t){return t?{point:t(e.point)}:e}function _y(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ty({point:e},t){return{point:e,delta:_y(e,Ay(t)),offset:_y(e,Py(t)),velocity:Ry(t,.1)}}function Py(e){return e[0]}function Ay(e){return e[e.length-1]}function Ry(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,n=null;const r=Ay(e);for(;s>=0&&(n=e[s],!(r.timestamp-n.timestamp>Rm(t)));)s--;if(!n)return{x:0,y:0};const a=Mm(r.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(r.x-n.x)/a,y:(r.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function My(e,t,s){return{min:void 0!==t?e.min+t:void 0,max:void 0!==s?e.max+s-(e.max-e.min):void 0}}function Dy(e,t){let s=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,n]=[n,s]),{min:s,max:n}}const Ly=.35;function Iy(e,t,s){return{min:Oy(e,t),max:Oy(e,s)}}function Oy(e,t){return"number"==typeof e?e:e[t]||0}const Fy=new WeakMap;class zy{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Cy(e,{onSessionStart:e=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(xy(e).point)},onStart:(e,t)=>{const{drag:s,dragPropagation:n,onDragStart:r}=this.getProps();if(s&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=s)||"y"===a?qf[a]?null:(qf[a]=!0,()=>{qf[a]=!1}):qf.x||qf.y?null:(qf.x=qf.y=!0,()=>{qf.x=qf.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ny(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Sp.test(t)){const{projection:s}=this.visualElement;if(s&&s.layout){const n=s.layout.layoutBox[e];if(n){t=gy(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&ep.postRender(()=>r(e,t)),$v(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:s,dragDirectionLock:n,onDirectionLock:r,onDrag:a}=this.getProps();if(!s&&!this.openDragLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let s=null;Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x");return s}(i),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Ny(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,distanceThreshold:s,contextWindow:ky(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,n=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!n||!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ep.postRender(()=>i(s,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:n}=this.getProps();if(!s||!Vy(e,n,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:s},n){return void 0!==t&&e<t?e=n?$p(t,e,n.min):Math.max(e,t):void 0!==s&&e>s&&(e=n?$p(s,e,n.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,r=this.constraints;t&&tv(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,{top:t,left:s,bottom:n,right:r}){return{x:My(e.x,s,r),y:My(e.y,t,n)}}(n.layoutBox,t),this.elastic=function(e=Ly){return!1===e?e=0:!0===e&&(e=Ly),{x:Iy(e,"left","right"),y:Iy(e,"top","bottom")}}(s),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ny(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const s={};return void 0!==t.min&&(s.min=t.min-e.min),void 0!==t.max&&(s.max=t.max-e.min),s}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!tv(e))return!1;const s=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const r=function(e,t,s){const n=Cv(e,s),{scroll:r}=t;return r&&(Nv(n.x,r.offset.x),Nv(n.y,r.offset.y)),n}(s,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Dy(e.x,t.x),y:Dy(e.y,t.y)}}(n.layout.layoutBox,r);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=uv(e))}return a}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:n,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=Ny(i=>{if(!Vy(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u={type:"inertia",velocity:s?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return $v(this.visualElement,e),s.start(Xv(e,s,0,t,this.visualElement,!1))}stopAnimation(){Ny(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ny(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),n=s[t];return n||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ny(t=>{const{drag:s}=this.getProps();if(!Vy(t,s,this.currentDirection))return;const{projection:n}=this.visualElement,r=this.getAxisMotionValue(t);if(n&&n.layout){const{min:s,max:a}=n.layout.layoutBox[t];r.set(e[t]-$p(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!tv(t)||!s||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Ny(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const s=t.get();n[e]=function(e,t){let s=.5;const n=gy(e),r=gy(t);return r>n?s=Pm(t.min,t.max-n,e.min):n>r&&(s=Pm(e.min,e.max-r,t.min)),jm(0,1,s)}({min:s,max:s},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ny(t=>{if(!Vy(t,e,null))return;const s=this.getAxisMotionValue(t),{min:r,max:a}=this.constraints[t];s.set($p(r,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;Fy.set(this.visualElement,this);const e=fy(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:s=!0}=this.getProps();t&&s&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();tv(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,n=s.addEventListener("measure",t);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ep.read(t);const r=py(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Ny(t=>{const s=this.getAxisMotionValue(t);s&&(this.originPoint[t]+=e[t].translate,s.set(s.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:n=!1,dragConstraints:r=!1,dragElastic:a=Ly,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:n,dragConstraints:r,dragElastic:a,dragMomentum:i}}}function Vy(e,t,s){return!(!0!==t&&t!==e||null!==s&&s!==e)}const By=e=>(t,s)=>{e&&ep.postRender(()=>e(t,s))};const Uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $y(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wy={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Cp.test(e))return e;e=parseFloat(e)}return`${$y(e,t.target.x)}% ${$y(e,t.target.y)}%`}},Yy={correct:(e,{treeScale:t,projectionDelta:s})=>{const n=e,r=Vp.parse(e);if(r.length>5)return n;const a=Vp.createTransformer(e),i="number"!=typeof r[0]?1:0,o=s.x.scale*t.x,l=s.y.scale*t.y;r[0+i]/=o,r[1+i]/=l;const c=$p(o,l,.5);return"number"==typeof r[2+i]&&(r[2+i]/=c),"number"==typeof r[3+i]&&(r[3+i]/=c),a(r)}};let Ky=!1;class Gy extends s.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:n}=this.props,{projection:r}=e;!function(e){for(const t in e)Eg[t]=e[t],lp(t)&&(Eg[t].isCSSVariable=!0)}(qy),r&&(t.group&&t.group.add(r),s&&s.register&&n&&s.register(r),Ky&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:n,isPresent:r}=this.props,{projection:a}=s;return a?(a.isPresent=r,Ky=!0,n||e.layoutDependency!==t||void 0===t||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||ep.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:n}=e;Ky=!0,n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),s&&s.deregister&&s.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hy(e){const[t,n]=function(e=!0){const t=s.useContext(vm);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=s.useId();s.useEffect(()=>{if(e)return a(i)},[e]);const o=s.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}(),r=s.useContext(xm);return mt.jsx(Gy,{...e,layoutGroup:r,switchLayoutGroup:s.useContext(av),isPresent:t,safeToRemove:n})}const qy={borderRadius:{...Wy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wy,borderTopRightRadius:Wy,borderBottomLeftRadius:Wy,borderBottomRightRadius:Wy,boxShadow:Yy};const Xy=(e,t)=>e.depth-t.depth;class Zy{constructor(){this.children=[],this.isDirty=!1}add(e){ym(this.children,e),this.isDirty=!0}remove(e){bm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xy),this.isDirty=!1,this.children.forEach(e)}}const Jy=["TopLeft","TopRight","BottomLeft","BottomRight"],Qy=Jy.length,eb=e=>"string"==typeof e?parseFloat(e):e,tb=e=>"number"==typeof e||Cp.test(e);function sb(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const nb=ab(0,.5,Wm),rb=ab(.5,.95,Em);function ab(e,t,s){return n=>n<e?0:n>t?1:s(Pm(e,t,n))}function ib(e,t){e.min=t.min,e.max=t.max}function ob(e,t){ib(e.x,t.x),ib(e.y,t.y)}function lb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cb(e,t,s,n,r){return e=gv(e-=t,1/s,n),void 0!==r&&(e=gv(e,1/r,n)),e}function db(e,t,[s,n,r],a,i){!function(e,t=0,s=1,n=.5,r,a=e,i=e){Sp.test(t)&&(t=parseFloat(t),t=$p(i.min,i.max,t/100)-i.min);if("number"!=typeof t)return;let o=$p(a.min,a.max,n);e===a&&(o-=t),e.min=cb(e.min,t,s,o,r),e.max=cb(e.max,t,s,o,r)}(e,t[s],t[n],t[r],t.scale,a,i)}const ub=["x","scaleX","originX"],hb=["y","scaleY","originY"];function mb(e,t,s,n){db(e.x,t,ub,s?s.x:void 0,n?n.x:void 0),db(e.y,t,hb,s?s.y:void 0,n?n.y:void 0)}function pb(e){return 0===e.translate&&1===e.scale}function xb(e){return pb(e.x)&&pb(e.y)}function fb(e,t){return e.min===t.min&&e.max===t.max}function gb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vb(e,t){return gb(e.x,t.x)&&gb(e.y,t.y)}function yb(e){return gy(e.x)/gy(e.y)}function bb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class jb{constructor(){this.members=[]}add(e){ym(this.members,e),e.scheduleRender()}remove(e){if(bm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let s;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){s=e;break}}return!!s&&(this.promote(s),!0)}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const wb=["","X","Y","Z"];let Nb=0;function kb(e,t,s,n){const{latestValues:r}=t;r[e]&&(s[e]=r[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Sb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Wv(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ep,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Sb(n)}function Cb({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(e={},s=(null==t?void 0:t())){this.id=Nb++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tb),this.nodes.forEach(Ib),this.nodes.forEach(Ob),this.nodes.forEach(Pb)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zy)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Am),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const s=this.eventHandlers.get(e);s&&s.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var s;this.isSVG=og(t)&&!(og(s=t)&&"svg"===s.tagName),this.instance=t;const{layoutId:n,layout:r,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let s,n=0;const r=()=>this.root.updateBlockedByResize=!1;ep.read(()=>{n=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==n&&(n=e,this.root.updateBlockedByResize=!0,s&&s(),s=function(e,t){const s=ip.now(),n=({timestamp:r})=>{const a=r-s;a>=t&&(tp(n),e(a-t))};return ep.setup(n,!0),()=>tp(n)}(r,250),Uy.hasAnimatedSinceResize&&(Uy.hasAnimatedSinceResize=!1,this.nodes.forEach(Lb)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&a&&(n||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:s,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const r=this.options.transition||a.getDefaultTransition()||$b,{onLayoutAnimationStart:i,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!vb(this.targetLayout,n),c=!t&&s;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={..._f(r,"layout"),onPlay:i,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||Lb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fb),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:s}=this.options;if(void 0===t&&!s)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Rb);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Mb);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Db),this.nodes.forEach(Eb),this.nodes.forEach(_b)):this.nodes.forEach(Mb),this.clearAllSnapshots();const e=ip.now();sp.delta=jm(0,1e3/60,e-sp.timestamp),sp.timestamp=e,sp.isProcessing=!0,np.update.process(sp),np.preRender.process(sp),np.render.process(sp),sp.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ab),this.sharedNodes.forEach(zb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ep.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ep.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||gy(this.snapshot.measuredBox.x)||gy(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){this.path[s].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!xb(this.projectionDelta),s=this.getTransformTemplate(),n=s?s(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&this.instance&&(t||pv(this.latestValues)||a)&&(r(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let s=this.removeElementScroll(t);var n;return e&&(s=this.removeTransform(s)),Kb((n=s).x),Kb(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const s=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(Hb))){const{scroll:e}=this.root;e&&(Nv(s.x,e.offset.x),Nv(s.y,e.offset.y))}return s}removeElementScroll(e){var t;const s={x:{min:0,max:0},y:{min:0,max:0}};if(ob(s,e),null==(t=this.scroll)?void 0:t.wasRoot)return s;for(let n=0;n<this.path.length;n++){const t=this.path[n],{scroll:r,options:a}=t;t!==this.root&&r&&a.layoutScroll&&(r.wasRoot&&ob(s,e),Nv(s.x,r.offset.x),Nv(s.y,r.offset.y))}return s}applyTransform(e,t=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};ob(s,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Sv(s,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),pv(e.latestValues)&&Sv(s,e.latestValues)}return pv(this.latestValues)&&Sv(s,this.latestValues),s}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ob(t,e);for(let s=0;s<this.path.length;s++){const e=this.path[s];if(!e.instance)continue;if(!pv(e.latestValues))continue;mv(e.latestValues)&&e.updateSnapshot();const n=Ev();ob(n,e.measurePageBox()),mb(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return pv(this.latestValues)&&mb(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sp.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==s;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:a}=this.options;if(this.layout&&(r||a)){if(this.resolvedRelativeTargetAt=sp.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},wy(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ob(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var i,o,l;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,by(i.x,o.x,l.x),by(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ob(this.target,this.layout.layoutBox),bv(this.target,this.targetDelta)):ob(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},wy(this.relativeTargetOrigin,this.target,e.target),ob(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!mv(this.parent.latestValues)&&!xv(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),s=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(n=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===sp.timestamp&&(n=!1),n)return;const{layout:r,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!a)return;ob(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,s,n=!1){const r=s.length;if(!r)return;let a,i;t.x=t.y=1;for(let o=0;o<r;o++){a=s[o],i=a.projectionDelta;const{visualElement:r}=a.options;r&&r.props.style&&"contents"===r.props.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Sv(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,bv(e,i)),n&&pv(a.latestValues)&&Sv(e,a.latestValues))}t.x<wv&&t.x>jv&&(t.x=1),t.y<wv&&t.y>jv&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,s),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(lb(this.prevProjectionDelta.x,this.projectionDelta.x),lb(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),yy(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===i&&this.treeScale.y===o&&bb(this.projectionDelta.x,this.prevProjectionDelta.x)&&bb(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const s=this.snapshot,n=s?s.latestValues:{},r={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Ub));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const s=t/1e3;var l,h,m,p,x,f;Vb(a.x,e.x,s),Vb(a.y,e.y,s),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wy(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,x=i,f=s,Bb(m.x,p.x,x.x,f),Bb(m.y,p.y,x.y,f),u&&(l=this.relativeTarget,h=u,fb(l.x,h.x)&&fb(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),ob(u,this.relativeTarget)),o&&(this.animationValues=r,function(e,t,s,n,r,a){r?(e.opacity=$p(0,s.opacity??1,nb(n)),e.opacityExit=$p(t.opacity??1,0,rb(n))):a&&(e.opacity=$p(t.opacity??1,s.opacity??1,n));for(let i=0;i<Qy;i++){const r=`border${Jy[i]}Radius`;let a=sb(t,r),o=sb(s,r);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||tb(a)===tb(o)?(e[r]=Math.max($p(eb(a),eb(o),n),0),(Sp.test(o)||Sp.test(a))&&(e[r]+="%")):e[r]=o)}(t.rotate||s.rotate)&&(e.rotate=$p(t.rotate||0,s.rotate||0,n))}(r,n,this.latestValues,s,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,s,n;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(n=null==(s=this.resumingFrom)?void 0:s.currentAnimation)||n.stop(),this.pendingAnimation&&(tp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ep.update(()=>{Uy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Gf(0)),this.currentAnimation=function(e,t,s){const n=lg(e)?e:Gf(e);return n.start(Xv("",n,t,s)),n.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:s,layout:n,latestValues:r}=e;if(t&&s&&n){if(this!==e&&this.layout&&n&&Gb(this.options.animationType,this.layout.layoutBox,n.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=gy(this.layout.layoutBox.x);s.x.min=e.target.x.min,s.x.max=s.x.min+t;const n=gy(this.layout.layoutBox.y);s.y.min=e.target.y.min,s.y.max=s.y.min+n}ob(t,s),Sv(t,r),yy(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new jb);this.sharedNodes.get(e).add(t);const s=t.options.initialPromotionConfig;t.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:s}={}){const n=this.getStack();n&&n.promote(this,s),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:s}=e;if((s.z||s.rotate||s.rotateX||s.rotateY||s.rotateZ||s.skewX||s.skewY)&&(t=!0),!t)return;const n={};s.z&&kb("z",e,n,this.animationValues);for(let r=0;r<wb.length;r++)kb(`rotate${wb[r]}`,e,n,this.animationValues),kb(`skew${wb[r]}`,e,n,this.animationValues);e.render();for(const r in n)e.setStaticValue(r,n[r]),this.animationValues&&(this.animationValues[r]=n[r]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Gg(null==t?void 0:t.pointerEvents)||"",void(e.transform=s?s(this.latestValues,""):"none");const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Gg(null==t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!pv(this.latestValues)&&(e.transform=s?s({},""):"none",this.hasProjected=!1));e.visibility="";const r=n.animationValues||n.latestValues;this.applyTransformsToTarget();let a=function(e,t,s){let n="";const r=e.x.translate/t.x,a=e.y.translate/t.y,i=(null==s?void 0:s.z)||0;if((r||a||i)&&(n=`translate3d(${r}px, ${a}px, ${i}px) `),1===t.x&&1===t.y||(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:a,skewX:i,skewY:o}=s;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),r&&(n+=`rotateX(${r}deg) `),a&&(n+=`rotateY(${a}deg) `),i&&(n+=`skewX(${i}deg) `),o&&(n+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(n+=`scale(${o}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);s&&(a=s(r,a)),e.transform=a;const{x:i,y:o}=this.projectionDelta;e.transformOrigin=`${100*i.origin}% ${100*o.origin}% 0`,n.animationValues?e.opacity=n===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=n===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const l in Eg){if(void 0===r[l])continue;const{correct:t,applyTo:s,isCSSVariable:i}=Eg[l],o="none"===a?r[l]:t(r[l],n);if(s){const t=s.length;for(let n=0;n<t;n++)e[s[n]]=o}else i?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=n===this?Gg(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(Rb),this.root.sharedNodes.clear()}}}function Eb(e){e.updateLayout()}function _b(e){var t;const s=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:r}=e.options,a=s.source!==e.layout.source;"size"===r?Ny(e=>{const n=a?s.measuredBox[e]:s.layoutBox[e],r=gy(n);n.min=t[e].min,n.max=n.min+r}):Gb(r,s.layoutBox,t)&&Ny(n=>{const r=a?s.measuredBox[n]:s.layoutBox[n],i=gy(t[n]);r.max=r.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};yy(i,t,s.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?yy(o,e.applyTransform(n,!0),s.measuredBox):yy(o,t,s.layoutBox);const l=!xb(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:r,layout:a}=n;if(r&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};wy(i,s.layoutBox,r.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};wy(o,t,a.layoutBox),vb(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:s,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Tb(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Pb(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ab(e){e.clearSnapshot()}function Rb(e){e.clearMeasurements()}function Mb(e){e.isLayoutDirty=!1}function Db(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Lb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ib(e){e.resolveTargetDelta()}function Ob(e){e.calcProjection()}function Fb(e){e.resetSkewAndRotation()}function zb(e){e.removeLeadSnapshot()}function Vb(e,t,s){e.translate=$p(t.translate,0,s),e.scale=$p(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Bb(e,t,s,n){e.min=$p(t.min,s.min,n),e.max=$p(t.max,s.max,n)}function Ub(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const $b={duration:.45,ease:[.4,0,.1,1]},Wb=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Yb=Wb("applewebkit/")&&!Wb("chrome/")?Math.round:Em;function Kb(e){e.min=Yb(e.min),e.max=Yb(e.max)}function Gb(e,t,s){return"position"===e||"preserve-aspect"===e&&(n=yb(t),r=yb(s),a=.2,!(Math.abs(n-r)<=a));var n,r,a}function Hb(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const qb=Cb({attachResizeListener:(e,t)=>py(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xb={current:void 0},Zb=Cb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xb.current){const e=new qb({});e.mount(window),e.setOptions({layoutScroll:!0}),Xb.current=e}return Xb.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Jb={pan:{Feature:class extends uy{constructor(){super(...arguments),this.removePointerDownListener=Em}onPointerDown(e){this.session=new Cy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ky(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:n}=this.node.getProps();return{onSessionStart:By(e),onStart:By(t),onMove:s,onEnd:(e,t)=>{delete this.session,n&&ep.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=fy(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends uy{constructor(e){super(e),this.removeGroupControls=Em,this.removeListeners=Em,this.controls=new zy(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Em}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Zb,MeasureLayout:Hy}};function Qb(e,t,s){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===s);const r=n["onHover"+s];r&&ep.postRender(()=>r(t,xy(t)))}function ej(e,t,s){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===s);const r=n["onTap"+("End"===s?"":s)];r&&ep.postRender(()=>r(t,xy(t)))}const tj=new WeakMap,sj=new WeakMap,nj=e=>{const t=tj.get(e.target);t&&t(e)},rj=e=>{e.forEach(nj)};function aj(e,t,s){const n=function({root:e,...t}){const s=e||document;sj.has(s)||sj.set(s,{});const n=sj.get(s),r=JSON.stringify(t);return n[r]||(n[r]=new IntersectionObserver(rj,{root:e,...t})),n[r]}(t);return tj.set(e,s),n.observe(e),()=>{tj.delete(e),n.unobserve(e)}}const ij={some:0,all:1};const oj={inView:{Feature:class extends uy{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:n="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:s,threshold:"number"==typeof n?n:ij[n]};return aj(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:s,onViewportLeave:n}=this.node.getProps(),a=t?s:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends uy{mount(){const{current:e}=this.node;e&&(this.unmount=ig(e,(e,t)=>(ej(this.node,t,"Start"),(e,{success:t})=>ej(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends uy{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tm(py(this.node.current,"focus",()=>this.onFocus()),py(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends uy{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,s={}){const[n,r,a]=Zf(e,s),i=e=>{if(!Jf(e))return;const{target:s}=e,n=t(s,e);if("function"!=typeof n||!s)return;const a=e=>{Jf(e)&&(n(e),s.removeEventListener("pointerleave",a))};s.addEventListener("pointerleave",a,r)};return n.forEach(e=>{e.addEventListener("pointerenter",i,r)}),a}(e,(e,t)=>(Qb(this.node,t,"Start"),e=>Qb(this.node,e,"End"))))}unmount(){}}}},lj=dv({...my,...oj,...Jb,...{layout:{ProjectionNode:Zb,MeasureLayout:Hy}}},Fv),cj=()=>{const e=o(),[t,n]=s.useState(!1),[r,a]=s.useState(!1);s.useEffect(()=>{const e=()=>{a(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const i=[{icon:mt.jsx(U,{className:"w-8 h-8"}),title:"Smart Link Shortening",description:"Create custom short links with advanced tracking and analytics in seconds."},{icon:mt.jsx($,{className:"w-8 h-8"}),title:"Real-Time Analytics",description:"Track clicks, conversions, and user behavior with detailed insights and reports."},{icon:mt.jsx(Y,{className:"w-8 h-8"}),title:"Enterprise Security",description:"2FA, IP blocking, threat detection, and advanced security features included."},{icon:mt.jsx(W,{className:"w-8 h-8"}),title:"Geographic Intelligence",description:"Track user locations with interactive maps and detailed geographic data."},{icon:mt.jsx(K,{className:"w-8 h-8"}),title:"Campaign Management",description:"Organize links into campaigns and track performance metrics effortlessly."},{icon:mt.jsx(ue,{className:"w-8 h-8"}),title:"Team Collaboration",description:"Work together with role-based access control and team management tools."}];return mt.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:[mt.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 "+(r?"bg-slate-900/95 backdrop-blur-lg shadow-lg":"bg-transparent"),children:[mt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[mt.jsx("div",{className:"cursor-pointer",onClick:()=>e("/"),children:mt.jsx(hm,{size:"md"})}),mt.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[mt.jsx(d,{to:"/features",className:"text-slate-300 hover:text-white transition-colors",children:"Features"}),mt.jsx(d,{to:"/pricing",className:"text-slate-300 hover:text-white transition-colors",children:"Pricing"}),mt.jsx(d,{to:"/contact",className:"text-slate-300 hover:text-white transition-colors",children:"Contact"}),mt.jsx(oc,{variant:"ghost",onClick:()=>e("/login"),className:"text-slate-300 hover:text-white hover:bg-slate-800",children:"Sign In"}),mt.jsx(oc,{onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Get Started"})]}),mt.jsx("button",{className:"md:hidden text-white",onClick:()=>n(!t),children:t?mt.jsx(Z,{className:"w-6 h-6"}):mt.jsx(J,{className:"w-6 h-6"})})]})}),t&&mt.jsx(lj.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"md:hidden bg-slate-900 border-t border-slate-800",children:mt.jsxs("div",{className:"px-4 py-4 space-y-3",children:[mt.jsx(d,{to:"/features",className:"block text-slate-300 hover:text-white py-2",children:"Features"}),mt.jsx(d,{to:"/pricing",className:"block text-slate-300 hover:text-white py-2",children:"Pricing"}),mt.jsx(d,{to:"/contact",className:"block text-slate-300 hover:text-white py-2",children:"Contact"}),mt.jsx(oc,{variant:"ghost",onClick:()=>e("/login"),className:"w-full justify-start text-slate-300 hover:text-white hover:bg-slate-800",children:"Sign In"}),mt.jsx(oc,{onClick:()=>e("/register"),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Get Started"})]})})]}),mt.jsx("section",{className:"pt-32 md:pt-40 pb-20 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs(lj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[mt.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-white mb-6",children:["Track Every Click,",mt.jsx("br",{}),mt.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Optimize Every Link"})]}),mt.jsx("p",{className:"text-lg sm:text-xl text-slate-400 mb-8 max-w-3xl mx-auto",children:"The most powerful link management platform for modern businesses. Create, track, and optimize your links with enterprise-grade analytics and security."}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[mt.jsxs(oc,{size:"lg",onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg px-8 py-6",children:["Start Free Trial",mt.jsx(Ue,{className:"ml-2 w-5 h-5"})]}),mt.jsx(oc,{size:"lg",variant:"outline",onClick:()=>e("/contact"),className:"border-slate-700 text-white hover:bg-slate-800 text-lg px-8 py-6",children:"Contact Sales"})]})]}),mt.jsx(lj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mt-20 grid grid-cols-2 md:grid-cols-4 gap-8",children:[{value:"10M+",label:"Links Created"},{value:"500K+",label:"Active Users"},{value:"99.9%",label:"Uptime"},{value:"150+",label:"Countries"}].map((e,t)=>mt.jsxs("div",{className:"text-center",children:[mt.jsx("div",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent mb-2",children:e.value}),mt.jsx("div",{className:"text-slate-400 text-sm md:text-base",children:e.label})]},t))})]})}),mt.jsx("section",{id:"features",className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-900/50",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[mt.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Everything You Need to Succeed"}),mt.jsx("p",{className:"text-lg text-slate-400 max-w-2xl mx-auto",children:"Powerful features designed to help you create, manage, and optimize your links at scale."})]}),mt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((e,t)=>mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},children:mt.jsx(cc,{className:"bg-slate-800/50 border-slate-700 hover:bg-slate-800 transition-all duration-300 h-full hover:scale-105",children:mt.jsxs(dc,{children:[mt.jsx("div",{className:"w-14 h-14 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center mb-4 text-white",children:e.icon}),mt.jsx(uc,{className:"text-white text-xl",children:e.title}),mt.jsx(hc,{className:"text-slate-400",children:e.description})]})})},t))})]})}),mt.jsx("section",{id:"pricing",className:"py-20 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[mt.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Simple, Transparent Pricing"}),mt.jsx("p",{className:"text-lg text-slate-400 max-w-2xl mx-auto",children:"Choose the plan that fits your needs. Start with our free trial and scale as you grow."}),mt.jsx(oc,{variant:"link",onClick:()=>e("/pricing"),className:"text-blue-400 hover:text-blue-300 mt-2",children:"View all pricing options "})]}),mt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{name:"Free",price:"$0",period:"7-day trial",features:["10 links/day","Basic analytics","QR codes","7-day data retention"],popular:!1,planType:"free"},{name:"Monthly",price:"$150",period:"30 days",features:["5,000 links/day","Advanced security","2FA authentication","IP blocking","Threat detection"],popular:!0,planType:"monthly"},{name:"Enterprise",price:"$999",period:"per year",features:["50,000 links/day","Unlimited links","Dedicated manager","Custom SLA","24/7 support"],popular:!1,planType:"enterprise"}].map((t,s)=>mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*s},children:mt.jsxs(cc,{className:`relative ${t.popular?"bg-gradient-to-b from-blue-900/50 to-purple-900/50 border-blue-500 scale-105":"bg-slate-800/50 border-slate-700"} hover:scale-105 transition-all duration-300`,children:[t.popular&&mt.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:mt.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-white text-2xl",children:t.name}),mt.jsxs("div",{className:"mt-4",children:[mt.jsx("span",{className:"text-4xl font-bold text-white",children:t.price}),mt.jsxs("span",{className:"text-slate-400 ml-2",children:["/",t.period]})]})]}),mt.jsxs(mc,{children:[mt.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((e,t)=>mt.jsxs("li",{className:"flex items-start text-slate-300",children:[mt.jsx(te,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),mt.jsx("span",{children:e})]},t))}),mt.jsxs(oc,{className:`w-full ${t.popular?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":"bg-slate-700 hover:bg-slate-600"} text-white`,onClick:()=>e(`/register?plan=${t.planType}`),children:["Get Started",mt.jsx($e,{className:"ml-2 w-4 h-4"})]})]})]})},s))})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30",children:mt.jsx("div",{className:"max-w-4xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[mt.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Link Management?"}),mt.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Join thousands of businesses already using Brain Link Tracker to optimize their digital presence."}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[mt.jsxs(oc,{size:"lg",onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg px-8 py-6",children:["Start Your Free Trial",mt.jsx(Ue,{className:"ml-2 w-5 h-5"})]}),mt.jsx(oc,{size:"lg",variant:"outline",onClick:()=>e("/contact"),className:"border-slate-700 text-white hover:bg-slate-800 text-lg px-8 py-6",children:"Talk to Sales"})]})]})})}),mt.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[mt.jsxs("div",{children:[mt.jsx("div",{className:"mb-4",children:mt.jsx(hm,{size:"md"})}),mt.jsx("p",{className:"text-slate-400 text-sm",children:"The most powerful link management platform for modern businesses."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/features",className:"hover:text-white transition-colors",children:"Features"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),mt.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-slate-400 text-sm",children:mt.jsxs("p",{children:[" ",(new Date).getFullYear()," Brain Link Tracker. All rights reserved."]})})]})})]})},dj=()=>{const e=o(),t=[{icon:mt.jsx(U,{className:"w-10 h-10"}),title:"Smart Link Shortening",description:"Create custom branded short links with advanced tracking capabilities. Support for custom domains and vanity URLs.",benefits:["Custom domains","Vanity URLs","Bulk link creation","Link expiration"]},{icon:mt.jsx($,{className:"w-10 h-10"}),title:"Real-Time Analytics",description:"Track every click with detailed insights including location, device, browser, and referrer information.",benefits:["Live click tracking","Device analytics","Referrer tracking","Conversion metrics"]},{icon:mt.jsx(W,{className:"w-10 h-10"}),title:"Geographic Intelligence",description:"Visualize your audience with interactive maps showing click locations and geographic distribution.",benefits:["Interactive maps","Country tracking","City-level data","Regional insights"]},{icon:mt.jsx(K,{className:"w-10 h-10"}),title:"Campaign Management",description:"Organize links into campaigns and track performance metrics across different marketing initiatives.",benefits:["Campaign grouping","Performance tracking","ROI analysis","A/B testing"]},{icon:mt.jsx(Y,{className:"w-10 h-10"}),title:"Enterprise Security",description:"Advanced security features including 2FA, IP blocking, threat detection, and comprehensive audit logs.",benefits:["Two-factor auth","IP blocking","Threat detection","Audit logs"]},{icon:mt.jsx(ue,{className:"w-10 h-10"}),title:"Team Collaboration",description:"Work together with role-based access control, team management, and collaborative link management.",benefits:["Role-based access","Team management","Shared campaigns","Activity tracking"]},{icon:mt.jsx(We,{className:"w-10 h-10"}),title:"QR Code Generation",description:"Automatically generate QR codes for all your links with customizable designs and download options.",benefits:["Auto-generation","Custom designs","High resolution","Multiple formats"]},{icon:mt.jsx(he,{className:"w-10 h-10"}),title:"A/B Testing",description:"Split test different destinations and optimize your campaigns based on performance data.",benefits:["Split testing","Performance comparison","Traffic distribution","Conversion optimization"]},{icon:mt.jsx(Ye,{className:"w-10 h-10"}),title:"API Access",description:"Integrate Brain Link Tracker into your applications with our comprehensive REST API.",benefits:["RESTful API","Webhooks","Documentation","SDKs available"]},{icon:mt.jsx(Se,{className:"w-10 h-10"}),title:"Link Protection",description:"Protect your links with passwords, expiration dates, and click limits for enhanced security.",benefits:["Password protection","Expiration dates","Click limits","Access control"]},{icon:mt.jsx(B,{className:"w-10 h-10"}),title:"Advanced Reporting",description:"Generate detailed reports with customizable date ranges and export options for data analysis.",benefits:["Custom reports","Data export","Scheduled reports","Visual dashboards"]},{icon:mt.jsx(Te,{className:"w-10 h-10"}),title:"Telegram Integration",description:"Receive real-time notifications and manage links directly from Telegram.",benefits:["Real-time alerts","Bot commands","Link management","Analytics in chat"]}];return mt.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:[mt.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-lg shadow-lg",children:mt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"flex justify-between items-center h-16",children:[mt.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:mt.jsx(hm,{size:"md"})}),mt.jsxs("div",{className:"flex items-center space-x-4",children:[mt.jsx(oc,{variant:"ghost",onClick:()=>e("/login"),className:"text-slate-300 hover:text-white hover:bg-slate-800",children:"Sign In"}),mt.jsx(oc,{onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Get Started"})]})]})})}),mt.jsx("section",{className:"pt-32 pb-12 px-4 sm:px-6 lg:px-8",children:mt.jsx("div",{className:"max-w-7xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[mt.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6",children:["Powerful Features for",mt.jsx("br",{}),mt.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Modern Link Management"})]}),mt.jsx("p",{className:"text-lg text-slate-400 mb-8 max-w-3xl mx-auto",children:"Everything you need to create, track, and optimize your links at scale. Built for businesses that demand the best."}),mt.jsxs(oc,{size:"lg",onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg px-8 py-6",children:["Start Free Trial",mt.jsx(Ue,{className:"ml-2 w-5 h-5"})]})]})})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:mt.jsx("div",{className:"max-w-7xl mx-auto",children:mt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,t)=>mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.05*t},children:mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700 hover:bg-slate-800 transition-all duration-300 h-full hover:scale-105",children:[mt.jsxs(dc,{children:[mt.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center mb-4 text-white",children:e.icon}),mt.jsx(uc,{className:"text-white text-xl mb-2",children:e.title}),mt.jsx(hc,{className:"text-slate-400",children:e.description})]}),mt.jsx(mc,{children:mt.jsx("ul",{className:"space-y-2",children:e.benefits.map((e,t)=>mt.jsxs("li",{className:"flex items-center text-slate-300 text-sm",children:[mt.jsx(Ne,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),mt.jsx("span",{children:e})]},t))})})]})},t))})})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30",children:mt.jsx("div",{className:"max-w-4xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[mt.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Transform Your Links?"}),mt.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Join thousands of businesses using Brain Link Tracker to optimize their digital presence."}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[mt.jsxs(oc,{size:"lg",onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg px-8 py-6",children:["Start Free Trial",mt.jsx(Ue,{className:"ml-2 w-5 h-5"})]}),mt.jsx(oc,{size:"lg",variant:"outline",onClick:()=>e("/pricing"),className:"border-slate-700 text-white hover:bg-slate-800 text-lg px-8 py-6",children:"View Pricing"})]})]})})}),mt.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[mt.jsxs("div",{children:[mt.jsx("div",{className:"mb-4",children:mt.jsx(hm,{size:"md"})}),mt.jsx("p",{className:"text-slate-400 text-sm",children:"The most powerful link management platform for modern businesses."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/features",className:"hover:text-white transition-colors",children:"Features"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),mt.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-slate-400 text-sm",children:mt.jsxs("p",{children:[" ",(new Date).getFullYear()," Brain Link Tracker. All rights reserved."]})})]})})]})},uj=()=>{const e=o();return mt.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:[mt.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-lg shadow-lg",children:mt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"flex justify-between items-center h-16",children:[mt.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:mt.jsx(hm,{size:"md"})}),mt.jsxs("div",{className:"flex items-center space-x-4",children:[mt.jsx(oc,{variant:"ghost",onClick:()=>e("/login"),className:"text-slate-300 hover:text-white hover:bg-slate-800",children:"Sign In"}),mt.jsx(oc,{onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Get Started"})]})]})})}),mt.jsx("section",{className:"pt-32 pb-12 px-4 sm:px-6 lg:px-8",children:mt.jsx("div",{className:"max-w-7xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[mt.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6",children:"Choose Your Perfect Plan"}),mt.jsx("p",{className:"text-lg text-slate-400 mb-8 max-w-2xl mx-auto",children:"Flexible pricing options to match your needs. Start with our free trial and scale as you grow."})]})})}),mt.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:mt.jsx("div",{className:"max-w-7xl mx-auto",children:mt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[{name:"Free",price:"$0",period:"7-day trial",dailyLimit:"10 links/day",features:["Basic link tracking","7-day data retention","Basic analytics","QR code generation","Admin approval required"],popular:!1,planType:"free"},{name:"Weekly",price:"$35",period:"7 days",dailyLimit:"1,000 links/day",features:["Advanced tracking","Real-time analytics","Geographic intelligence","Campaign management","Priority support"],popular:!1,planType:"weekly"},{name:"Biweekly",price:"$68",period:"14 days",dailyLimit:"1,000 links/day",features:["All Weekly features","Extended data retention","Custom domains","A/B testing","Team collaboration"],popular:!1,planType:"biweekly"},{name:"Monthly",price:"$150",period:"30 days",dailyLimit:"5,000 links/day",features:["All Biweekly features","Advanced security","2FA authentication","IP blocking","Threat detection"],popular:!0,planType:"monthly"},{name:"Quarterly",price:"$420",period:"90 days",dailyLimit:"10,000 links/day",features:["All Monthly features","Bulk operations","Advanced reporting","Custom integrations","Dedicated support"],popular:!1,planType:"quarterly"},{name:"Pro",price:"$299",period:"per month",dailyLimit:"10,000 links/day",features:["Everything in Quarterly","API access","White-label options","Custom analytics","Priority support","Advanced automation"],popular:!1,planType:"pro"},{name:"Enterprise",price:"$999",period:"per year",dailyLimit:"50,000 links/day",features:["Everything in Pro","Unlimited links","Dedicated account manager","Custom SLA","On-premise deployment","Advanced security features","24/7 premium support"],popular:!1,planType:"enterprise"}].map((t,s)=>mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*s},children:mt.jsxs(cc,{className:`relative h-full flex flex-col ${t.popular?"bg-gradient-to-b from-blue-900/50 to-purple-900/50 border-blue-500 scale-105":"bg-slate-800/50 border-slate-700"} hover:scale-105 transition-all duration-300`,children:[t.popular&&mt.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:mt.jsxs("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-semibold flex items-center",children:[mt.jsx(Ke,{className:"w-4 h-4 mr-1"}),"Most Popular"]})}),mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-white text-2xl",children:t.name}),mt.jsxs("div",{className:"mt-4",children:[mt.jsx("span",{className:"text-4xl font-bold text-white",children:t.price}),mt.jsxs("span",{className:"text-slate-400 ml-2",children:["/",t.period]})]}),mt.jsx("div",{className:"mt-2 text-sm text-slate-300 font-semibold",children:t.dailyLimit})]}),mt.jsxs(mc,{className:"flex-grow flex flex-col",children:[mt.jsx("ul",{className:"space-y-3 mb-6 flex-grow",children:t.features.map((e,t)=>mt.jsxs("li",{className:"flex items-start text-slate-300",children:[mt.jsx(te,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),mt.jsx("span",{className:"text-sm",children:e})]},t))}),mt.jsxs(oc,{className:`w-full ${t.popular?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":"bg-slate-700 hover:bg-slate-600"} text-white`,onClick:()=>e(`/register?plan=${t.planType}`),children:["Get Started",mt.jsx(Ue,{className:"ml-2 w-4 h-4"})]})]})]})},s))})})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-900/50",children:mt.jsxs("div",{className:"max-w-4xl mx-auto",children:[mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:mt.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Frequently Asked Questions"})}),mt.jsxs("div",{className:"grid gap-6",children:[mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-lg",children:"Can I change my plan later?"})}),mt.jsx(mc,{children:mt.jsx("p",{className:"text-slate-400",children:"Yes! You can upgrade or downgrade your plan at any time. Changes take effect immediately."})})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-lg",children:"What payment methods do you accept?"})}),mt.jsx(mc,{children:mt.jsx("p",{className:"text-slate-400",children:"We accept all major credit cards, PayPal, and cryptocurrency payments for your convenience."})})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-lg",children:"Is there a free trial?"})}),mt.jsx(mc,{children:mt.jsx("p",{className:"text-slate-400",children:"Yes! All new users get a 7-day free trial with 10 links per day. No credit card required to start."})})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-lg",children:"What happens when my plan expires?"})}),mt.jsx(mc,{children:mt.jsx("p",{className:"text-slate-400",children:"Your account will be downgraded to the free plan. Your data is preserved, but you'll be limited to 10 links per day until you renew."})})]})]})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30",children:mt.jsx("div",{className:"max-w-4xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[mt.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Get Started?"}),mt.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"Join thousands of businesses already using Brain Link Tracker. Start your free trial today."}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[mt.jsxs(oc,{size:"lg",onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white text-lg px-8 py-6",children:["Start Free Trial",mt.jsx(Ue,{className:"ml-2 w-5 h-5"})]}),mt.jsx(oc,{size:"lg",variant:"outline",onClick:()=>e("/contact"),className:"border-slate-700 text-white hover:bg-slate-800 text-lg px-8 py-6",children:"Contact Sales"})]})]})})}),mt.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[mt.jsxs("div",{children:[mt.jsx("div",{className:"mb-4",children:mt.jsx(hm,{size:"md"})}),mt.jsx("p",{className:"text-slate-400 text-sm",children:"The most powerful link management platform for modern businesses."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/features",className:"hover:text-white transition-colors",children:"Features"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),mt.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-slate-400 text-sm",children:mt.jsxs("p",{children:[" ",(new Date).getFullYear()," Brain Link Tracker. All rights reserved."]})})]})})]})},hj=()=>{const e=o(),[t,n]=s.useState({name:"",email:"",subject:"",message:""}),[r,a]=s.useState(!1),i=e=>{const{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))};return mt.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 pt-20",children:mt.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[mt.jsxs("div",{className:"text-center mb-12",children:[mt.jsx("div",{className:"flex justify-center mb-4 cursor-pointer",onClick:()=>e("/"),children:mt.jsx(hm,{size:"lg"})}),mt.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:"Get in Touch"}),mt.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:"We're here to help and answer any question you might have. We look forward to hearing from you."})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[mt.jsxs("div",{className:"space-y-6",children:[mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700 text-white",children:[mt.jsxs(dc,{children:[mt.jsx(ce,{className:"w-6 h-6 text-blue-400 mb-2"}),mt.jsx(uc,{className:"text-xl",children:"Email Us"})]}),mt.jsxs(mc,{children:[mt.jsx("p",{className:"text-slate-400",children:"Send us an email for general inquiries."}),mt.jsx("a",{href:"mailto:support@brainlinktracker.com",className:"text-blue-400 hover:text-blue-300 font-medium mt-2 block",children:"support@brainlinktracker.com"})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700 text-white",children:[mt.jsxs(dc,{children:[mt.jsx(Ge,{className:"w-6 h-6 text-purple-400 mb-2"}),mt.jsx(uc,{className:"text-xl",children:"Call Us"})]}),mt.jsxs(mc,{children:[mt.jsx("p",{className:"text-slate-400",children:"Call our sales team for enterprise solutions."}),mt.jsx("a",{href:"tel:+1234567890",className:"text-purple-400 hover:text-purple-300 font-medium mt-2 block",children:"+1 (234) 567-890"})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700 text-white",children:[mt.jsxs(dc,{children:[mt.jsx(He,{className:"w-6 h-6 text-pink-400 mb-2"}),mt.jsx(uc,{className:"text-xl",children:"Our Office"})]}),mt.jsxs(mc,{children:[mt.jsx("p",{className:"text-slate-400",children:"Brain Link Tracker HQ"}),mt.jsx("p",{className:"text-slate-400",children:"123 Analytics Ave, Suite 400"}),mt.jsx("p",{className:"text-slate-400",children:"Data City, CA 90210"})]})]})]}),mt.jsx("div",{className:"lg:col-span-2",children:mt.jsxs(cc,{className:"bg-slate-900 border-slate-800",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-2xl font-bold text-white",children:"Send us a message"})}),mt.jsx(mc,{children:mt.jsxs("form",{onSubmit:async e=>{e.preventDefault(),a(!0);try{(await fetch("/api/contact/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?(em.success("Message sent successfully! We will get back to you shortly."),n({name:"",email:"",subject:"",message:""})):em.error("Failed to send message. Please try again.")}catch(s){em.error("Network error. Please try again later.")}finally{a(!1)}},className:"space-y-6",children:[mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"name",className:"text-white",children:"Name"}),mt.jsx(ou,{id:"name",name:"name",type:"text",placeholder:"Your Name",value:t.name,onChange:i,required:!0,className:"bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"email",className:"text-white",children:"Email"}),mt.jsx(ou,{id:"email",name:"email",type:"email",placeholder:"Your Email",value:t.email,onChange:i,required:!0,className:"bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"})]})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"subject",className:"text-white",children:"Subject"}),mt.jsx(ou,{id:"subject",name:"subject",type:"text",placeholder:"Subject of your inquiry",value:t.subject,onChange:i,required:!0,className:"bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"message",className:"text-white",children:"Message"}),mt.jsx(hu,{id:"message",name:"message",placeholder:"Your message...",value:t.message,onChange:i,required:!0,rows:6,className:"bg-slate-800 border-slate-700 text-white placeholder-slate-500 focus:border-blue-500"})]}),mt.jsx(oc,{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium",children:r?mt.jsxs(mt.Fragment,{children:[mt.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):mt.jsxs(mt.Fragment,{children:[mt.jsx(Xe,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})})]})})]})]})})},mj=()=>{const e=[{icon:he,title:"Precision Tracking",description:"We believe in providing accurate, real-time data that empowers businesses to make informed decisions."},{icon:Y,title:"Security First",description:"Your data security is our top priority. We employ industry-leading encryption and security protocols."},{icon:ue,title:"Customer Success",description:"We measure our success by yours. Our dedicated team ensures you get maximum value from our platform."},{icon:Ze,title:"Innovation",description:"We continuously evolve our platform with cutting-edge features to stay ahead of market demands."}];return mt.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:[mt.jsx("nav",{className:"fixed top-0 w-full bg-slate-900/80 backdrop-blur-lg border-b border-slate-800 z-50",children:mt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"flex justify-between items-center h-16",children:[mt.jsxs(d,{to:"/",className:"flex items-center space-x-2",children:[mt.jsx(K,{className:"h-8 w-8 text-blue-500"}),mt.jsx("span",{className:"text-xl font-bold text-white",children:"Brain Link Tracker"})]}),mt.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[mt.jsx(d,{to:"/features",className:"text-slate-300 hover:text-white transition-colors",children:"Features"}),mt.jsx(d,{to:"/pricing",className:"text-slate-300 hover:text-white transition-colors",children:"Pricing"}),mt.jsx(d,{to:"/about",className:"text-white font-medium",children:"About"}),mt.jsx(d,{to:"/contact",className:"text-slate-300 hover:text-white transition-colors",children:"Contact"}),mt.jsx(d,{to:"/login",children:mt.jsx(oc,{variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white",children:"Login"})}),mt.jsx(d,{to:"/register",children:mt.jsx(oc,{className:"bg-blue-600 hover:bg-blue-700",children:"Get Started"})})]})]})})}),mt.jsx("section",{className:"pt-32 pb-20 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[mt.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-6",children:["Built by Marketers,",mt.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"For Marketers"})]}),mt.jsx("p",{className:"text-xl text-slate-400 max-w-3xl mx-auto mb-8",children:"We're on a mission to give every businessfrom startups to enterprisesthe power to track, analyze, and optimize their digital campaigns with precision and ease."})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-900/50",children:mt.jsx("div",{className:"max-w-7xl mx-auto",children:mt.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[mt.jsxs("div",{children:[mt.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Story"}),mt.jsxs("div",{className:"space-y-4 text-slate-300 text-lg",children:[mt.jsx("p",{children:"Brain Link Tracker was founded in 2020 when our team of marketing professionals and engineers realized there was a gap in the market for truly intelligent link tracking."}),mt.jsx("p",{children:"We were frustrated with existing solutions that either lacked advanced features or were prohibitively expensive. We knew there had to be a better waya platform that combined powerful analytics with an intuitive interface, all at a fair price."}),mt.jsx("p",{children:"Today, we're proud to serve thousands of businesses worldwide, from solo entrepreneurs to Fortune 500 companies, helping them make data-driven decisions that drive real growth."})]})]}),mt.jsxs("div",{className:"relative",children:[mt.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg blur-3xl opacity-20"}),mt.jsx(cc,{className:"relative bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-8",children:mt.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[mt.jsxs("div",{className:"text-center",children:[mt.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:"50K+"}),mt.jsx("div",{className:"text-slate-400",children:"Active Users"})]}),mt.jsxs("div",{className:"text-center",children:[mt.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:"100M+"}),mt.jsx("div",{className:"text-slate-400",children:"Links Tracked"})]}),mt.jsxs("div",{className:"text-center",children:[mt.jsx("div",{className:"text-4xl font-bold text-green-400 mb-2",children:"99.9%"}),mt.jsx("div",{className:"text-slate-400",children:"Uptime"})]}),mt.jsxs("div",{className:"text-center",children:[mt.jsx("div",{className:"text-4xl font-bold text-orange-400 mb-2",children:"50+"}),mt.jsx("div",{className:"text-slate-400",children:"Countries"})]})]})})})]})]})})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"text-center mb-16",children:[mt.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Our Core Values"}),mt.jsx("p",{className:"text-xl text-slate-400",children:"The principles that guide everything we do"})]}),mt.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((e,t)=>mt.jsx(cc,{className:"bg-slate-800 border-slate-700 hover:border-blue-500 transition-all",children:mt.jsxs(mc,{className:"p-6",children:[mt.jsx(e.icon,{className:"h-12 w-12 text-blue-400 mb-4"}),mt.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:e.title}),mt.jsx("p",{className:"text-slate-400",children:e.description})]})},t))})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-slate-900/50",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"text-center mb-16",children:[mt.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Our Journey"}),mt.jsx("p",{className:"text-xl text-slate-400",children:"Key milestones in our growth"})]}),mt.jsxs("div",{className:"relative",children:[mt.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gradient-to-b from-blue-500 to-purple-600"}),mt.jsx("div",{className:"space-y-12",children:[{year:"2020",title:"Founded",description:"Brain Link Tracker was born from a vision to simplify link tracking"},{year:"2021",title:"10K Users",description:"Reached our first major milestone with 10,000 active users"},{year:"2022",title:"Global Expansion",description:"Expanded services to 50+ countries worldwide"},{year:"2023",title:"AI Integration",description:"Launched advanced AI-powered analytics and bot detection"},{year:"2024",title:"Enterprise Ready",description:"Introduced enterprise-grade features and dedicated support"}].map((e,t)=>mt.jsxs("div",{className:"flex items-center "+(t%2==0?"flex-row":"flex-row-reverse"),children:[mt.jsx("div",{className:"w-1/2 "+(t%2==0?"pr-8 text-right":"pl-8 text-left"),children:mt.jsx(cc,{className:"bg-slate-800 border-slate-700 inline-block",children:mt.jsxs(mc,{className:"p-6",children:[mt.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-2",children:e.year}),mt.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.title}),mt.jsx("p",{className:"text-slate-400",children:e.description})]})})}),mt.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full border-4 border-slate-900 z-10"}),mt.jsx("div",{className:"w-1/2"})]},t))})]})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"text-center mb-16",children:[mt.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Meet Our Leadership"}),mt.jsx("p",{className:"text-xl text-slate-400",children:"The team driving innovation at Brain Link Tracker"})]}),mt.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{name:"Sarah Chen",role:"CEO & Co-Founder",bio:"Former VP of Analytics at a Fortune 500 company with 15+ years in data science"},{name:"Marcus Rodriguez",role:"CTO & Co-Founder",bio:"Ex-Google engineer specializing in distributed systems and real-time analytics"},{name:"Emily Watson",role:"Head of Product",bio:"Product strategist with a track record of building user-centric SaaS platforms"},{name:"David Kim",role:"VP of Engineering",bio:"Infrastructure expert who scaled systems handling billions of daily requests"}].map((e,t)=>mt.jsx(cc,{className:"bg-slate-800 border-slate-700 hover:border-blue-500 transition-all",children:mt.jsxs(mc,{className:"p-6 text-center",children:[mt.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center",children:mt.jsx(ue,{className:"h-12 w-12 text-white"})}),mt.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:e.name}),mt.jsx("p",{className:"text-blue-400 mb-3",children:e.role}),mt.jsx("p",{className:"text-slate-400 text-sm",children:e.bio})]})},t))})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-900/20 to-purple-900/20",children:mt.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[mt.jsx(Je,{className:"h-16 w-16 text-red-400 mx-auto mb-6"}),mt.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Our Mission"}),mt.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"To democratize advanced link tracking and analytics, making enterprise-grade tools accessible to businesses of all sizes. We believe every marketer deserves the insights needed to succeed in today's digital landscape."}),mt.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[mt.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[mt.jsx(Ne,{className:"h-5 w-5 text-green-400"}),mt.jsx("span",{children:"Transparent Pricing"})]}),mt.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[mt.jsx(Ne,{className:"h-5 w-5 text-green-400"}),mt.jsx("span",{children:"No Hidden Fees"})]}),mt.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[mt.jsx(Ne,{className:"h-5 w-5 text-green-400"}),mt.jsx("span",{children:"24/7 Support"})]}),mt.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[mt.jsx(Ne,{className:"h-5 w-5 text-green-400"}),mt.jsx("span",{children:"Regular Updates"})]})]})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[mt.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Tracking?"}),mt.jsx("p",{className:"text-xl text-slate-400 mb-8",children:"Join thousands of businesses already using Brain Link Tracker to optimize their campaigns"}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[mt.jsx(d,{to:"/register",children:mt.jsx(oc,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-lg px-8",children:"Start Free Trial"})}),mt.jsx(d,{to:"/contact",children:mt.jsx(oc,{size:"lg",variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500 hover:text-white text-lg px-8",children:"Contact Sales"})})]})]})}),mt.jsx("footer",{className:"bg-slate-900 border-t border-slate-800 py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),mt.jsxs("ul",{className:"space-y-2",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/features",className:"text-slate-400 hover:text-white",children:"Features"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/pricing",className:"text-slate-400 hover:text-white",children:"Pricing"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),mt.jsxs("ul",{className:"space-y-2",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/about",className:"text-slate-400 hover:text-white",children:"About"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"text-slate-400 hover:text-white",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),mt.jsxs("ul",{className:"space-y-2",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/privacy",className:"text-slate-400 hover:text-white",children:"Privacy Policy"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/terms",className:"text-slate-400 hover:text-white",children:"Terms of Service"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Connect"}),mt.jsxs("ul",{className:"space-y-2",children:[mt.jsx("li",{children:mt.jsx("a",{href:"#",className:"text-slate-400 hover:text-white",children:"Twitter"})}),mt.jsx("li",{children:mt.jsx("a",{href:"#",className:"text-slate-400 hover:text-white",children:"LinkedIn"})})]})]})]}),mt.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-slate-400",children:mt.jsx("p",{children:" 2024 Brain Link Tracker. All rights reserved."})})]})})]})},pj=()=>{const e=o(),t=[{icon:mt.jsx(Me,{className:"w-6 h-6"}),title:"Information We Collect",content:[{subtitle:"Account Information",text:"When you create an account, we collect your username, email address, and password (encrypted). We may also collect optional profile information you choose to provide."},{subtitle:"Link Data",text:"We collect information about the links you create, including original URLs, shortened URLs, custom aliases, and associated metadata such as creation dates and expiration settings."},{subtitle:"Analytics Data",text:"We automatically collect analytics data when someone clicks your shortened links, including IP addresses, geographic location, device type, browser information, referrer URLs, and timestamp of clicks."},{subtitle:"Usage Information",text:"We collect information about how you use our platform, including features accessed, pages viewed, time spent on the platform, and interaction patterns."},{subtitle:"Payment Information",text:"For paid subscriptions, we collect billing information through secure third-party payment processors. We do not store complete credit card numbers on our servers."}]},{icon:mt.jsx(Oe,{className:"w-6 h-6"}),title:"How We Use Your Information",content:[{subtitle:"Service Delivery",text:"We use your information to provide, maintain, and improve our link management services, including creating and tracking shortened links, generating analytics reports, and managing your account."},{subtitle:"Analytics and Insights",text:"We process click data to provide you with detailed analytics about your link performance, including geographic distribution, device statistics, and traffic sources."},{subtitle:"Communication",text:"We may use your email address to send you service-related notifications, security alerts, subscription updates, and optional marketing communications (which you can opt out of at any time)."},{subtitle:"Security and Fraud Prevention",text:"We use your information to detect and prevent fraudulent activity, abuse, security incidents, and other harmful activities on our platform."},{subtitle:"Platform Improvement",text:"We analyze aggregated usage data to understand how our platform is used, identify areas for improvement, and develop new features and services."}]},{icon:mt.jsx(Se,{className:"w-6 h-6"}),title:"Data Security",content:[{subtitle:"Encryption",text:"All data transmitted between your browser and our servers is encrypted using industry-standard SSL/TLS protocols. Passwords are hashed using bcrypt with salt before storage."},{subtitle:"Access Controls",text:"We implement strict access controls and authentication mechanisms to ensure that only authorized personnel can access user data, and only when necessary for service delivery or support."},{subtitle:"Infrastructure Security",text:"Our infrastructure is hosted on secure cloud platforms with regular security audits, automated backups, and disaster recovery procedures in place."},{subtitle:"Monitoring and Logging",text:"We maintain comprehensive security logs and monitoring systems to detect and respond to potential security incidents in real-time."},{subtitle:"Regular Updates",text:"We regularly update our systems and dependencies to patch security vulnerabilities and maintain the highest security standards."}]},{icon:mt.jsx(le,{className:"w-6 h-6"}),title:"Data Sharing and Disclosure",content:[{subtitle:"Third-Party Service Providers",text:"We may share your information with trusted third-party service providers who assist us in operating our platform, such as hosting providers, payment processors, and analytics services. These providers are contractually obligated to protect your data."},{subtitle:"Legal Requirements",text:"We may disclose your information if required by law, court order, or government regulation, or if we believe disclosure is necessary to protect our rights, your safety, or the safety of others."},{subtitle:"Business Transfers",text:"In the event of a merger, acquisition, or sale of assets, your information may be transferred to the acquiring entity. We will notify you of any such change and provide options regarding your data."},{subtitle:"Aggregated Data",text:"We may share aggregated, anonymized data that cannot identify individual users for research, marketing, or business intelligence purposes."},{subtitle:"Your Consent",text:"We will not share your personal information with third parties for their marketing purposes without your explicit consent."}]},{icon:mt.jsx(Qe,{className:"w-6 h-6"}),title:"Your Rights and Choices",content:[{subtitle:"Access and Portability",text:"You have the right to access your personal data and request a copy in a portable format. You can export your link data and analytics at any time through your account dashboard."},{subtitle:"Correction and Update",text:"You can update your account information, profile details, and preferences at any time through your account settings."},{subtitle:"Deletion",text:"You have the right to request deletion of your account and associated data. Upon deletion, we will remove your personal information within 30 days, except where retention is required by law."},{subtitle:"Opt-Out",text:"You can opt out of marketing communications at any time by clicking the unsubscribe link in our emails or adjusting your notification preferences in your account settings."},{subtitle:"Data Retention Control",text:"You can configure data retention periods for your link analytics and choose to delete historical data at any time."},{subtitle:"Cookie Preferences",text:"You can manage cookie preferences through your browser settings. Note that disabling certain cookies may affect platform functionality."}]},{icon:mt.jsx(Y,{className:"w-6 h-6"}),title:"Cookies and Tracking Technologies",content:[{subtitle:"Essential Cookies",text:"We use essential cookies required for platform functionality, including authentication, session management, and security features. These cookies cannot be disabled."},{subtitle:"Analytics Cookies",text:"We use analytics cookies to understand how users interact with our platform, which helps us improve our services. You can opt out of analytics cookies through your browser settings."},{subtitle:"Preference Cookies",text:"We use preference cookies to remember your settings and preferences, such as language selection and display options."},{subtitle:"Third-Party Cookies",text:"Some third-party services we use (such as payment processors) may set their own cookies. These are governed by their respective privacy policies."}]},{icon:mt.jsx(Oe,{className:"w-6 h-6"}),title:"Data Retention",content:[{subtitle:"Account Data",text:"We retain your account information for as long as your account is active or as needed to provide you services. After account deletion, we retain minimal data for legal and security purposes for up to 90 days."},{subtitle:"Link Data",text:"Link data is retained according to your subscription plan. Free users have 7-day retention, while paid plans offer extended retention periods. You can manually delete links at any time."},{subtitle:"Analytics Data",text:"Click analytics are retained according to your plan's data retention period. You can configure retention settings and delete historical data through your dashboard."},{subtitle:"Backup Data",text:"Backup copies of data may be retained for disaster recovery purposes for up to 30 days after deletion from active systems."}]},{icon:mt.jsx(je,{className:"w-6 h-6"}),title:"International Data Transfers",content:[{subtitle:"Global Infrastructure",text:"Our services are hosted on cloud infrastructure that may store and process data in multiple countries. We ensure that all data transfers comply with applicable data protection laws."},{subtitle:"Data Protection Standards",text:"We implement appropriate safeguards for international data transfers, including standard contractual clauses and data processing agreements with our service providers."},{subtitle:"EU-US Data Transfers",text:"For users in the European Union, we comply with GDPR requirements and ensure adequate protection for data transferred outside the EU."}]},{icon:mt.jsx(Qe,{className:"w-6 h-6"}),title:"Children's Privacy",content:[{subtitle:"Age Requirement",text:"Our services are not intended for children under the age of 13 (or 16 in the European Union). We do not knowingly collect personal information from children."},{subtitle:"Parental Notice",text:"If we become aware that we have collected personal information from a child without parental consent, we will take steps to delete that information promptly."},{subtitle:"Reporting",text:"If you believe we have collected information from a child, please contact us immediately at privacy@brainlinktracker.com."}]},{icon:mt.jsx(ce,{className:"w-6 h-6"}),title:"Changes to This Privacy Policy",content:[{subtitle:"Updates",text:"We may update this privacy policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors."},{subtitle:"Notification",text:"We will notify you of material changes by email or through a prominent notice on our platform at least 30 days before the changes take effect."},{subtitle:"Continued Use",text:"Your continued use of our services after changes to this privacy policy constitutes acceptance of the updated terms."},{subtitle:"Review",text:"We encourage you to review this privacy policy periodically to stay informed about how we protect your information."}]}];return mt.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:[mt.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-lg shadow-lg",children:mt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"flex justify-between items-center h-16",children:[mt.jsx("div",{className:"flex items-center cursor-pointer",onClick:()=>e("/"),children:mt.jsx(hm,{size:"md"})}),mt.jsxs("div",{className:"flex items-center space-x-4",children:[mt.jsx(oc,{variant:"ghost",onClick:()=>e("/login"),className:"text-slate-300 hover:text-white hover:bg-slate-800",children:"Sign In"}),mt.jsx(oc,{onClick:()=>e("/register"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Get Started"})]})]})})}),mt.jsx("section",{className:"pt-32 pb-12 px-4 sm:px-6 lg:px-8",children:mt.jsx("div",{className:"max-w-4xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[mt.jsx("div",{className:"flex justify-center mb-6",children:mt.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:mt.jsx(Y,{className:"w-10 h-10 text-white"})})}),mt.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6",children:"Privacy Policy"}),mt.jsx("p",{className:"text-lg text-slate-400 mb-4",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),mt.jsx("p",{className:"text-sm text-slate-500",children:"Last Updated: November 14, 2025"})]})})}),mt.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-4xl mx-auto",children:[mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12",children:mt.jsx(cc,{className:"bg-slate-800/50 border-slate-700",children:mt.jsxs(mc,{className:"pt-6",children:[mt.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:'Brain Link Tracker ("we," "our," or "us") is committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our link management platform and services.'}),mt.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"By using Brain Link Tracker, you agree to the collection and use of information in accordance with this policy. If you do not agree with our policies and practices, please do not use our services."}),mt.jsx("p",{className:"text-slate-300 leading-relaxed",children:'We reserve the right to make changes to this Privacy Policy at any time and for any reason. We will alert you about any changes by updating the "Last Updated" date of this Privacy Policy.'})]})})}),mt.jsx("div",{className:"space-y-8",children:t.map((e,t)=>mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.05*t},children:mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700 hover:bg-slate-800/70 transition-all duration-300",children:[mt.jsx(dc,{children:mt.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[mt.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center text-white",children:e.icon}),mt.jsx(uc,{className:"text-white text-2xl",children:e.title})]})}),mt.jsx(mc,{className:"space-y-6",children:e.content.map((e,t)=>mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:e.subtitle}),mt.jsx("p",{className:"text-slate-300 leading-relaxed",children:e.text})]},t))})]})},t))}),mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12",children:mt.jsxs(cc,{className:"bg-gradient-to-r from-blue-900/30 to-purple-900/30 border-blue-500/50",children:[mt.jsx(dc,{children:mt.jsxs("div",{className:"flex items-center space-x-3",children:[mt.jsx(ce,{className:"w-6 h-6 text-blue-400"}),mt.jsx(uc,{className:"text-white text-xl",children:"Contact Us"})]})}),mt.jsxs(mc,{children:[mt.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),mt.jsxs("div",{className:"space-y-2 text-slate-300",children:[mt.jsxs("p",{children:[mt.jsx("strong",{className:"text-white",children:"Email:"})," privacy@brainlinktracker.com"]}),mt.jsxs("p",{children:[mt.jsx("strong",{className:"text-white",children:"Support:"})," support@brainlinktracker.com"]}),mt.jsxs("p",{children:[mt.jsx("strong",{className:"text-white",children:"Data Protection Officer:"})," dpo@brainlinktracker.com"]})]}),mt.jsx("p",{className:"text-slate-400 text-sm mt-4",children:"We will respond to your inquiry within 30 days of receipt."})]})]})}),mt.jsx(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-8",children:mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-xl",children:"Legal Compliance"})}),mt.jsxs(mc,{children:[mt.jsx("p",{className:"text-slate-300 leading-relaxed mb-4",children:"Brain Link Tracker complies with applicable data protection laws and regulations, including:"}),mt.jsxs("ul",{className:"space-y-2 text-slate-300",children:[mt.jsxs("li",{className:"flex items-start",children:[mt.jsx("span",{className:"text-blue-400 mr-2",children:""}),mt.jsx("span",{children:"General Data Protection Regulation (GDPR) for users in the European Union"})]}),mt.jsxs("li",{className:"flex items-start",children:[mt.jsx("span",{className:"text-blue-400 mr-2",children:""}),mt.jsx("span",{children:"California Consumer Privacy Act (CCPA) for California residents"})]}),mt.jsxs("li",{className:"flex items-start",children:[mt.jsx("span",{className:"text-blue-400 mr-2",children:""}),mt.jsx("span",{children:"Children's Online Privacy Protection Act (COPPA)"})]}),mt.jsxs("li",{className:"flex items-start",children:[mt.jsx("span",{className:"text-blue-400 mr-2",children:""}),mt.jsx("span",{children:"Other applicable international and local privacy laws"})]})]})]})]})})]})}),mt.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30",children:mt.jsx("div",{className:"max-w-4xl mx-auto text-center",children:mt.jsxs(lj.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[mt.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Questions About Your Privacy?"}),mt.jsx("p",{className:"text-lg text-slate-400 mb-8",children:"We're here to help. Contact our privacy team or review our other policies."}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[mt.jsx(oc,{size:"lg",onClick:()=>e("/contact"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Contact Us"}),mt.jsx(oc,{size:"lg",variant:"outline",onClick:()=>e("/terms"),className:"border-slate-700 text-white hover:bg-slate-800",children:"Terms of Service"})]})]})})}),mt.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-8",children:[mt.jsxs("div",{children:[mt.jsx("div",{className:"mb-4",children:mt.jsx(hm,{size:"md"})}),mt.jsx("p",{className:"text-slate-400 text-sm",children:"The most powerful link management platform for modern businesses."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Product"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/features",className:"hover:text-white transition-colors",children:"Features"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/pricing",className:"hover:text-white transition-colors",children:"Pricing"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Company"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/about",className:"hover:text-white transition-colors",children:"About Us"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-4",children:"Legal"}),mt.jsxs("ul",{className:"space-y-2 text-slate-400 text-sm",children:[mt.jsx("li",{children:mt.jsx(d,{to:"/privacy",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),mt.jsx("li",{children:mt.jsx(d,{to:"/terms",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]})]}),mt.jsx("div",{className:"border-t border-slate-800 pt-8 text-center text-slate-400 text-sm",children:mt.jsxs("p",{children:[" ",(new Date).getFullYear()," Brain Link Tracker. All rights reserved."]})})]})})]})},xj=()=>{const e=o();return mt.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:[mt.jsx("nav",{className:"bg-slate-900/95 backdrop-blur-lg shadow-lg sticky top-0 z-50",children:mt.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[mt.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>e("/"),children:[mt.jsx(hm,{size:"md"}),mt.jsx("span",{className:"text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent",children:"Brain Link Tracker"})]}),mt.jsxs(oc,{variant:"ghost",onClick:()=>e("/"),className:"text-slate-300 hover:text-white hover:bg-slate-800",children:[mt.jsx(et,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})})}),mt.jsx("div",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-900/20 to-purple-900/20",children:mt.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[mt.jsx("div",{className:"flex justify-center mb-6",children:mt.jsx("div",{className:"p-4 bg-blue-500/10 rounded-full",children:mt.jsx(Me,{className:"w-12 h-12 text-blue-400"})})}),mt.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Terms of Service"}),mt.jsx("p",{className:"text-lg text-slate-400",children:"Last Updated: November 14, 2024"})]})}),mt.jsx("div",{className:"py-12 px-4 sm:px-6 lg:px-8",children:mt.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white text-2xl flex items-center",children:[mt.jsx(Y,{className:"w-6 h-6 mr-3 text-blue-400"}),"Introduction"]})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{children:'Welcome to Brain Link Tracker. These Terms of Service ("Terms") govern your access to and use of our link tracking and analytics platform, including our website, services, and applications (collectively, the "Service").'}),mt.jsx("p",{children:"By accessing or using our Service, you agree to be bound by these Terms. If you do not agree to these Terms, please do not use our Service."})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white text-2xl flex items-center",children:[mt.jsx(ue,{className:"w-6 h-6 mr-3 text-purple-400"}),"Account Terms"]})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"1. Account Creation"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"You must be at least 18 years old to use this Service."}),mt.jsx("li",{children:"You must provide accurate and complete information when creating an account."}),mt.jsx("li",{children:"You are responsible for maintaining the security of your account and password."}),mt.jsx("li",{children:"You are responsible for all activities that occur under your account."}),mt.jsx("li",{children:"You must notify us immediately of any unauthorized use of your account."})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"2. Account Approval"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"New accounts require admin approval before activation."}),mt.jsx("li",{children:"We reserve the right to refuse service to anyone for any reason at any time."}),mt.jsx("li",{children:"Accounts may be suspended or terminated for violation of these Terms."})]})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsxs(uc,{className:"text-white text-2xl flex items-center",children:[mt.jsx(je,{className:"w-6 h-6 mr-3 text-yellow-400"}),"Acceptable Use Policy"]})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{className:"font-semibold text-white",children:"You agree NOT to use the Service to:"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"Violate any laws, regulations, or third-party rights."}),mt.jsx("li",{children:"Transmit any harmful, threatening, abusive, harassing, defamatory, or otherwise objectionable content."}),mt.jsx("li",{children:"Distribute spam, malware, viruses, or any other malicious code."}),mt.jsx("li",{children:"Engage in phishing, fraud, or any deceptive practices."}),mt.jsx("li",{children:"Interfere with or disrupt the Service or servers or networks connected to the Service."}),mt.jsx("li",{children:"Attempt to gain unauthorized access to any portion of the Service."}),mt.jsx("li",{children:"Use the Service for any illegal or unauthorized purpose."}),mt.jsx("li",{children:"Impersonate any person or entity or misrepresent your affiliation with any person or entity."}),mt.jsx("li",{children:"Collect or harvest any personally identifiable information from the Service without consent."}),mt.jsx("li",{children:"Use automated systems to access the Service without our prior written permission."})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Service Terms"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"1. Service Availability"}),mt.jsx("p",{children:"We strive to provide reliable service but do not guarantee that the Service will be uninterrupted, timely, secure, or error-free. We reserve the right to modify, suspend, or discontinue the Service at any time without notice."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"2. Data and Privacy"}),mt.jsx("p",{children:"Your use of the Service is also governed by our Privacy Policy. We collect and use data as described in our Privacy Policy to provide and improve our Service."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"3. Link Tracking"}),mt.jsx("p",{children:"You are responsible for the content and destination of all links you create through our Service. We reserve the right to disable or remove any links that violate these Terms or applicable laws."})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Payment and Billing"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"1. Subscription Plans"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"Paid plans are billed in advance on a recurring basis (weekly, monthly, quarterly, or annually)."}),mt.jsx("li",{children:"All fees are non-refundable except as required by law."}),mt.jsx("li",{children:"You authorize us to charge your payment method for all fees incurred."}),mt.jsx("li",{children:"Prices are subject to change with 30 days' notice."})]})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"2. Free Trial"}),mt.jsx("p",{children:"New users receive a 7-day free trial with limited features. The trial automatically converts to a paid plan unless you cancel before the trial ends."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"3. Cancellation and Refunds"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"You may cancel your subscription at any time through your account settings."}),mt.jsx("li",{children:"Cancellation takes effect at the end of the current billing period."}),mt.jsx("li",{children:"No refunds will be provided for partial months or unused services."}),mt.jsx("li",{children:"Upon cancellation, your account will be downgraded to the free plan."})]})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Intellectual Property"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"1. Our Rights"}),mt.jsx("p",{children:"The Service and its original content, features, and functionality are owned by Brain Link Tracker and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"2. Your Rights"}),mt.jsx("p",{children:"You retain all rights to the content you create and track through our Service. By using the Service, you grant us a limited license to use, store, and display your content solely for the purpose of providing the Service."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"3. Feedback"}),mt.jsx("p",{children:"Any feedback, comments, or suggestions you provide regarding the Service may be used by us without any obligation to you."})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Limitation of Liability"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, BRAIN LINK TRACKER SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES RESULTING FROM:"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"Your access to or use of or inability to access or use the Service."}),mt.jsx("li",{children:"Any conduct or content of any third party on the Service."}),mt.jsx("li",{children:"Any content obtained from the Service."}),mt.jsx("li",{children:"Unauthorized access, use, or alteration of your transmissions or content."})]}),mt.jsx("p",{className:"text-yellow-400 font-semibold",children:"IN NO EVENT SHALL OUR AGGREGATE LIABILITY EXCEED THE AMOUNT YOU PAID US IN THE TWELVE (12) MONTHS PRIOR TO THE EVENT GIVING RISE TO THE LIABILITY."})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Indemnification"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{children:"You agree to indemnify, defend, and hold harmless Brain Link Tracker, its officers, directors, employees, agents, and affiliates from and against any claims, liabilities, damages, losses, and expenses, including reasonable attorney's fees, arising out of or in any way connected with:"}),mt.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[mt.jsx("li",{children:"Your access to or use of the Service."}),mt.jsx("li",{children:"Your violation of these Terms."}),mt.jsx("li",{children:"Your violation of any third-party rights, including intellectual property rights."}),mt.jsx("li",{children:"Any content you submit, post, or transmit through the Service."})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Dispute Resolution"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"1. Governing Law"}),mt.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of California, United States, without regard to its conflict of law provisions."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"2. Arbitration"}),mt.jsx("p",{children:"Any dispute arising from these Terms or the Service shall be resolved through binding arbitration in accordance with the American Arbitration Association's rules, except that either party may seek injunctive relief in court."})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-white font-semibold mb-2",children:"3. Class Action Waiver"}),mt.jsx("p",{children:"You agree to resolve disputes with us on an individual basis and waive your right to participate in class actions or class arbitrations."})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Changes to Terms"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{children:'We reserve the right to modify these Terms at any time. We will notify you of any material changes by posting the new Terms on this page and updating the "Last Updated" date.'}),mt.jsx("p",{children:"Your continued use of the Service after any changes to these Terms constitutes your acceptance of the new Terms. If you do not agree to the modified Terms, you must stop using the Service."})]})]}),mt.jsxs(cc,{className:"bg-slate-800/50 border-slate-700",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Termination"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{children:"We may terminate or suspend your account and access to the Service immediately, without prior notice or liability, for any reason, including if you breach these Terms."}),mt.jsx("p",{children:"Upon termination, your right to use the Service will immediately cease. All provisions of these Terms that by their nature should survive termination shall survive, including ownership provisions, warranty disclaimers, indemnity, and limitations of liability."})]})]}),mt.jsxs(cc,{className:"bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-blue-500/50",children:[mt.jsx(dc,{children:mt.jsx(uc,{className:"text-white text-2xl",children:"Contact Us"})}),mt.jsxs(mc,{className:"text-slate-300 space-y-4",children:[mt.jsx("p",{children:"If you have any questions about these Terms of Service, please contact us:"}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsxs("p",{children:[mt.jsx("strong",{className:"text-white",children:"Email:"})," legal@brainlinktracker.com"]}),mt.jsxs("p",{children:[mt.jsx("strong",{className:"text-white",children:"Address:"})," Brain Link Tracker HQ, 123 Analytics Ave, Suite 400, Data City, CA 90210"]}),mt.jsxs("p",{children:[mt.jsx("strong",{className:"text-white",children:"Phone:"})," +1 (234) 567-890"]})]}),mt.jsx("div",{className:"pt-4",children:mt.jsx(oc,{onClick:()=>e("/contact"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white",children:"Contact Support"})})]})]}),mt.jsx(cc,{className:"bg-slate-800/50 border-slate-700",children:mt.jsxs(mc,{className:"text-slate-300 space-y-4 pt-6",children:[mt.jsx("p",{className:"text-center text-sm",children:"By using Brain Link Tracker, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."}),mt.jsxs("p",{className:"text-center text-slate-500 text-xs",children:[" ",(new Date).getFullYear()," Brain Link Tracker. All rights reserved."]})]})})]})}),mt.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 py-8 px-4 sm:px-6 lg:px-8 mt-12",children:mt.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[mt.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[mt.jsx(hm,{size:"sm"}),mt.jsx("span",{className:"text-lg font-bold text-white",children:"Brain Link Tracker"})]}),mt.jsxs("p",{className:"text-slate-400 text-sm",children:[" ",(new Date).getFullYear()," Brain Link Tracker. All rights reserved."]})]})})]})},fj=()=>{const[e,t]=s.useState([]),[n,r]=s.useState([]),[a,i]=s.useState(!0),[o,l]=s.useState(null),[c,d]=s.useState(""),[u,h]=s.useState("all"),[m,p]=s.useState(!1),[x,f]=s.useState(!1),[g,v]=s.useState({original_url:"",campaign_name:"",title:"",description:""});s.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0),l(null);const[e,s]=await Promise.all([fetch("/api/links"),fetch("/api/campaigns")]);if(!e.ok)throw new Error("Failed to fetch links");const n=await e.json();if(t(Array.isArray(n)?n:n.links||[]),s.ok){const e=await s.json();r(Array.isArray(e)?e:e.campaigns||[])}}catch(e){l("Failed to load data")}finally{i(!1)}},b=e.filter(e=>{var t,s;const n=(null==(t=e.title)?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null==(s=e.original_url)?void 0:s.toLowerCase().includes(c.toLowerCase())),r="all"===u||e.campaign_name===u;return n&&r}),j=e.reduce((e,t)=>e+(t.clicks||0),0),w=e.reduce((e,t)=>e+(t.real_visitors||0),0),N=e.reduce((e,t)=>e+(t.bots_blocked||0),0);return a?mt.jsx("div",{className:"p-4 sm:p-6 space-y-6 bg-slate-900 min-h-screen flex items-center justify-center",children:mt.jsx(Ce,{className:"h-12 w-12 animate-spin text-blue-500"})}):mt.jsxs("div",{className:"p-4 sm:p-6 space-y-6 bg-slate-900 min-h-screen",children:[mt.jsxs("div",{className:"mb-8",children:[mt.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Tracking Links"}),mt.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"Create and manage your tracking links"})]}),mt.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsxs(mc,{className:"pt-6 flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400 text-sm",children:"TOTAL CLICKS"}),mt.jsx("p",{className:"text-3xl font-bold text-blue-400 mt-1",children:j})]}),mt.jsx($,{className:"h-8 w-8 text-blue-500/50"})]})}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsxs(mc,{className:"pt-6 flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400 text-sm",children:"REAL VISITORS"}),mt.jsx("p",{className:"text-3xl font-bold text-green-400 mt-1",children:w})]}),mt.jsx(ue,{className:"h-8 w-8 text-green-500/50"})]})}),mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsxs(mc,{className:"pt-6 flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx("p",{className:"text-slate-400 text-sm",children:"BOTS BLOCKED"}),mt.jsx("p",{className:"text-3xl font-bold text-red-400 mt-1",children:N})]}),mt.jsx(Y,{className:"h-8 w-8 text-red-500/50"})]})})]}),o&&mt.jsxs(Hh,{className:"bg-red-900/20 border-red-700",children:[mt.jsx(je,{className:"h-4 w-4 text-red-500"}),mt.jsx(qh,{className:"text-red-400",children:o})]}),mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[mt.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[mt.jsx(ne,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),mt.jsx(ou,{placeholder:"Search links...",value:c,onChange:e=>d(e.target.value),className:"pl-10 bg-slate-800 border-slate-700 text-white placeholder-slate-500 w-full"})]}),mt.jsxs(Md,{value:u,onValueChange:h,children:[mt.jsx(Ld,{className:"w-full sm:w-[180px] bg-slate-800 border-slate-700 text-white",children:mt.jsx(Dd,{placeholder:"All Campaigns"})}),mt.jsxs(Id,{className:"bg-slate-800 border-slate-700 text-white",children:[mt.jsx(Od,{value:"all",children:"All Campaigns"}),n.map(e=>mt.jsx(Od,{value:e.name,children:e.name},e.id))]})]})]}),mt.jsxs(nh,{open:m,onOpenChange:p,children:[mt.jsx(rh,{asChild:!0,children:mt.jsxs(oc,{className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700",children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create Link"]})}),mt.jsxs(oh,{className:"bg-slate-800 border-slate-700 w-[95vw] sm:w-full",children:[mt.jsx(lh,{children:mt.jsx(dh,{className:"text-white",children:"Create Tracking Link"})}),mt.jsxs("div",{className:"space-y-4 py-4",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-white",children:"Original URL *"}),mt.jsx(ou,{placeholder:"https://example.com",value:g.original_url,onChange:e=>v(t=>({...t,original_url:e.target.value})),className:"bg-slate-700 border-slate-600 text-white placeholder-slate-500"})]}),mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-white",children:"Campaign Name"}),mt.jsx(ou,{placeholder:"My Campaign",value:g.campaign_name,onChange:e=>v(t=>({...t,campaign_name:e.target.value})),className:"bg-slate-700 border-slate-600 text-white placeholder-slate-500"})]}),mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-white",children:"Title"}),mt.jsx(ou,{placeholder:"Link Title",value:g.title,onChange:e=>v(t=>({...t,title:e.target.value})),className:"bg-slate-700 border-slate-600 text-white placeholder-slate-500"})]}),mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-white",children:"Description"}),mt.jsx(ou,{placeholder:"Link description",value:g.description,onChange:e=>v(t=>({...t,description:e.target.value})),className:"bg-slate-700 border-slate-600 text-white placeholder-slate-500"})]})]}),mt.jsxs(ch,{children:[mt.jsx(oc,{variant:"outline",onClick:()=>p(!1),className:"bg-slate-700 border-slate-600 text-white",children:"Cancel"}),mt.jsx(oc,{onClick:async()=>{if(g.original_url)try{f(!0);if(!(await fetch("/api/links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok)throw new Error("Failed to create link");em.success("Tracking link created successfully"),v({original_url:"",campaign_name:"",title:"",description:""}),p(!1),y()}catch(e){em.error("Failed to create tracking link")}finally{f(!1)}else em.error("Please enter a URL")},disabled:x,className:"bg-blue-600 hover:bg-blue-700",children:x?mt.jsxs(mt.Fragment,{children:[mt.jsx(Ce,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Link"})]})]})]})]}),mt.jsx("div",{className:"space-y-4",children:b.length>0?b.map(e=>mt.jsx(cc,{className:"bg-slate-800 border-slate-700 hover:border-slate-600 transition-colors",children:mt.jsx(mc,{className:"p-4 sm:p-6",children:mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[mt.jsxs("div",{className:"flex-grow space-y-3",children:[mt.jsxs("div",{className:"flex items-start justify-between",children:[mt.jsxs("div",{className:"flex-1 min-w-0",children:[mt.jsx("h3",{className:"text-lg font-semibold text-white truncate",children:e.title||"Untitled"}),mt.jsx("p",{className:"text-sm text-slate-400 truncate",children:e.original_url})]}),mt.jsx(Ud,{className:"ml-3 flex-shrink-0 "+("active"===e.status?"bg-green-600 text-white":"bg-slate-600 text-slate-300"),children:e.status})]}),mt.jsxs("div",{children:[mt.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Short Link"}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsx("code",{className:"flex-1 bg-slate-700 p-2 rounded text-xs text-slate-300 truncate",children:e.short_link||"N/A"}),mt.jsx(oc,{size:"icon",variant:"outline",onClick:()=>{return t=e.short_link,navigator.clipboard.writeText(t),void em.success("Link copied to clipboard");var t},className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:mt.jsx(we,{className:"h-4 w-4"})})]})]}),mt.jsxs("div",{className:"flex gap-2 pt-3 border-t border-slate-700",children:[mt.jsxs(oc,{size:"sm",variant:"outline",className:"flex-1 sm:flex-none bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[mt.jsx($,{className:"h-4 w-4 mr-2"}),"Analytics"]}),mt.jsxs(oc,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this link?"))try{if(!(await fetch(`/api/links/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete link");em.success("Link deleted successfully"),y()}catch(t){em.error("Failed to delete link")}})(e.id),className:"flex-1 sm:flex-none bg-red-900/20 border-red-700 text-red-400 hover:bg-red-900/40",children:[mt.jsx(ye,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]}),mt.jsxs("div",{className:"flex-shrink-0 w-full sm:w-48 bg-slate-800/50 rounded-lg p-4 space-y-3",children:[mt.jsxs("div",{className:"text-center",children:[mt.jsx("p",{className:"text-slate-400 text-sm",children:"CLICKS"}),mt.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.clicks||0})]}),mt.jsxs("div",{className:"text-center",children:[mt.jsx("p",{className:"text-slate-400 text-sm",children:"VISITORS"}),mt.jsx("p",{className:"text-2xl font-bold text-green-400",children:e.real_visitors||0})]}),mt.jsxs("div",{className:"text-center",children:[mt.jsx("p",{className:"text-slate-400 text-sm",children:"BOTS BLOCKED"}),mt.jsx("p",{className:"text-2xl font-bold text-red-400",children:e.bots_blocked||0})]})]})]})})},e.id)):mt.jsx(cc,{className:"bg-slate-800 border-slate-700",children:mt.jsx(mc,{className:"p-8 text-center",children:mt.jsx("p",{className:"text-slate-400",children:"No tracking links found for the selected criteria."})})})})]})};function gj(){const[e,t]=s.useState({emailNotifications:!1,smsNotifications:!1,pushNotifications:!1}),[n,r]=s.useState(!0),[a,i]=s.useState(null);s.useEffect(()=>{o()},[]);const o=async()=>{try{const e=await fetch("/api/user/notification-settings");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const s=await e.json();t(s)}catch(zT){i(zT.message||"Failed to fetch notification settings."),em.error("Failed to load notification settings.")}finally{r(!1)}},l=async s=>{const n=!e[s];t(e=>({...e,[s]:n}));try{const e=await fetch("/api/user/notification-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({[s]:n})});if(!e.ok){const t=await e.json();throw new Error(t.message||`HTTP error! status: ${e.status}`)}em.success("Notification setting updated successfully!")}catch(zT){i(zT.message||"Failed to update notification setting."),em.error("Failed to update notification setting."),t(e=>({...e,[s]:!n}))}};return n?mt.jsxs(cc,{className:"w-full max-w-md mx-auto",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{children:"Notification Settings"}),mt.jsx(hc,{children:"Manage your notification preferences."})]}),mt.jsx(mc,{children:mt.jsx("p",{children:"Loading settings..."})})]}):a?mt.jsxs(cc,{className:"w-full max-w-md mx-auto",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{children:"Notification Settings"}),mt.jsx(hc,{children:"Manage your notification preferences."})]}),mt.jsxs(mc,{children:[mt.jsxs("p",{className:"text-red-500",children:["Error: ",a]}),mt.jsx(oc,{onClick:o,className:"mt-4",children:"Retry"})]})]}):mt.jsxs(cc,{className:"w-full max-w-md mx-auto",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{children:"Notification Settings"}),mt.jsx(hc,{children:"Manage your notification preferences."})]}),mt.jsxs(mc,{className:"space-y-6",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs(uu,{htmlFor:"email-notifications",className:"flex flex-col space-y-1",children:[mt.jsx("span",{children:"Email Notifications"}),mt.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Receive notifications via email."})]}),mt.jsx(kh,{id:"email-notifications",checked:e.emailNotifications,onCheckedChange:()=>l("emailNotifications")})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs(uu,{htmlFor:"sms-notifications",className:"flex flex-col space-y-1",children:[mt.jsx("span",{children:"SMS Notifications"}),mt.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Receive notifications via SMS."})]}),mt.jsx(kh,{id:"sms-notifications",checked:e.smsNotifications,onCheckedChange:()=>l("smsNotifications")})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs(uu,{htmlFor:"push-notifications",className:"flex flex-col space-y-1",children:[mt.jsx("span",{children:"Push Notifications"}),mt.jsx("span",{className:"font-normal leading-snug text-muted-foreground",children:"Receive notifications via push messages."})]}),mt.jsx(kh,{id:"push-notifications",checked:e.pushNotifications,onCheckedChange:()=>l("pushNotifications")})]})]})]})}var vj=1e-6,yj=1e-12,bj=Math.PI,jj=bj/2,wj=bj/4,Nj=2*bj,kj=180/bj,Sj=bj/180,Cj=Math.abs,Ej=Math.atan,_j=Math.atan2,Tj=Math.cos,Pj=Math.ceil,Aj=Math.exp,Rj=Math.hypot,Mj=Math.log,Dj=Math.pow,Lj=Math.sin,Ij=Math.sign||function(e){return e>0?1:e<0?-1:0},Oj=Math.sqrt,Fj=Math.tan;function zj(e){return e>1?0:e<-1?bj:Math.acos(e)}function Vj(e){return e>1?jj:e<-1?-jj:Math.asin(e)}function Bj(e){return(e=Lj(e/2))*e}function Uj(){}function $j(e,t){e&&Yj.hasOwnProperty(e.type)&&Yj[e.type](e,t)}var Wj={Feature:function(e,t){$j(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,n=-1,r=s.length;++n<r;)$j(s[n].geometry,t)}},Yj={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var s=e.coordinates,n=-1,r=s.length;++n<r;)e=s[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){Kj(e.coordinates,t,0)},MultiLineString:function(e,t){for(var s=e.coordinates,n=-1,r=s.length;++n<r;)Kj(s[n],t,0)},Polygon:function(e,t){Gj(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,n=-1,r=s.length;++n<r;)Gj(s[n],t)},GeometryCollection:function(e,t){for(var s=e.geometries,n=-1,r=s.length;++n<r;)$j(s[n],t)}};function Kj(e,t,s){var n,r=-1,a=e.length-s;for(t.lineStart();++r<a;)n=e[r],t.point(n[0],n[1],n[2]);t.lineEnd()}function Gj(e,t){var s=-1,n=e.length;for(t.polygonStart();++s<n;)Kj(e[s],t,1);t.polygonEnd()}function Hj(e,t){e&&Wj.hasOwnProperty(e.type)?Wj[e.type](e,t):$j(e,t)}var qj,Xj,Zj,Jj,Qj,ew,tw,sw,nw,rw,aw,iw,ow,lw,cw,dw,uw=new _,hw=new _,mw={point:Uj,lineStart:Uj,lineEnd:Uj,polygonStart:function(){uw=new _,mw.lineStart=pw,mw.lineEnd=xw},polygonEnd:function(){var e=+uw;hw.add(e<0?Nj+e:e),this.lineStart=this.lineEnd=this.point=Uj},sphere:function(){hw.add(Nj)}};function pw(){mw.point=fw}function xw(){gw(qj,Xj)}function fw(e,t){mw.point=gw,qj=e,Xj=t,Zj=e*=Sj,Jj=Tj(t=(t*=Sj)/2+wj),Qj=Lj(t)}function gw(e,t){var s=(e*=Sj)-Zj,n=s>=0?1:-1,r=n*s,a=Tj(t=(t*=Sj)/2+wj),i=Lj(t),o=Qj*i,l=Jj*a+o*Tj(r),c=o*n*Lj(r);uw.add(_j(c,l)),Zj=e,Jj=a,Qj=i}function vw(e){return[_j(e[1],e[0]),Vj(e[2])]}function yw(e){var t=e[0],s=e[1],n=Tj(s);return[n*Tj(t),n*Lj(t),Lj(s)]}function bw(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function jw(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ww(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Nw(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function kw(e){var t=Oj(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Sw,Cw,Ew,_w,Tw,Pw,Aw,Rw,Mw,Dw,Lw,Iw,Ow,Fw,zw,Vw,Bw={point:Uw,lineStart:Ww,lineEnd:Yw,polygonStart:function(){Bw.point=Kw,Bw.lineStart=Gw,Bw.lineEnd=Hw,lw=new _,mw.polygonStart()},polygonEnd:function(){mw.polygonEnd(),Bw.point=Uw,Bw.lineStart=Ww,Bw.lineEnd=Yw,uw<0?(ew=-(sw=180),tw=-(nw=90)):lw>vj?nw=90:lw<-vj&&(tw=-90),dw[0]=ew,dw[1]=sw},sphere:function(){ew=-(sw=180),tw=-(nw=90)}};function Uw(e,t){cw.push(dw=[ew=e,sw=e]),t<tw&&(tw=t),t>nw&&(nw=t)}function $w(e,t){var s=yw([e*Sj,t*Sj]);if(ow){var n=jw(ow,s),r=jw([n[1],-n[0],0],n);kw(r),r=vw(r);var a,i=e-rw,o=i>0?1:-1,l=r[0]*kj*o,c=Cj(i)>180;c^(o*rw<l&&l<o*e)?(a=r[1]*kj)>nw&&(nw=a):c^(o*rw<(l=(l+360)%360-180)&&l<o*e)?(a=-r[1]*kj)<tw&&(tw=a):(t<tw&&(tw=t),t>nw&&(nw=t)),c?e<rw?qw(ew,e)>qw(ew,sw)&&(sw=e):qw(e,sw)>qw(ew,sw)&&(ew=e):sw>=ew?(e<ew&&(ew=e),e>sw&&(sw=e)):e>rw?qw(ew,e)>qw(ew,sw)&&(sw=e):qw(e,sw)>qw(ew,sw)&&(ew=e)}else cw.push(dw=[ew=e,sw=e]);t<tw&&(tw=t),t>nw&&(nw=t),ow=s,rw=e}function Ww(){Bw.point=$w}function Yw(){dw[0]=ew,dw[1]=sw,Bw.point=Uw,ow=null}function Kw(e,t){if(ow){var s=e-rw;lw.add(Cj(s)>180?s+(s>0?360:-360):s)}else aw=e,iw=t;mw.point(e,t),$w(e,t)}function Gw(){mw.lineStart()}function Hw(){Kw(aw,iw),mw.lineEnd(),Cj(lw)>vj&&(ew=-(sw=180)),dw[0]=ew,dw[1]=sw,ow=null}function qw(e,t){return(t-=e)<0?t+360:t}function Xw(e,t){return e[0]-t[0]}function Zw(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Jw={sphere:Uj,point:Qw,lineStart:tN,lineEnd:rN,polygonStart:function(){Jw.lineStart=aN,Jw.lineEnd=iN},polygonEnd:function(){Jw.lineStart=tN,Jw.lineEnd=rN}};function Qw(e,t){e*=Sj;var s=Tj(t*=Sj);eN(s*Tj(e),s*Lj(e),Lj(t))}function eN(e,t,s){++Sw,Ew+=(e-Ew)/Sw,_w+=(t-_w)/Sw,Tw+=(s-Tw)/Sw}function tN(){Jw.point=sN}function sN(e,t){e*=Sj;var s=Tj(t*=Sj);Fw=s*Tj(e),zw=s*Lj(e),Vw=Lj(t),Jw.point=nN,eN(Fw,zw,Vw)}function nN(e,t){e*=Sj;var s=Tj(t*=Sj),n=s*Tj(e),r=s*Lj(e),a=Lj(t),i=_j(Oj((i=zw*a-Vw*r)*i+(i=Vw*n-Fw*a)*i+(i=Fw*r-zw*n)*i),Fw*n+zw*r+Vw*a);Cw+=i,Pw+=i*(Fw+(Fw=n)),Aw+=i*(zw+(zw=r)),Rw+=i*(Vw+(Vw=a)),eN(Fw,zw,Vw)}function rN(){Jw.point=Qw}function aN(){Jw.point=oN}function iN(){lN(Iw,Ow),Jw.point=Qw}function oN(e,t){Iw=e,Ow=t,e*=Sj,t*=Sj,Jw.point=lN;var s=Tj(t);Fw=s*Tj(e),zw=s*Lj(e),Vw=Lj(t),eN(Fw,zw,Vw)}function lN(e,t){e*=Sj;var s=Tj(t*=Sj),n=s*Tj(e),r=s*Lj(e),a=Lj(t),i=zw*a-Vw*r,o=Vw*n-Fw*a,l=Fw*r-zw*n,c=Rj(i,o,l),d=Vj(c),u=c&&-d/c;Mw.add(u*i),Dw.add(u*o),Lw.add(u*l),Cw+=d,Pw+=d*(Fw+(Fw=n)),Aw+=d*(zw+(zw=r)),Rw+=d*(Vw+(Vw=a)),eN(Fw,zw,Vw)}function cN(e){return function(){return e}}function dN(e,t){function s(s,n){return s=e(s,n),t(s[0],s[1])}return e.invert&&t.invert&&(s.invert=function(s,n){return(s=t.invert(s,n))&&e.invert(s[0],s[1])}),s}function uN(e,t){return[Cj(e)>bj?e+Math.round(-e/Nj)*Nj:e,t]}function hN(e,t,s){return(e%=Nj)?t||s?dN(pN(e),xN(t,s)):pN(e):t||s?xN(t,s):uN}function mN(e){return function(t,s){return[(t+=e)>bj?t-Nj:t<-bj?t+Nj:t,s]}}function pN(e){var t=mN(e);return t.invert=mN(-e),t}function xN(e,t){var s=Tj(e),n=Lj(e),r=Tj(t),a=Lj(t);function i(e,t){var i=Tj(t),o=Tj(e)*i,l=Lj(e)*i,c=Lj(t),d=c*s+o*n;return[_j(l*r-d*a,o*s-c*n),Vj(d*r+l*a)]}return i.invert=function(e,t){var i=Tj(t),o=Tj(e)*i,l=Lj(e)*i,c=Lj(t),d=c*r-l*a;return[_j(l*r+c*a,o*s+d*n),Vj(d*s-o*n)]},i}function fN(e){function t(t){return(t=e(t[0]*Sj,t[1]*Sj))[0]*=kj,t[1]*=kj,t}return e=hN(e[0]*Sj,e[1]*Sj,e.length>2?e[2]*Sj:0),t.invert=function(t){return(t=e.invert(t[0]*Sj,t[1]*Sj))[0]*=kj,t[1]*=kj,t},t}function gN(e,t,s,n,r,a){if(s){var i=Tj(t),o=Lj(t),l=n*s;null==r?(r=t+n*Nj,a=t-l/2):(r=vN(i,r),a=vN(i,a),(n>0?r<a:r>a)&&(r+=n*Nj));for(var c,d=r;n>0?d>a:d<a;d-=l)c=vw([i,-o*Tj(d),-o*Lj(d)]),e.point(c[0],c[1])}}function vN(e,t){(t=yw(t))[0]-=e,kw(t);var s=zj(-t[1]);return((-t[2]<0?-s:s)+Nj-vj)%Nj}function yN(){var e,t=[];return{point:function(t,s,n){e.push([t,s,n])},lineStart:function(){t.push(e=[])},lineEnd:Uj,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var s=t;return t=[],e=null,s}}}function bN(e,t){return Cj(e[0]-t[0])<vj&&Cj(e[1]-t[1])<vj}function jN(e,t,s,n){this.x=e,this.z=t,this.o=s,this.e=n,this.v=!1,this.n=this.p=null}function wN(e,t,s,n,r){var a,i,o=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,s,n=e[0],i=e[t];if(bN(n,i)){if(!n[2]&&!i[2]){for(r.lineStart(),a=0;a<t;++a)r.point((n=e[a])[0],n[1]);return void r.lineEnd()}i[0]+=2e-6}o.push(s=new jN(n,e,null,!0)),l.push(s.o=new jN(n,null,s,!1)),o.push(s=new jN(i,e,null,!1)),l.push(s.o=new jN(i,null,s,!0))}}),o.length){for(l.sort(t),NN(o),NN(l),a=0,i=l.length;a<i;++a)l[a].e=s=!s;for(var c,d,u=o[0];;){for(var h=u,m=!0;h.v;)if((h=h.n)===u)return;c=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(m)for(a=0,i=c.length;a<i;++a)r.point((d=c[a])[0],d[1]);else n(h.x,h.n.x,1,r);h=h.n}else{if(m)for(c=h.p.z,a=c.length-1;a>=0;--a)r.point((d=c[a])[0],d[1]);else n(h.x,h.p.x,-1,r);h=h.p}c=(h=h.o).z,m=!m}while(!h.v);r.lineEnd()}}}function NN(e){if(t=e.length){for(var t,s,n=0,r=e[0];++n<t;)r.n=s=e[n],s.p=r,r=s;r.n=s=e[0],s.p=r}}function kN(e){return Cj(e[0])<=bj?e[0]:Ij(e[0])*((Cj(e[0])+bj)%Nj-bj)}function SN(e,t){var s=kN(t),n=t[1],r=Lj(n),a=[Lj(s),-Tj(s),0],i=0,o=0,l=new _;1===r?n=jj+vj:-1===r&&(n=-jj-vj);for(var c=0,d=e.length;c<d;++c)if(h=(u=e[c]).length)for(var u,h,m=u[h-1],p=kN(m),x=m[1]/2+wj,f=Lj(x),g=Tj(x),v=0;v<h;++v,p=b,f=w,g=N,m=y){var y=u[v],b=kN(y),j=y[1]/2+wj,w=Lj(j),N=Tj(j),k=b-p,S=k>=0?1:-1,C=S*k,E=C>bj,T=f*w;if(l.add(_j(T*S*Lj(C),g*N+T*Tj(C))),i+=E?k+S*Nj:k,E^p>=s^b>=s){var P=jw(yw(m),yw(y));kw(P);var A=jw(a,P);kw(A);var R=(E^k>=0?-1:1)*Vj(A[2]);(n>R||n===R&&(P[0]||P[1]))&&(o+=E^k>=0?1:-1)}}return(i<-vj||i<vj&&l<-1e-12)^1&o}function CN(e,t,s,n){return function(r){var a,i,o,l=t(r),c=yN(),d=t(c),u=!1,h={point:m,lineStart:x,lineEnd:f,polygonStart:function(){h.point=g,h.lineStart=v,h.lineEnd=y,i=[],a=[]},polygonEnd:function(){h.point=m,h.lineStart=x,h.lineEnd=f,i=T(i);var e=SN(a,n);i.length?(u||(r.polygonStart(),u=!0),wN(i,_N,e,s,r)):e&&(u||(r.polygonStart(),u=!0),r.lineStart(),s(null,null,1,r),r.lineEnd()),u&&(r.polygonEnd(),u=!1),i=a=null},sphere:function(){r.polygonStart(),r.lineStart(),s(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function m(t,s){e(t,s)&&r.point(t,s)}function p(e,t){l.point(e,t)}function x(){h.point=p,l.lineStart()}function f(){h.point=m,l.lineEnd()}function g(e,t){o.push([e,t]),d.point(e,t)}function v(){d.lineStart(),o=[]}function y(){g(o[0][0],o[0][1]),d.lineEnd();var e,t,s,n,l=d.clean(),h=c.result(),m=h.length;if(o.pop(),a.push(o),o=null,m)if(1&l){if((t=(s=h[0]).length-1)>0){for(u||(r.polygonStart(),u=!0),r.lineStart(),e=0;e<t;++e)r.point((n=s[e])[0],n[1]);r.lineEnd()}}else m>1&&2&l&&h.push(h.pop().concat(h.shift())),i.push(h.filter(EN))}return h}}function EN(e){return e.length>1}function _N(e,t){return((e=e.x)[0]<0?e[1]-jj-vj:jj-e[1])-((t=t.x)[0]<0?t[1]-jj-vj:jj-t[1])}uN.invert=uN;const TN=CN(function(){return!0},function(e){var t,s=NaN,n=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,i){var o=a>0?bj:-bj,l=Cj(a-s);Cj(l-bj)<vj?(e.point(s,n=(n+i)/2>0?jj:-jj),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),t=0):r!==o&&l>=bj&&(Cj(s-r)<vj&&(s-=r*vj),Cj(a-o)<vj&&(a-=o*vj),n=function(e,t,s,n){var r,a,i=Lj(e-s);return Cj(i)>vj?Ej((Lj(t)*(a=Tj(n))*Lj(s)-Lj(n)*(r=Tj(t))*Lj(e))/(r*a*i)):(t+n)/2}(s,n,a,i),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),t=0),e.point(s=a,n=i),r=o},lineEnd:function(){e.lineEnd(),s=n=NaN},clean:function(){return 2-t}}},function(e,t,s,n){var r;if(null==e)r=s*jj,n.point(-bj,r),n.point(0,r),n.point(bj,r),n.point(bj,0),n.point(bj,-r),n.point(0,-r),n.point(-bj,-r),n.point(-bj,0),n.point(-bj,r);else if(Cj(e[0]-t[0])>vj){var a=e[0]<t[0]?bj:-bj;r=s*a/2,n.point(-a,r),n.point(0,r),n.point(a,r)}else n.point(t[0],t[1])},[-bj,-jj]);function PN(e){var t=Tj(e),s=6*Sj,n=t>0,r=Cj(t)>vj;function a(e,s){return Tj(e)*Tj(s)>t}function i(e,s,n){var r=[1,0,0],a=jw(yw(e),yw(s)),i=bw(a,a),o=a[0],l=i-o*o;if(!l)return!n&&e;var c=t*i/l,d=-t*o/l,u=jw(r,a),h=Nw(r,c);ww(h,Nw(a,d));var m=u,p=bw(h,m),x=bw(m,m),f=p*p-x*(bw(h,h)-1);if(!(f<0)){var g=Oj(f),v=Nw(m,(-p-g)/x);if(ww(v,h),v=vw(v),!n)return v;var y,b=e[0],j=s[0],w=e[1],N=s[1];j<b&&(y=b,b=j,j=y);var k=j-b,S=Cj(k-bj)<vj;if(!S&&N<w&&(y=w,w=N,N=y),S||k<vj?S?w+N>0^v[1]<(Cj(v[0]-b)<vj?w:N):w<=v[1]&&v[1]<=N:k>bj^(b<=v[0]&&v[0]<=j)){var C=Nw(m,(-p+g)/x);return ww(C,h),[v,vw(C)]}}}function o(t,s){var r=n?e:bj-e,a=0;return t<-r?a|=1:t>r&&(a|=2),s<-r?a|=4:s>r&&(a|=8),a}return CN(a,function(e){var t,s,l,c,d;return{lineStart:function(){c=l=!1,d=1},point:function(u,h){var m,p=[u,h],x=a(u,h),f=n?x?0:o(u,h):x?o(u+(u<0?bj:-bj),h):0;if(!t&&(c=l=x)&&e.lineStart(),x!==l&&(!(m=i(t,p))||bN(t,m)||bN(p,m))&&(p[2]=1),x!==l)d=0,x?(e.lineStart(),m=i(p,t),e.point(m[0],m[1])):(m=i(t,p),e.point(m[0],m[1],2),e.lineEnd()),t=m;else if(r&&t&&n^x){var g;f&s||!(g=i(p,t,!0))||(d=0,n?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!x||t&&bN(t,p)||e.point(p[0],p[1]),t=p,l=x,s=f},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return d|(c&&l)<<1}}},function(t,n,r,a){gN(a,e,s,r,t,n)},n?[0,-e]:[-bj,e-bj])}var AN,RN,MN,DN,LN=1e9,IN=-LN;function ON(e,t,s,n){function r(r,a){return e<=r&&r<=s&&t<=a&&a<=n}function a(r,a,o,c){var d=0,u=0;if(null==r||(d=i(r,o))!==(u=i(a,o))||l(r,a)<0^o>0)do{c.point(0===d||3===d?e:s,d>1?n:t)}while((d=(d+o+4)%4)!==u);else c.point(a[0],a[1])}function i(n,r){return Cj(n[0]-e)<vj?r>0?0:3:Cj(n[0]-s)<vj?r>0?2:1:Cj(n[1]-t)<vj?r>0?1:0:r>0?3:2}function o(e,t){return l(e.x,t.x)}function l(e,t){var s=i(e,1),n=i(t,1);return s!==n?s-n:0===s?t[1]-e[1]:1===s?e[0]-t[0]:2===s?e[1]-t[1]:t[0]-e[0]}return function(i){var l,c,d,u,h,m,p,x,f,g,v,y=i,b=yN(),j={point:w,lineStart:function(){j.point=N,c&&c.push(d=[]);g=!0,f=!1,p=x=NaN},lineEnd:function(){l&&(N(u,h),m&&f&&b.rejoin(),l.push(b.result()));j.point=w,f&&y.lineEnd()},polygonStart:function(){y=b,l=[],c=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,s=0,r=c.length;s<r;++s)for(var a,i,o=c[s],l=1,d=o.length,u=o[0],h=u[0],m=u[1];l<d;++l)a=h,i=m,h=(u=o[l])[0],m=u[1],i<=n?m>n&&(h-a)*(n-i)>(m-i)*(e-a)&&++t:m<=n&&(h-a)*(n-i)<(m-i)*(e-a)&&--t;return t}(),s=v&&t,r=(l=T(l)).length;(s||r)&&(i.polygonStart(),s&&(i.lineStart(),a(null,null,1,i),i.lineEnd()),r&&wN(l,o,t,a,i),i.polygonEnd());y=i,l=c=d=null}};function w(e,t){r(e,t)&&y.point(e,t)}function N(a,i){var o=r(a,i);if(c&&d.push([a,i]),g)u=a,h=i,m=o,g=!1,o&&(y.lineStart(),y.point(a,i));else if(o&&f)y.point(a,i);else{var l=[p=Math.max(IN,Math.min(LN,p)),x=Math.max(IN,Math.min(LN,x))],b=[a=Math.max(IN,Math.min(LN,a)),i=Math.max(IN,Math.min(LN,i))];!function(e,t,s,n,r,a){var i,o=e[0],l=e[1],c=0,d=1,u=t[0]-o,h=t[1]-l;if(i=s-o,u||!(i>0)){if(i/=u,u<0){if(i<c)return;i<d&&(d=i)}else if(u>0){if(i>d)return;i>c&&(c=i)}if(i=r-o,u||!(i<0)){if(i/=u,u<0){if(i>d)return;i>c&&(c=i)}else if(u>0){if(i<c)return;i<d&&(d=i)}if(i=n-l,h||!(i>0)){if(i/=h,h<0){if(i<c)return;i<d&&(d=i)}else if(h>0){if(i>d)return;i>c&&(c=i)}if(i=a-l,h||!(i<0)){if(i/=h,h<0){if(i>d)return;i>c&&(c=i)}else if(h>0){if(i<c)return;i<d&&(d=i)}return c>0&&(e[0]=o+c*u,e[1]=l+c*h),d<1&&(t[0]=o+d*u,t[1]=l+d*h),!0}}}}}(l,b,e,t,s,n)?o&&(y.lineStart(),y.point(a,i),v=!1):(f||(y.lineStart(),y.point(l[0],l[1])),y.point(b[0],b[1]),o||y.lineEnd(),v=!1)}p=a,x=i,f=o}return j}}var FN={sphere:Uj,point:Uj,lineStart:function(){FN.point=VN,FN.lineEnd=zN},lineEnd:Uj,polygonStart:Uj,polygonEnd:Uj};function zN(){FN.point=FN.lineEnd=Uj}function VN(e,t){RN=e*=Sj,MN=Lj(t*=Sj),DN=Tj(t),FN.point=BN}function BN(e,t){e*=Sj;var s=Lj(t*=Sj),n=Tj(t),r=Cj(e-RN),a=Tj(r),i=n*Lj(r),o=DN*s-MN*n*a,l=MN*s+DN*n*a;AN.add(_j(Oj(i*i+o*o),l)),RN=e,MN=s,DN=n}function UN(e){return AN=new _,Hj(e,FN),+AN}var $N=[null,null],WN={type:"LineString",coordinates:$N};function YN(e,t){return $N[0]=e,$N[1]=t,UN(WN)}var KN={Feature:function(e,t){return HN(e.geometry,t)},FeatureCollection:function(e,t){for(var s=e.features,n=-1,r=s.length;++n<r;)if(HN(s[n].geometry,t))return!0;return!1}},GN={Sphere:function(){return!0},Point:function(e,t){return qN(e.coordinates,t)},MultiPoint:function(e,t){for(var s=e.coordinates,n=-1,r=s.length;++n<r;)if(qN(s[n],t))return!0;return!1},LineString:function(e,t){return XN(e.coordinates,t)},MultiLineString:function(e,t){for(var s=e.coordinates,n=-1,r=s.length;++n<r;)if(XN(s[n],t))return!0;return!1},Polygon:function(e,t){return ZN(e.coordinates,t)},MultiPolygon:function(e,t){for(var s=e.coordinates,n=-1,r=s.length;++n<r;)if(ZN(s[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var s=e.geometries,n=-1,r=s.length;++n<r;)if(HN(s[n],t))return!0;return!1}};function HN(e,t){return!(!e||!GN.hasOwnProperty(e.type))&&GN[e.type](e,t)}function qN(e,t){return 0===YN(e,t)}function XN(e,t){for(var s,n,r,a=0,i=e.length;a<i;a++){if(0===(n=YN(e[a],t)))return!0;if(a>0&&(r=YN(e[a],e[a-1]))>0&&s<=r&&n<=r&&(s+n-r)*(1-Math.pow((s-n)/r,2))<yj*r)return!0;s=n}return!1}function ZN(e,t){return!!SN(e.map(JN),QN(t))}function JN(e){return(e=e.map(QN)).pop(),e}function QN(e){return[e[0]*Sj,e[1]*Sj]}function ek(e,t,s){var n=P(e,t-vj,s).concat(t);return function(e){return n.map(function(t){return[e,t]})}}function tk(e,t,s){var n=P(e,t-vj,s).concat(t);return function(e){return n.map(function(t){return[t,e]})}}function sk(){var e,t,s,n,r,a,i,o,l,c,d,u,h=10,m=h,p=90,x=360,f=2.5;function g(){return{type:"MultiLineString",coordinates:v()}}function v(){return P(Pj(n/p)*p,s,p).map(d).concat(P(Pj(o/x)*x,i,x).map(u)).concat(P(Pj(t/h)*h,e,h).filter(function(e){return Cj(e%p)>vj}).map(l)).concat(P(Pj(a/m)*m,r,m).filter(function(e){return Cj(e%x)>vj}).map(c))}return g.lines=function(){return v().map(function(e){return{type:"LineString",coordinates:e}})},g.outline=function(){return{type:"Polygon",coordinates:[d(n).concat(u(i).slice(1),d(s).reverse().slice(1),u(o).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(n=+e[0][0],s=+e[1][0],o=+e[0][1],i=+e[1][1],n>s&&(e=n,n=s,s=e),o>i&&(e=o,o=i,i=e),g.precision(f)):[[n,o],[s,i]]},g.extentMinor=function(s){return arguments.length?(t=+s[0][0],e=+s[1][0],a=+s[0][1],r=+s[1][1],t>e&&(s=t,t=e,e=s),a>r&&(s=a,a=r,r=s),g.precision(f)):[[t,a],[e,r]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],x=+e[1],g):[p,x]},g.stepMinor=function(e){return arguments.length?(h=+e[0],m=+e[1],g):[h,m]},g.precision=function(h){return arguments.length?(f=+h,l=ek(a,r,90),c=tk(t,e,f),d=ek(o,i,90),u=tk(n,s,f),g):f},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}const nk=e=>e;var rk,ak,ik,ok,lk=new _,ck=new _,dk={point:Uj,lineStart:Uj,lineEnd:Uj,polygonStart:function(){dk.lineStart=uk,dk.lineEnd=pk},polygonEnd:function(){dk.lineStart=dk.lineEnd=dk.point=Uj,lk.add(Cj(ck)),ck=new _},result:function(){var e=lk/2;return lk=new _,e}};function uk(){dk.point=hk}function hk(e,t){dk.point=mk,rk=ik=e,ak=ok=t}function mk(e,t){ck.add(ok*e-ik*t),ik=e,ok=t}function pk(){mk(rk,ak)}var xk=1/0,fk=xk,gk=-xk,vk=gk,yk={point:function(e,t){e<xk&&(xk=e);e>gk&&(gk=e);t<fk&&(fk=t);t>vk&&(vk=t)},lineStart:Uj,lineEnd:Uj,polygonStart:Uj,polygonEnd:Uj,result:function(){var e=[[xk,fk],[gk,vk]];return gk=vk=-(fk=xk=1/0),e}};var bk,jk,wk,Nk,kk=0,Sk=0,Ck=0,Ek=0,_k=0,Tk=0,Pk=0,Ak=0,Rk=0,Mk={point:Dk,lineStart:Lk,lineEnd:Fk,polygonStart:function(){Mk.lineStart=zk,Mk.lineEnd=Vk},polygonEnd:function(){Mk.point=Dk,Mk.lineStart=Lk,Mk.lineEnd=Fk},result:function(){var e=Rk?[Pk/Rk,Ak/Rk]:Tk?[Ek/Tk,_k/Tk]:Ck?[kk/Ck,Sk/Ck]:[NaN,NaN];return kk=Sk=Ck=Ek=_k=Tk=Pk=Ak=Rk=0,e}};function Dk(e,t){kk+=e,Sk+=t,++Ck}function Lk(){Mk.point=Ik}function Ik(e,t){Mk.point=Ok,Dk(wk=e,Nk=t)}function Ok(e,t){var s=e-wk,n=t-Nk,r=Oj(s*s+n*n);Ek+=r*(wk+e)/2,_k+=r*(Nk+t)/2,Tk+=r,Dk(wk=e,Nk=t)}function Fk(){Mk.point=Dk}function zk(){Mk.point=Bk}function Vk(){Uk(bk,jk)}function Bk(e,t){Mk.point=Uk,Dk(bk=wk=e,jk=Nk=t)}function Uk(e,t){var s=e-wk,n=t-Nk,r=Oj(s*s+n*n);Ek+=r*(wk+e)/2,_k+=r*(Nk+t)/2,Tk+=r,Pk+=(r=Nk*e-wk*t)*(wk+e),Ak+=r*(Nk+t),Rk+=3*r,Dk(wk=e,Nk=t)}function $k(e){this._context=e}$k.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Nj)}},result:Uj};var Wk,Yk,Kk,Gk,Hk,qk=new _,Xk={point:Uj,lineStart:function(){Xk.point=Zk},lineEnd:function(){Wk&&Jk(Yk,Kk),Xk.point=Uj},polygonStart:function(){Wk=!0},polygonEnd:function(){Wk=null},result:function(){var e=+qk;return qk=new _,e}};function Zk(e,t){Xk.point=Jk,Yk=Gk=e,Kk=Hk=t}function Jk(e,t){Gk-=e,Hk-=t,qk.add(Oj(Gk*Gk+Hk*Hk)),Gk=e,Hk=t}function Qk(){this._string=[]}function eS(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tS(e,t){var s,n,r=4.5;function a(e){return e&&("function"==typeof r&&n.pointRadius(+r.apply(this,arguments)),Hj(e,s(n))),n.result()}return a.area=function(e){return Hj(e,s(dk)),dk.result()},a.measure=function(e){return Hj(e,s(Xk)),Xk.result()},a.bounds=function(e){return Hj(e,s(yk)),yk.result()},a.centroid=function(e){return Hj(e,s(Mk)),Mk.result()},a.projection=function(t){return arguments.length?(s=null==t?(e=null,nk):(e=t).stream,a):e},a.context=function(e){return arguments.length?(n=null==e?(t=null,new Qk):new $k(t=e),"function"!=typeof r&&n.pointRadius(r),a):t},a.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(n.pointRadius(+e),+e),a):r},a.projection(e).context(t)}function sS(e){return function(t){var s=new nS;for(var n in e)s[n]=e[n];return s.stream=t,s}}function nS(){}function rS(e,t,s){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=n&&e.clipExtent(null),Hj(s,e.stream(yk)),t(yk.result()),null!=n&&e.clipExtent(n),e}function aS(e,t,s){return rS(e,function(s){var n=t[1][0]-t[0][0],r=t[1][1]-t[0][1],a=Math.min(n/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),i=+t[0][0]+(n-a*(s[1][0]+s[0][0]))/2,o=+t[0][1]+(r-a*(s[1][1]+s[0][1]))/2;e.scale(150*a).translate([i,o])},s)}function iS(e,t,s){return aS(e,[[0,0],t],s)}function oS(e,t,s){return rS(e,function(s){var n=+t,r=n/(s[1][0]-s[0][0]),a=(n-r*(s[1][0]+s[0][0]))/2,i=-r*s[0][1];e.scale(150*r).translate([a,i])},s)}function lS(e,t,s){return rS(e,function(s){var n=+t,r=n/(s[1][1]-s[0][1]),a=-r*s[0][0],i=(n-r*(s[1][1]+s[0][1]))/2;e.scale(150*r).translate([a,i])},s)}Qk.prototype={_radius:4.5,_circle:eS(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=eS(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},nS.prototype={constructor:nS,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var cS=Tj(30*Sj);function dS(e,t){return+t?function(e,t){function s(n,r,a,i,o,l,c,d,u,h,m,p,x,f){var g=c-n,v=d-r,y=g*g+v*v;if(y>4*t&&x--){var b=i+h,j=o+m,w=l+p,N=Oj(b*b+j*j+w*w),k=Vj(w/=N),S=Cj(Cj(w)-1)<vj||Cj(a-u)<vj?(a+u)/2:_j(j,b),C=e(S,k),E=C[0],_=C[1],T=E-n,P=_-r,A=v*T-g*P;(A*A/y>t||Cj((g*T+v*P)/y-.5)>.3||i*h+o*m+l*p<cS)&&(s(n,r,a,i,o,l,E,_,S,b/=N,j/=N,w,x,f),f.point(E,_),s(E,_,S,b,j,w,c,d,u,h,m,p,x,f))}}return function(t){var n,r,a,i,o,l,c,d,u,h,m,p,x={point:f,lineStart:g,lineEnd:y,polygonStart:function(){t.polygonStart(),x.lineStart=b},polygonEnd:function(){t.polygonEnd(),x.lineStart=g}};function f(s,n){s=e(s,n),t.point(s[0],s[1])}function g(){d=NaN,x.point=v,t.lineStart()}function v(n,r){var a=yw([n,r]),i=e(n,r);s(d,u,c,h,m,p,d=i[0],u=i[1],c=n,h=a[0],m=a[1],p=a[2],16,t),t.point(d,u)}function y(){x.point=f,t.lineEnd()}function b(){g(),x.point=j,x.lineEnd=w}function j(e,t){v(n=e,t),r=d,a=u,i=h,o=m,l=p,x.point=v}function w(){s(d,u,c,h,m,p,r,a,n,i,o,l,16,t),x.lineEnd=y,y()}return x}}(e,t):function(e){return sS({point:function(t,s){t=e(t,s),this.stream.point(t[0],t[1])}})}(e)}var uS=sS({point:function(e,t){this.stream.point(e*Sj,t*Sj)}});function hS(e,t,s,n,r,a){if(!a)return function(e,t,s,n,r){function a(a,i){return[t+e*(a*=n),s-e*(i*=r)]}return a.invert=function(a,i){return[(a-t)/e*n,(s-i)/e*r]},a}(e,t,s,n,r);var i=Tj(a),o=Lj(a),l=i*e,c=o*e,d=i/e,u=o/e,h=(o*s-i*t)/e,m=(o*t+i*s)/e;function p(e,a){return[l*(e*=n)-c*(a*=r)+t,s-c*e-l*a]}return p.invert=function(e,t){return[n*(d*e-u*t+h),r*(m-u*e-d*t)]},p}function mS(e){return pS(function(){return e})()}function pS(e){var t,s,n,r,a,i,o,l,c,d,u=150,h=480,m=250,p=0,x=0,f=0,g=0,v=0,y=0,b=1,j=1,w=null,N=TN,k=null,S=nk,C=.5;function E(e){return l(e[0]*Sj,e[1]*Sj)}function _(e){return(e=l.invert(e[0],e[1]))&&[e[0]*kj,e[1]*kj]}function T(){var e=hS(u,0,0,b,j,y).apply(null,t(p,x)),n=hS(u,h-e[0],m-e[1],b,j,y);return s=hN(f,g,v),o=dN(t,n),l=dN(s,o),i=dS(o,C),P()}function P(){return c=d=null,E}return E.stream=function(e){return c&&d===e?c:c=uS(function(e){return sS({point:function(t,s){var n=e(t,s);return this.stream.point(n[0],n[1])}})}(s)(N(i(S(d=e)))))},E.preclip=function(e){return arguments.length?(N=e,w=void 0,P()):N},E.postclip=function(e){return arguments.length?(S=e,k=n=r=a=null,P()):S},E.clipAngle=function(e){return arguments.length?(N=+e?PN(w=e*Sj):(w=null,TN),P()):w*kj},E.clipExtent=function(e){return arguments.length?(S=null==e?(k=n=r=a=null,nk):ON(k=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),P()):null==k?null:[[k,n],[r,a]]},E.scale=function(e){return arguments.length?(u=+e,T()):u},E.translate=function(e){return arguments.length?(h=+e[0],m=+e[1],T()):[h,m]},E.center=function(e){return arguments.length?(p=e[0]%360*Sj,x=e[1]%360*Sj,T()):[p*kj,x*kj]},E.rotate=function(e){return arguments.length?(f=e[0]%360*Sj,g=e[1]%360*Sj,v=e.length>2?e[2]%360*Sj:0,T()):[f*kj,g*kj,v*kj]},E.angle=function(e){return arguments.length?(y=e%360*Sj,T()):y*kj},E.reflectX=function(e){return arguments.length?(b=e?-1:1,T()):b<0},E.reflectY=function(e){return arguments.length?(j=e?-1:1,T()):j<0},E.precision=function(e){return arguments.length?(i=dS(o,C=e*e),P()):Oj(C)},E.fitExtent=function(e,t){return aS(E,e,t)},E.fitSize=function(e,t){return iS(E,e,t)},E.fitWidth=function(e,t){return oS(E,e,t)},E.fitHeight=function(e,t){return lS(E,e,t)},function(){return t=e.apply(this,arguments),E.invert=t.invert&&_,T()}}function xS(e){var t=0,s=bj/3,n=pS(e),r=n(t,s);return r.parallels=function(e){return arguments.length?n(t=e[0]*Sj,s=e[1]*Sj):[t*kj,s*kj]},r}function fS(e,t){var s=Lj(e),n=(s+Lj(t))/2;if(Cj(n)<vj)return function(e){var t=Tj(e);function s(e,s){return[e*t,Lj(s)/t]}return s.invert=function(e,s){return[e/t,Vj(s*t)]},s}(e);var r=1+s*(2*n-s),a=Oj(r)/n;function i(e,t){var s=Oj(r-2*n*Lj(t))/n;return[s*Lj(e*=n),a-s*Tj(e)]}return i.invert=function(e,t){var s=a-t,i=_j(e,Cj(s))*Ij(s);return s*n<0&&(i-=bj*Ij(e)*Ij(s)),[i/n,Vj((r-(e*e+s*s)*n*n)/(2*n))]},i}function gS(){return xS(fS).scale(155.424).center([0,33.6442])}function vS(){return gS().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function yS(e){return function(t,s){var n=Tj(t),r=Tj(s),a=e(n*r);return a===1/0?[2,0]:[a*r*Lj(t),a*Lj(s)]}}function bS(e){return function(t,s){var n=Oj(t*t+s*s),r=e(n),a=Lj(r),i=Tj(r);return[_j(t*a,n*i),Vj(n&&s*a/n)]}}var jS=yS(function(e){return Oj(2/(1+e))});jS.invert=bS(function(e){return 2*Vj(e/2)});var wS=yS(function(e){return(e=zj(e))&&e/Lj(e)});function NS(e,t){return[e,Mj(Fj((jj+t)/2))]}function kS(e){var t,s,n,r=mS(e),a=r.center,i=r.scale,o=r.translate,l=r.clipExtent,c=null;function d(){var a=bj*i(),o=r(fN(r.rotate()).invert([0,0]));return l(null==c?[[o[0]-a,o[1]-a],[o[0]+a,o[1]+a]]:e===NS?[[Math.max(o[0]-a,c),t],[Math.min(o[0]+a,s),n]]:[[c,Math.max(o[1]-a,t)],[s,Math.min(o[1]+a,n)]])}return r.scale=function(e){return arguments.length?(i(e),d()):i()},r.translate=function(e){return arguments.length?(o(e),d()):o()},r.center=function(e){return arguments.length?(a(e),d()):a()},r.clipExtent=function(e){return arguments.length?(null==e?c=t=s=n=null:(c=+e[0][0],t=+e[0][1],s=+e[1][0],n=+e[1][1]),d()):null==c?null:[[c,t],[s,n]]},d()}function SS(e){return Fj((jj+e)/2)}function CS(e,t){var s=Tj(e),n=e===t?Lj(e):Mj(s/Tj(t))/Mj(SS(t)/SS(e)),r=s*Dj(SS(e),n)/n;if(!n)return NS;function a(e,t){r>0?t<-jj+vj&&(t=-jj+vj):t>jj-vj&&(t=jj-vj);var s=r/Dj(SS(t),n);return[s*Lj(n*e),r-s*Tj(n*e)]}return a.invert=function(e,t){var s=r-t,a=Ij(n)*Oj(e*e+s*s),i=_j(e,Cj(s))*Ij(s);return s*n<0&&(i-=bj*Ij(e)*Ij(s)),[i/n,2*Ej(Dj(r/a,1/n))-jj]},a}function ES(e,t){return[e,t]}function _S(e,t){var s=Tj(e),n=e===t?Lj(e):(s-Tj(t))/(t-e),r=s/n+e;if(Cj(n)<vj)return ES;function a(e,t){var s=r-t,a=n*e;return[s*Lj(a),r-s*Tj(a)]}return a.invert=function(e,t){var s=r-t,a=_j(e,Cj(s))*Ij(s);return s*n<0&&(a-=bj*Ij(e)*Ij(s)),[a/n,r-Ij(n)*Oj(e*e+s*s)]},a}wS.invert=bS(function(e){return e}),NS.invert=function(e,t){return[e,2*Ej(Aj(t))-jj]},ES.invert=ES;var TS=1.340264,PS=-.081106,AS=893e-6,RS=.003796,MS=Oj(3)/2;function DS(e,t){var s=Vj(MS*Lj(t)),n=s*s,r=n*n*n;return[e*Tj(s)/(MS*(TS+3*PS*n+r*(7*AS+9*RS*n))),s*(TS+PS*n+r*(AS+RS*n))]}function LS(e,t){var s=Tj(t),n=Tj(e)*s;return[s*Lj(e)/n,Lj(t)/n]}function IS(e,t){var s=t*t,n=s*s;return[e*(.8707-.131979*s+n*(n*(.003971*s-.001529*n)-.013791)),t*(1.007226+s*(.015085+n*(.028874*s-.044475-.005916*n)))]}function OS(e,t){return[Tj(t)*Lj(e),Lj(t)]}function FS(e,t){var s=Tj(t),n=1+Tj(e)*s;return[s*Lj(e)/n,Lj(t)/n]}function zS(e,t){return[Mj(Fj((jj+t)/2)),-e]}DS.invert=function(e,t){for(var s,n=t,r=n*n,a=r*r*r,i=0;i<12&&(a=(r=(n-=s=(n*(TS+PS*r+a*(AS+RS*r))-t)/(TS+3*PS*r+a*(7*AS+9*RS*r)))*n)*r*r,!(Cj(s)<yj));++i);return[MS*e*(TS+3*PS*r+a*(7*AS+9*RS*r))/Tj(n),Vj(Lj(n)/MS)]},LS.invert=bS(Ej),IS.invert=function(e,t){var s,n=t,r=25;do{var a=n*n,i=a*a;n-=s=(n*(1.007226+a*(.015085+i*(.028874*a-.044475-.005916*i)))-t)/(1.007226+a*(.045255+i*(.259866*a-.311325-.005916*11*i)))}while(Cj(s)>vj&&--r>0);return[e/(.8707+(a=n*n)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),n]},OS.invert=bS(Vj),FS.invert=bS(function(e){return 2*Ej(e)}),zS.invert=function(e,t){return[-t,2*Ej(Aj(e))-jj]};const VS=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:vS,geoAlbersUsa:function(){var e,t,s,n,r,a,i=vS(),o=gS().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=gS().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){a=[e,t]}};function d(e){var t=e[0],i=e[1];return a=null,s.point(t,i),a||(n.point(t,i),a)||(r.point(t,i),a)}function u(){return e=t=null,d}return d.invert=function(e){var t=i.scale(),s=i.translate(),n=(e[0]-s[0])/t,r=(e[1]-s[1])/t;return(r>=.12&&r<.234&&n>=-.425&&n<-.214?o:r>=.166&&r<.234&&n>=-.214&&n<-.115?l:i).invert(e)},d.stream=function(s){return e&&t===s?e:(n=[i.stream(t=s),o.stream(s),l.stream(s)],r=n.length,e={point:function(e,t){for(var s=-1;++s<r;)n[s].point(e,t)},sphere:function(){for(var e=-1;++e<r;)n[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)n[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)n[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)n[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)n[e].polygonEnd()}});var n,r},d.precision=function(e){return arguments.length?(i.precision(e),o.precision(e),l.precision(e),u()):i.precision()},d.scale=function(e){return arguments.length?(i.scale(e),o.scale(.35*e),l.scale(e),d.translate(i.translate())):i.scale()},d.translate=function(e){if(!arguments.length)return i.translate();var t=i.scale(),a=+e[0],d=+e[1];return s=i.translate(e).clipExtent([[a-.455*t,d-.238*t],[a+.455*t,d+.238*t]]).stream(c),n=o.translate([a-.307*t,d+.201*t]).clipExtent([[a-.425*t+vj,d+.12*t+vj],[a-.214*t-vj,d+.234*t-vj]]).stream(c),r=l.translate([a-.205*t,d+.212*t]).clipExtent([[a-.214*t+vj,d+.166*t+vj],[a-.115*t-vj,d+.234*t-vj]]).stream(c),u()},d.fitExtent=function(e,t){return aS(d,e,t)},d.fitSize=function(e,t){return iS(d,e,t)},d.fitWidth=function(e,t){return oS(d,e,t)},d.fitHeight=function(e,t){return lS(d,e,t)},d.scale(1070)},geoArea:function(e){return hw=new _,Hj(e,mw),2*hw},geoAzimuthalEqualArea:function(){return mS(jS).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:jS,geoAzimuthalEquidistant:function(){return mS(wS).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:wS,geoBounds:function(e){var t,s,n,r,a,i,o;if(nw=sw=-(ew=tw=1/0),cw=[],Hj(e,Bw),s=cw.length){for(cw.sort(Xw),t=1,a=[n=cw[0]];t<s;++t)Zw(n,(r=cw[t])[0])||Zw(n,r[1])?(qw(n[0],r[1])>qw(n[0],n[1])&&(n[1]=r[1]),qw(r[0],n[1])>qw(n[0],n[1])&&(n[0]=r[0])):a.push(n=r);for(i=-1/0,t=0,n=a[s=a.length-1];t<=s;n=r,++t)r=a[t],(o=qw(n[1],r[0]))>i&&(i=o,ew=r[0],sw=n[1])}return cw=dw=null,ew===1/0||tw===1/0?[[NaN,NaN],[NaN,NaN]]:[[ew,tw],[sw,nw]]},geoCentroid:function(e){Sw=Cw=Ew=_w=Tw=Pw=Aw=Rw=0,Mw=new _,Dw=new _,Lw=new _,Hj(e,Jw);var t=+Mw,s=+Dw,n=+Lw,r=Rj(t,s,n);return r<yj&&(t=Pw,s=Aw,n=Rw,Cw<vj&&(t=Ew,s=_w,n=Tw),(r=Rj(t,s,n))<yj)?[NaN,NaN]:[_j(s,t)*kj,Vj(n/r)*kj]},geoCircle:function(){var e,t,s=cN([0,0]),n=cN(90),r=cN(6),a={point:function(s,n){e.push(s=t(s,n)),s[0]*=kj,s[1]*=kj}};function i(){var i=s.apply(this,arguments),o=n.apply(this,arguments)*Sj,l=r.apply(this,arguments)*Sj;return e=[],t=hN(-i[0]*Sj,-i[1]*Sj,0).invert,gN(a,o,l,1),i={type:"Polygon",coordinates:[e]},e=t=null,i}return i.center=function(e){return arguments.length?(s="function"==typeof e?e:cN([+e[0],+e[1]]),i):s},i.radius=function(e){return arguments.length?(n="function"==typeof e?e:cN(+e),i):n},i.precision=function(e){return arguments.length?(r="function"==typeof e?e:cN(+e),i):r},i},geoClipAntimeridian:TN,geoClipCircle:PN,geoClipExtent:function(){var e,t,s,n=0,r=0,a=960,i=500;return s={stream:function(s){return e&&t===s?e:e=ON(n,r,a,i)(t=s)},extent:function(o){return arguments.length?(n=+o[0][0],r=+o[0][1],a=+o[1][0],i=+o[1][1],e=t=null,s):[[n,r],[a,i]]}}},geoClipRectangle:ON,geoConicConformal:function(){return xS(CS).scale(109.5).parallels([30,30])},geoConicConformalRaw:CS,geoConicEqualArea:gS,geoConicEqualAreaRaw:fS,geoConicEquidistant:function(){return xS(_S).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:_S,geoContains:function(e,t){return(e&&KN.hasOwnProperty(e.type)?KN[e.type]:HN)(e,t)},geoDistance:YN,geoEqualEarth:function(){return mS(DS).scale(177.158)},geoEqualEarthRaw:DS,geoEquirectangular:function(){return mS(ES).scale(152.63)},geoEquirectangularRaw:ES,geoGnomonic:function(){return mS(LS).scale(144.049).clipAngle(60)},geoGnomonicRaw:LS,geoGraticule:sk,geoGraticule10:function(){return sk()()},geoIdentity:function(){var e,t,s,n,r,a,i,o=1,l=0,c=0,d=1,u=1,h=0,m=null,p=1,x=1,f=sS({point:function(e,t){var s=y([e,t]);this.stream.point(s[0],s[1])}}),g=nk;function v(){return p=o*d,x=o*u,a=i=null,y}function y(s){var n=s[0]*p,r=s[1]*x;if(h){var a=r*e-n*t;n=n*e+r*t,r=a}return[n+l,r+c]}return y.invert=function(s){var n=s[0]-l,r=s[1]-c;if(h){var a=r*e+n*t;n=n*e-r*t,r=a}return[n/p,r/x]},y.stream=function(e){return a&&i===e?a:a=f(g(i=e))},y.postclip=function(e){return arguments.length?(g=e,m=s=n=r=null,v()):g},y.clipExtent=function(e){return arguments.length?(g=null==e?(m=s=n=r=null,nk):ON(m=+e[0][0],s=+e[0][1],n=+e[1][0],r=+e[1][1]),v()):null==m?null:[[m,s],[n,r]]},y.scale=function(e){return arguments.length?(o=+e,v()):o},y.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],v()):[l,c]},y.angle=function(s){return arguments.length?(t=Lj(h=s%360*Sj),e=Tj(h),v()):h*kj},y.reflectX=function(e){return arguments.length?(d=e?-1:1,v()):d<0},y.reflectY=function(e){return arguments.length?(u=e?-1:1,v()):u<0},y.fitExtent=function(e,t){return aS(y,e,t)},y.fitSize=function(e,t){return iS(y,e,t)},y.fitWidth=function(e,t){return oS(y,e,t)},y.fitHeight=function(e,t){return lS(y,e,t)},y},geoInterpolate:function(e,t){var s=e[0]*Sj,n=e[1]*Sj,r=t[0]*Sj,a=t[1]*Sj,i=Tj(n),o=Lj(n),l=Tj(a),c=Lj(a),d=i*Tj(s),u=i*Lj(s),h=l*Tj(r),m=l*Lj(r),p=2*Vj(Oj(Bj(a-n)+i*l*Bj(r-s))),x=Lj(p),f=p?function(e){var t=Lj(e*=p)/x,s=Lj(p-e)/x,n=s*d+t*h,r=s*u+t*m,a=s*o+t*c;return[_j(r,n)*kj,_j(a,Oj(n*n+r*r))*kj]}:function(){return[s*kj,n*kj]};return f.distance=p,f},geoLength:UN,geoMercator:function(){return kS(NS).scale(961/Nj)},geoMercatorRaw:NS,geoNaturalEarth1:function(){return mS(IS).scale(175.295)},geoNaturalEarth1Raw:IS,geoOrthographic:function(){return mS(OS).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:OS,geoPath:tS,geoProjection:mS,geoProjectionMutator:pS,geoRotation:fN,geoStereographic:function(){return mS(FS).scale(250).clipAngle(142)},geoStereographicRaw:FS,geoStream:Hj,geoTransform:function(e){return{stream:sS(e)}},geoTransverseMercator:function(){var e=kS(zS),t=e.center,s=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?s([e[0],e[1],e.length>2?e[2]+90:90]):[(e=s())[0],e[1],e[2]-90]},s([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:zS},Symbol.toStringTag,{value:"Module"}));function BS(e){return e}function US(e,t){var s=t.id,n=t.bbox,r=null==t.properties?{}:t.properties,a=$S(e,t);return null==s&&null==n?{type:"Feature",properties:r,geometry:a}:null==n?{type:"Feature",id:s,properties:r,geometry:a}:{type:"Feature",id:s,bbox:n,properties:r,geometry:a}}function $S(e,t){var s=function(e){if(null==e)return BS;var t,s,n=e.scale[0],r=e.scale[1],a=e.translate[0],i=e.translate[1];return function(e,o){o||(t=s=0);var l=2,c=e.length,d=new Array(c);for(d[0]=(t+=e[0])*n+a,d[1]=(s+=e[1])*r+i;l<c;)d[l]=e[l],++l;return d}}(e.transform),n=e.arcs;function r(e,t){t.length&&t.pop();for(var r=n[e<0?~e:e],a=0,i=r.length;a<i;++a)t.push(s(r[a],a));e<0&&function(e,t){for(var s,n=e.length,r=n-t;r<--n;)s=e[r],e[r++]=e[n],e[n]=s}(t,i)}function a(e){return s(e)}function i(e){for(var t=[],s=0,n=e.length;s<n;++s)r(e[s],t);return t.length<2&&t.push(t[0]),t}function o(e){for(var t=i(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(o)}return function e(t){var s,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(e)};case"Point":s=a(t.coordinates);break;case"MultiPoint":s=t.coordinates.map(a);break;case"LineString":s=i(t.arcs);break;case"MultiLineString":s=t.arcs.map(i);break;case"Polygon":s=l(t.arcs);break;case"MultiPolygon":s=t.arcs.map(l);break;default:return null}return{type:n,coordinates:s}}(t)}function WS(e,t){var s={},n={},r={},a=[],i=-1;function o(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){s[e<0?~e:e]=1}),a.push(r)}}return t.forEach(function(s,n){var r,a=e.arcs[s<0?~s:s];a.length<3&&!a[1][0]&&!a[1][1]&&(r=t[++i],t[i]=s,t[n]=r)}),t.forEach(function(t){var s,a,i=function(t){var s,n=e.arcs[t<0?~t:t],r=n[0];e.transform?(s=[0,0],n.forEach(function(e){s[0]+=e[0],s[1]+=e[1]})):s=n[n.length-1];return t<0?[s,r]:[r,s]}(t),o=i[0],l=i[1];if(s=r[o])if(delete r[s.end],s.push(t),s.end=l,a=n[l]){delete n[a.start];var c=a===s?s:s.concat(a);n[c.start=s.start]=r[c.end=a.end]=c}else n[s.start]=r[s.end]=s;else if(s=n[l])if(delete n[s.start],s.unshift(t),s.start=o,a=r[o]){delete r[a.end];var d=a===s?s:a.concat(s);n[d.start=a.start]=r[d.end=s.end]=d}else n[s.start]=r[s.end]=s;else n[(s=[t]).start=o]=r[s.end=l]=s}),o(r,n),o(n,r),t.forEach(function(e){s[e<0?~e:e]||a.push([e])}),a}function YS(e){return $S(e,KS.apply(this,arguments))}function KS(e,t,s){var n,r,a;if(arguments.length>1)n=function(e,t,s){var n,r=[],a=[];function i(e){var t=e<0?~e:e;(a[t]||(a[t]=[])).push({i:e,g:n})}function o(e){e.forEach(i)}function l(e){e.forEach(o)}function c(e){e.forEach(l)}function d(e){switch(n=e,e.type){case"GeometryCollection":e.geometries.forEach(d);break;case"LineString":o(e.arcs);break;case"MultiLineString":case"Polygon":l(e.arcs);break;case"MultiPolygon":c(e.arcs)}}return d(t),a.forEach(null==s?function(e){r.push(e[0].i)}:function(e){s(e[0].g,e[e.length-1].g)&&r.push(e[0].i)}),r}(0,t,s);else for(r=0,n=new Array(a=e.arcs.length);r<a;++r)n[r]=r;return{type:"MultiLineString",arcs:WS(e,n)}}var GS={value:()=>{}};function HS(){for(var e,t=0,s=arguments.length,n={};t<s;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new qS(n)}function qS(e){this._=e}function XS(e,t){for(var s,n=0,r=e.length;n<r;++n)if((s=e[n]).name===t)return s.value}function ZS(e,t,s){for(var n=0,r=e.length;n<r;++n)if(e[n].name===t){e[n]=GS,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=s&&e.push({name:t,value:s}),e}qS.prototype=HS.prototype={constructor:qS,on:function(e,t){var s,n,r=this._,a=(n=r,(e+"").trim().split(/^|\s+/).map(function(e){var t="",s=e.indexOf(".");if(s>=0&&(t=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=a[i]).type)r[s]=ZS(r[s],e.name,t);else if(null==t)for(s in r)r[s]=ZS(r[s],e.name,null);return this}for(;++i<o;)if((s=(e=a[i]).type)&&(s=XS(r[s],e.name)))return s},copy:function(){var e={},t=this._;for(var s in t)e[s]=t[s].slice();return new qS(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var s,n,r=new Array(s),a=0;a<s;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,s=(n=this._[e]).length;a<s;++a)n[a].value.apply(t,r)},apply:function(e,t,s){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],r=0,a=n.length;r<a;++r)n[r].value.apply(t,s)}};var JS="http://www.w3.org/1999/xhtml";const QS={svg:"http://www.w3.org/2000/svg",xhtml:JS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eC(e){var t=e+="",s=t.indexOf(":");return s>=0&&"xmlns"!==(t=e.slice(0,s))&&(e=e.slice(s+1)),QS.hasOwnProperty(t)?{space:QS[t],local:e}:e}function tC(e){return function(){var t=this.ownerDocument,s=this.namespaceURI;return s===JS&&t.documentElement.namespaceURI===JS?t.createElement(e):t.createElementNS(s,e)}}function sC(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nC(e){var t=eC(e);return(t.local?sC:tC)(t)}function rC(){}function aC(e){return null==e?rC:function(){return this.querySelector(e)}}function iC(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function oC(){return[]}function lC(e){return null==e?oC:function(){return this.querySelectorAll(e)}}function cC(e){return function(){return this.matches(e)}}function dC(e){return function(t){return t.matches(e)}}var uC=Array.prototype.find;function hC(){return this.firstElementChild}var mC=Array.prototype.filter;function pC(){return this.children}function xC(e){return new Array(e.length)}function fC(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function gC(e,t,s,n,r,a){for(var i,o=0,l=t.length,c=a.length;o<c;++o)(i=t[o])?(i.__data__=a[o],n[o]=i):s[o]=new fC(e,a[o]);for(;o<l;++o)(i=t[o])&&(r[o]=i)}function vC(e,t,s,n,r,a,i){var o,l,c,d=new Map,u=t.length,h=a.length,m=new Array(u);for(o=0;o<u;++o)(l=t[o])&&(m[o]=c=i.call(l,l.__data__,o,t)+"",d.has(c)?r[o]=l:d.set(c,l));for(o=0;o<h;++o)c=i.call(e,a[o],o,a)+"",(l=d.get(c))?(n[o]=l,l.__data__=a[o],d.delete(c)):s[o]=new fC(e,a[o]);for(o=0;o<u;++o)(l=t[o])&&d.get(m[o])===l&&(r[o]=l)}function yC(e){return e.__data__}function bC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function jC(e){return function(){this.removeAttribute(e)}}function wC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NC(e,t){return function(){this.setAttribute(e,t)}}function kC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function SC(e,t){return function(){var s=t.apply(this,arguments);null==s?this.removeAttribute(e):this.setAttribute(e,s)}}function CC(e,t){return function(){var s=t.apply(this,arguments);null==s?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,s)}}function EC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _C(e){return function(){this.style.removeProperty(e)}}function TC(e,t,s){return function(){this.style.setProperty(e,t,s)}}function PC(e,t,s){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,s)}}function AC(e,t){return e.style.getPropertyValue(t)||EC(e).getComputedStyle(e,null).getPropertyValue(t)}function RC(e){return function(){delete this[e]}}function MC(e,t){return function(){this[e]=t}}function DC(e,t){return function(){var s=t.apply(this,arguments);null==s?delete this[e]:this[e]=s}}function LC(e){return e.trim().split(/^|\s+/)}function IC(e){return e.classList||new OC(e)}function OC(e){this._node=e,this._names=LC(e.getAttribute("class")||"")}function FC(e,t){for(var s=IC(e),n=-1,r=t.length;++n<r;)s.add(t[n])}function zC(e,t){for(var s=IC(e),n=-1,r=t.length;++n<r;)s.remove(t[n])}function VC(e){return function(){FC(this,e)}}function BC(e){return function(){zC(this,e)}}function UC(e,t){return function(){(t.apply(this,arguments)?FC:zC)(this,e)}}function $C(){this.textContent=""}function WC(e){return function(){this.textContent=e}}function YC(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function KC(){this.innerHTML=""}function GC(e){return function(){this.innerHTML=e}}function HC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function qC(){this.nextSibling&&this.parentNode.appendChild(this)}function XC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ZC(){return null}function JC(){var e=this.parentNode;e&&e.removeChild(this)}function QC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tE(e){return function(){var t=this.__on;if(t){for(var s,n=0,r=-1,a=t.length;n<a;++n)s=t[n],e.type&&s.type!==e.type||s.name!==e.name?t[++r]=s:this.removeEventListener(s.type,s.listener,s.options);++r?t.length=r:delete this.__on}}}function sE(e,t,s){return function(){var n,r=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var i=0,o=r.length;i<o;++i)if((n=r[i]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=s),void(n.value=t);this.addEventListener(e.type,a,s),n={type:e.type,name:e.name,value:t,listener:a,options:s},r?r.push(n):this.__on=[n]}}function nE(e,t,s){var n=EC(e),r=n.CustomEvent;"function"==typeof r?r=new r(t,s):(r=n.document.createEvent("Event"),s?(r.initEvent(t,s.bubbles,s.cancelable),r.detail=s.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function rE(e,t){return function(){return nE(this,e,t)}}function aE(e,t){return function(){return nE(this,e,t.apply(this,arguments))}}fC.prototype={constructor:fC,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},OC.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var iE=[null];function oE(e,t){this._groups=e,this._parents=t}function lE(){return new oE([[document.documentElement]],iE)}function cE(e){return"string"==typeof e?new oE([[document.querySelector(e)]],[document.documentElement]):new oE([[e]],iE)}function dE(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var s=t.ownerSVGElement||t;if(s.createSVGPoint){var n=s.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}function uE(e){e.preventDefault(),e.stopImmediatePropagation()}oE.prototype=lE.prototype={constructor:oE,select:function(e){"function"!=typeof e&&(e=aC(e));for(var t=this._groups,s=t.length,n=new Array(s),r=0;r<s;++r)for(var a,i,o=t[r],l=o.length,c=n[r]=new Array(l),d=0;d<l;++d)(a=o[d])&&(i=e.call(a,a.__data__,d,o))&&("__data__"in a&&(i.__data__=a.__data__),c[d]=i);return new oE(n,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:iC(t)}}(e):lC(e);for(var t=this._groups,s=t.length,n=[],r=[],a=0;a<s;++a)for(var i,o=t[a],l=o.length,c=0;c<l;++c)(i=o[c])&&(n.push(e.call(i,i.__data__,c,o)),r.push(i));return new oE(n,r)},selectChild:function(e){return this.select(null==e?hC:function(e){return function(){return uC.call(this.children,e)}}("function"==typeof e?e:dC(e)))},selectChildren:function(e){return this.selectAll(null==e?pC:function(e){return function(){return mC.call(this.children,e)}}("function"==typeof e?e:dC(e)))},filter:function(e){"function"!=typeof e&&(e=cC(e));for(var t=this._groups,s=t.length,n=new Array(s),r=0;r<s;++r)for(var a,i=t[r],o=i.length,l=n[r]=[],c=0;c<o;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new oE(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,yC);var s,n=t?vC:gC,r=this._parents,a=this._groups;"function"!=typeof e&&(s=e,e=function(){return s});for(var i=a.length,o=new Array(i),l=new Array(i),c=new Array(i),d=0;d<i;++d){var u=r[d],h=a[d],m=h.length,p=iC(e.call(u,u&&u.__data__,d,r)),x=p.length,f=l[d]=new Array(x),g=o[d]=new Array(x);n(u,h,f,g,c[d]=new Array(m),p,t);for(var v,y,b=0,j=0;b<x;++b)if(v=f[b]){for(b>=j&&(j=b+1);!(y=g[j])&&++j<x;);v._next=y||null}}return(o=new oE(o,r))._enter=l,o._exit=c,o},enter:function(){return new oE(this._enter||this._groups.map(xC),this._parents)},exit:function(){return new oE(this._exit||this._groups.map(xC),this._parents)},join:function(e,t,s){var n=this.enter(),r=this,a=this.exit();return n="function"==typeof e?e(n):n.append(e+""),null!=t&&(r=t(r)),null==s?a.remove():s(a),n&&r?n.merge(r).order():r},merge:function(e){if(!(e instanceof oE))throw new Error("invalid merge");for(var t=this._groups,s=e._groups,n=t.length,r=s.length,a=Math.min(n,r),i=new Array(n),o=0;o<a;++o)for(var l,c=t[o],d=s[o],u=c.length,h=i[o]=new Array(u),m=0;m<u;++m)(l=c[m]||d[m])&&(h[m]=l);for(;o<n;++o)i[o]=t[o];return new oE(i,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,s=e.length;++t<s;)for(var n,r=e[t],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&4^n.compareDocumentPosition(i)&&i.parentNode.insertBefore(n,i),i=n);return this},sort:function(e){function t(t,s){return t&&s?e(t.__data__,s.__data__):!t-!s}e||(e=bC);for(var s=this._groups,n=s.length,r=new Array(n),a=0;a<n;++a){for(var i,o=s[a],l=o.length,c=r[a]=new Array(l),d=0;d<l;++d)(i=o[d])&&(c[d]=i);c.sort(t)}return new oE(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,s=e.length;t<s;++t)for(var n=e[t],r=0,a=n.length;r<a;++r){var i=n[r];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,s=0,n=t.length;s<n;++s)for(var r,a=t[s],i=0,o=a.length;i<o;++i)(r=a[i])&&e.call(r,r.__data__,i,a);return this},attr:function(e,t){var s=eC(e);if(arguments.length<2){var n=this.node();return s.local?n.getAttributeNS(s.space,s.local):n.getAttribute(s)}return this.each((null==t?s.local?wC:jC:"function"==typeof t?s.local?CC:SC:s.local?kC:NC)(s,t))},style:function(e,t,s){return arguments.length>1?this.each((null==t?_C:"function"==typeof t?PC:TC)(e,t,null==s?"":s)):AC(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?RC:"function"==typeof t?DC:MC)(e,t)):this.node()[e]},classed:function(e,t){var s=LC(e+"");if(arguments.length<2){for(var n=IC(this.node()),r=-1,a=s.length;++r<a;)if(!n.contains(s[r]))return!1;return!0}return this.each(("function"==typeof t?UC:t?VC:BC)(s,t))},text:function(e){return arguments.length?this.each(null==e?$C:("function"==typeof e?YC:WC)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?KC:("function"==typeof e?HC:GC)(e)):this.node().innerHTML},raise:function(){return this.each(qC)},lower:function(){return this.each(XC)},append:function(e){var t="function"==typeof e?e:nC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var s="function"==typeof e?e:nC(e),n=null==t?ZC:"function"==typeof t?t:aC(t);return this.select(function(){return this.insertBefore(s.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function(){return this.each(JC)},clone:function(e){return this.select(e?eE:QC)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,s){var n,r,a=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",s=e.indexOf(".");return s>=0&&(t=e.slice(s+1),e=e.slice(0,s)),{type:e,name:t}})}(e+""),i=a.length;if(!(arguments.length<2)){for(o=t?sE:tE,n=0;n<i;++n)this.each(o(a[n],t,s));return this}var o=this.node().__on;if(o)for(var l,c=0,d=o.length;c<d;++c)for(n=0,l=o[c];n<i;++n)if((r=a[n]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?aE:rE)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,s=e.length;t<s;++t)for(var n,r=e[t],a=0,i=r.length;a<i;++a)(n=r[a])&&(yield n)}};var hE,mE,pE=0,xE=0,fE=0,gE=0,vE=0,yE=0,bE="object"==typeof performance&&performance.now?performance:Date,jE="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wE(){return vE||(jE(NE),vE=bE.now()+yE)}function NE(){vE=0}function kE(){this._call=this._time=this._next=null}function SE(e,t,s){var n=new kE;return n.restart(e,t,s),n}function CE(){vE=(gE=bE.now())+yE,pE=xE=0;try{!function(){wE(),++pE;for(var e,t=hE;t;)(e=vE-t._time)>=0&&t._call.call(null,e),t=t._next;--pE}()}finally{pE=0,function(){var e,t,s=hE,n=1/0;for(;s;)s._call?(n>s._time&&(n=s._time),e=s,s=s._next):(t=s._next,s._next=null,s=e?e._next=t:hE=t);mE=e,_E(n)}(),vE=0}}function EE(){var e=bE.now(),t=e-gE;t>1e3&&(yE-=t,gE=e)}function _E(e){pE||(xE&&(xE=clearTimeout(xE)),e-vE>24?(e<1/0&&(xE=setTimeout(CE,e-bE.now()-yE)),fE&&(fE=clearInterval(fE))):(fE||(gE=bE.now(),fE=setInterval(EE,1e3)),pE=1,jE(CE)))}function TE(e,t,s){var n=new kE;return t=null==t?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,s),n}kE.prototype=SE.prototype={constructor:kE,restart:function(e,t,s){if("function"!=typeof e)throw new TypeError("callback is not a function");s=(null==s?wE():+s)+(null==t?0:+t),this._next||mE===this||(mE?mE._next=this:hE=this,mE=this),this._call=e,this._time=s,_E()},stop:function(){this._call&&(this._call=null,this._time=1/0,_E())}};var PE=HS("start","end","cancel","interrupt"),AE=[];function RE(e,t,s,n,r,a){var i=e.__transition;if(i){if(s in i)return}else e.__transition={};!function(e,t,s){var n,r=e.__transition;function a(e){s.state=1,s.timer.restart(i,s.delay,s.time),s.delay<=e&&i(e-s.delay)}function i(a){var c,d,u,h;if(1!==s.state)return l();for(c in r)if((h=r[c]).name===s.name){if(3===h.state)return TE(i);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(TE(function(){3===s.state&&(s.state=4,s.timer.restart(o,s.delay,s.time),o(a))}),s.state=2,s.on.call("start",e,e.__data__,s.index,s.group),2===s.state){for(s.state=3,n=new Array(u=s.tween.length),c=0,d=-1;c<u;++c)(h=s.tween[c].value.call(e,e.__data__,s.index,s.group))&&(n[++d]=h);n.length=d+1}}function o(t){for(var r=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(l),s.state=5,1),a=-1,i=n.length;++a<i;)n[a].call(e,r);5===s.state&&(s.on.call("end",e,e.__data__,s.index,s.group),l())}function l(){for(var n in s.state=6,s.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=s,s.timer=SE(a,0,s.time)}(e,s,{name:t,index:n,group:r,on:PE,tween:AE,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function ME(e,t){var s=LE(e,t);if(s.state>0)throw new Error("too late; already scheduled");return s}function DE(e,t){var s=LE(e,t);if(s.state>3)throw new Error("too late; already running");return s}function LE(e,t){var s=e.__transition;if(!s||!(s=s[t]))throw new Error("transition not found");return s}function IE(e,t){var s,n,r,a=e.__transition,i=!0;if(a){for(r in t=null==t?null:t+"",a)(s=a[r]).name===t?(n=s.state>2&&s.state<5,s.state=6,s.timer.stop(),s.on.call(n?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete a[r]):i=!1;i&&delete e.__transition}}function OE(e,t){var s,n;return function(){var r=DE(this,e),a=r.tween;if(a!==s)for(var i=0,o=(n=s=a).length;i<o;++i)if(n[i].name===t){(n=n.slice()).splice(i,1);break}r.tween=n}}function FE(e,t,s){var n,r;if("function"!=typeof s)throw new Error;return function(){var a=DE(this,e),i=a.tween;if(i!==n){r=(n=i).slice();for(var o={name:t,value:s},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=o;break}l===c&&r.push(o)}a.tween=r}}function zE(e,t,s){var n=e._id;return e.each(function(){var e=DE(this,n);(e.value||(e.value={}))[t]=s.apply(this,arguments)}),function(e){return LE(e,n).value[t]}}function VE(e,t){var s;return("number"==typeof t?A:t instanceof D?R:(s=D(t))?(t=s,R):M)(e,t)}function BE(e){return function(){this.removeAttribute(e)}}function UE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $E(e,t,s){var n,r,a=s+"";return function(){var i=this.getAttribute(e);return i===a?null:i===n?r:r=t(n=i,s)}}function WE(e,t,s){var n,r,a=s+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===a?null:i===n?r:r=t(n=i,s)}}function YE(e,t,s){var n,r,a;return function(){var i,o,l=s(this);if(null!=l)return(i=this.getAttribute(e))===(o=l+"")?null:i===n&&o===r?a:(r=o,a=t(n=i,l));this.removeAttribute(e)}}function KE(e,t,s){var n,r,a;return function(){var i,o,l=s(this);if(null!=l)return(i=this.getAttributeNS(e.space,e.local))===(o=l+"")?null:i===n&&o===r?a:(r=o,a=t(n=i,l));this.removeAttributeNS(e.space,e.local)}}function GE(e,t){var s,n;function r(){var r=t.apply(this,arguments);return r!==n&&(s=(n=r)&&function(e,t){return function(s){this.setAttributeNS(e.space,e.local,t.call(this,s))}}(e,r)),s}return r._value=t,r}function HE(e,t){var s,n;function r(){var r=t.apply(this,arguments);return r!==n&&(s=(n=r)&&function(e,t){return function(s){this.setAttribute(e,t.call(this,s))}}(e,r)),s}return r._value=t,r}function qE(e,t){return function(){ME(this,e).delay=+t.apply(this,arguments)}}function XE(e,t){return t=+t,function(){ME(this,e).delay=t}}function ZE(e,t){return function(){DE(this,e).duration=+t.apply(this,arguments)}}function JE(e,t){return t=+t,function(){DE(this,e).duration=t}}var QE=lE.prototype.constructor;function e_(e){return function(){this.style.removeProperty(e)}}var t_=0;function s_(e,t,s,n){this._groups=e,this._parents=t,this._name=s,this._id=n}function n_(){return++t_}var r_=lE.prototype;s_.prototype={constructor:s_,select:function(e){var t=this._name,s=this._id;"function"!=typeof e&&(e=aC(e));for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i)for(var o,l,c=n[i],d=c.length,u=a[i]=new Array(d),h=0;h<d;++h)(o=c[h])&&(l=e.call(o,o.__data__,h,c))&&("__data__"in o&&(l.__data__=o.__data__),u[h]=l,RE(u[h],t,s,h,u,LE(o,s)));return new s_(a,this._parents,t,s)},selectAll:function(e){var t=this._name,s=this._id;"function"!=typeof e&&(e=lC(e));for(var n=this._groups,r=n.length,a=[],i=[],o=0;o<r;++o)for(var l,c=n[o],d=c.length,u=0;u<d;++u)if(l=c[u]){for(var h,m=e.call(l,l.__data__,u,c),p=LE(l,s),x=0,f=m.length;x<f;++x)(h=m[x])&&RE(h,t,s,x,m,p);a.push(m),i.push(l)}return new s_(a,i,t,s)},filter:function(e){"function"!=typeof e&&(e=cC(e));for(var t=this._groups,s=t.length,n=new Array(s),r=0;r<s;++r)for(var a,i=t[r],o=i.length,l=n[r]=[],c=0;c<o;++c)(a=i[c])&&e.call(a,a.__data__,c,i)&&l.push(a);return new s_(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,s=e._groups,n=t.length,r=s.length,a=Math.min(n,r),i=new Array(n),o=0;o<a;++o)for(var l,c=t[o],d=s[o],u=c.length,h=i[o]=new Array(u),m=0;m<u;++m)(l=c[m]||d[m])&&(h[m]=l);for(;o<n;++o)i[o]=t[o];return new s_(i,this._parents,this._name,this._id)},selection:function(){return new QE(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,s=n_(),n=this._groups,r=n.length,a=0;a<r;++a)for(var i,o=n[a],l=o.length,c=0;c<l;++c)if(i=o[c]){var d=LE(i,t);RE(i,e,s,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new s_(n,this._parents,e,s)},call:r_.call,nodes:r_.nodes,node:r_.node,size:r_.size,empty:r_.empty,each:r_.each,on:function(e,t){var s=this._id;return arguments.length<2?LE(this.node(),s).on.on(e):this.each(function(e,t,s){var n,r,a=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?ME:DE;return function(){var i=a(this,e),o=i.on;o!==n&&(r=(n=o).copy()).on(t,s),i.on=r}}(s,e,t))},attr:function(e,t){var s=eC(e),n="transform"===s?L:VE;return this.attrTween(e,"function"==typeof t?(s.local?KE:YE)(s,n,zE(this,"attr."+e,t)):null==t?(s.local?UE:BE)(s):(s.local?WE:$E)(s,n,t))},attrTween:function(e,t){var s="attr."+e;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(null==t)return this.tween(s,null);if("function"!=typeof t)throw new Error;var n=eC(e);return this.tween(s,(n.local?GE:HE)(n,t))},style:function(e,t,s){var n="transform"==(e+="")?I:VE;return null==t?this.styleTween(e,function(e,t){var s,n,r;return function(){var a=AC(this,e),i=(this.style.removeProperty(e),AC(this,e));return a===i?null:a===s&&i===n?r:r=t(s=a,n=i)}}(e,n)).on("end.style."+e,e_(e)):"function"==typeof t?this.styleTween(e,function(e,t,s){var n,r,a;return function(){var i=AC(this,e),o=s(this),l=o+"";return null==o&&(this.style.removeProperty(e),l=o=AC(this,e)),i===l?null:i===n&&l===r?a:(r=l,a=t(n=i,o))}}(e,n,zE(this,"style."+e,t))).each(function(e,t){var s,n,r,a,i="style."+t,o="end."+i;return function(){var l=DE(this,e),c=l.on,d=null==l.value[i]?a||(a=e_(t)):void 0;c===s&&r===d||(n=(s=c).copy()).on(o,r=d),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,s){var n,r,a=s+"";return function(){var i=AC(this,e);return i===a?null:i===n?r:r=t(n=i,s)}}(e,n,t),s).on("end.style."+e,null)},styleTween:function(e,t,s){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,s){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t,s){return function(n){this.style.setProperty(e,t.call(this,n),s)}}(e,a,s)),n}return a._value=t,a}(e,t,null==s?"":s))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(zE(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,s;function n(){var n=e.apply(this,arguments);return n!==s&&(t=(s=n)&&function(e){return function(t){this.textContent=e.call(this,t)}}(n)),t}return n._value=e,n}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var s in this.__transition)if(+s!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var s=this._id;if(e+="",arguments.length<2){for(var n,r=LE(this.node(),s).tween,a=0,i=r.length;a<i;++a)if((n=r[a]).name===e)return n.value;return null}return this.each((null==t?OE:FE)(s,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?qE:XE)(t,e)):LE(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ZE:JE)(t,e)):LE(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){DE(this,e).ease=t}}(t,e)):LE(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var s=t.apply(this,arguments);if("function"!=typeof s)throw new Error;DE(this,e).ease=s}}(this._id,e))},end:function(){var e,t,s=this,n=s._id,r=s.size();return new Promise(function(a,i){var o={value:i},l={value:function(){0===--r&&a()}};s.each(function(){var s=DE(this,n),r=s.on;r!==e&&((t=(e=r).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),s.on=t}),0===r&&a()})},[Symbol.iterator]:r_[Symbol.iterator]};var a_={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function i_(e,t){for(var s;!(s=e.__transition)||!(s=s[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return s}lE.prototype.interrupt=function(e){return this.each(function(){IE(this,e)})},lE.prototype.transition=function(e){var t,s;e instanceof s_?(t=e._id,e=e._name):(t=n_(),(s=a_).time=wE(),e=null==e?null:e+"");for(var n=this._groups,r=n.length,a=0;a<r;++a)for(var i,o=n[a],l=o.length,c=0;c<l;++c)(i=o[c])&&RE(i,e,t,c,o,s||i_(i,t));return new s_(n,this._parents,e,t)};const o_=e=>()=>e;function l_(e,{sourceEvent:t,target:s,transform:n,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:r}})}function c_(e,t,s){this.k=e,this.x=t,this.y=s}c_.prototype={constructor:c_,scale:function(e){return 1===e?this:new c_(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new c_(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var d_=new c_(1,0,0);function u_(e){e.stopImmediatePropagation()}function h_(e){e.preventDefault(),e.stopImmediatePropagation()}function m_(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function p_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function x_(){return this.__zoom||d_}function f_(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function g_(){return navigator.maxTouchPoints||"ontouchstart"in this}function v_(e,t,s){var n=e.invertX(t[0][0])-s[0][0],r=e.invertX(t[1][0])-s[1][0],a=e.invertY(t[0][1])-s[0][1],i=e.invertY(t[1][1])-s[1][1];return e.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i))}function y_(){var e,t,s,n=m_,r=p_,a=v_,i=f_,o=g_,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,u=O,h=HS("start","zoom","end"),m=0,p=10;function x(e){e.property("__zoom",x_).on("wheel.zoom",w).on("mousedown.zoom",N).on("dblclick.zoom",k).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new c_(t,e.x,e.y)}function g(e,t,s){var n=t[0]-s[0]*e.k,r=t[1]-s[1]*e.k;return n===e.x&&r===e.y?e:new c_(e.k,n,r)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,s,n){e.on("start.zoom",function(){b(this,arguments).event(n).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(n).end()}).tween("zoom",function(){var e=this,a=arguments,i=b(e,a).event(n),o=r.apply(e,a),l=null==s?v(o):"function"==typeof s?s.apply(e,a):s,c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),d=e.__zoom,h="function"==typeof t?t.apply(e,a):t,m=u(d.invert(l).concat(c/d.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=m(e),s=c/t[2];e=new c_(s,l[0]-t[0]*s,l[1]-t[1]*s)}i.zoom(null,e)}})}function b(e,t,s){return!s&&e.__zooming||new j(e,t)}function j(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function w(e,...t){if(n.apply(this,arguments)){var s=b(this,t).event(e),r=this.__zoom,o=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,i.apply(this,arguments)))),d=dE(e);if(s.wheel)s.mouse[0][0]===d[0]&&s.mouse[0][1]===d[1]||(s.mouse[1]=r.invert(s.mouse[0]=d)),clearTimeout(s.wheel);else{if(r.k===o)return;s.mouse=[d,r.invert(d)],IE(this),s.start()}h_(e),s.wheel=setTimeout(function(){s.wheel=null,s.end()},150),s.zoom("mouse",a(g(f(r,o),s.mouse[0],s.mouse[1]),s.extent,c))}}function N(e,...t){if(!s&&n.apply(this,arguments)){var r,i,o,l=b(this,t,!0).event(e),d=cE(e.view).on("mousemove.zoom",function(e){if(h_(e),!l.moved){var t=e.clientX-p,s=e.clientY-x;l.moved=t*t+s*s>m}l.event(e).zoom("mouse",a(g(l.that.__zoom,l.mouse[0]=dE(e,h),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){d.on("mousemove.zoom mouseup.zoom",null),t=e.view,s=l.moved,n=t.document.documentElement,r=cE(t).on("dragstart.drag",null),s&&(r.on("click.drag",uE,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect),h_(e),l.event(e).end();var t,s,n,r},!0),u=dE(e,h),h=e.currentTarget,p=e.clientX,x=e.clientY;r=e.view,i=r.document.documentElement,o=cE(r).on("dragstart.drag",uE,!0),"onselectstart"in i?o.on("selectstart.drag",uE,!0):(i.__noselect=i.style.MozUserSelect,i.style.MozUserSelect="none"),u_(e),l.mouse=[u,this.__zoom.invert(u)],IE(this),l.start()}}function k(e,...t){if(n.apply(this,arguments)){var s=this.__zoom,i=dE(e.changedTouches?e.changedTouches[0]:e,this),o=s.invert(i),l=s.k*(e.shiftKey?.5:2),u=a(g(f(s,l),i,o),r.apply(this,t),c);h_(e),d>0?cE(this).transition().duration(d).call(y,u,i,e):cE(this).call(x.transform,u,i,e)}}function S(s,...r){if(n.apply(this,arguments)){var a,i,o,l,c=s.touches,d=c.length,u=b(this,r,s.changedTouches.length===d).event(s);for(u_(s),i=0;i<d;++i)l=[l=dE(o=c[i],this),this.__zoom.invert(l),o.identifier],u.touch0?u.touch1||u.touch0[2]===l[2]||(u.touch1=l,u.taps=0):(u.touch0=l,a=!0,u.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(u.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),IE(this),u.start())}}function C(e,...t){if(this.__zooming){var s,n,r,i,o=b(this,t).event(e),l=e.changedTouches,d=l.length;for(h_(e),s=0;s<d;++s)r=dE(n=l[s],this),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],h=o.touch0[1],m=o.touch1[0],p=o.touch1[1],x=(x=m[0]-u[0])*x+(x=m[1]-u[1])*x,v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v;n=f(n,Math.sqrt(x/v)),r=[(u[0]+m[0])/2,(u[1]+m[1])/2],i=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],i=o.touch0[1]}o.zoom("touch",a(g(n,r,i),o.extent,c))}}function E(e,...n){if(this.__zooming){var r,a,i=b(this,n).event(e),o=e.changedTouches,l=o.length;for(u_(e),s&&clearTimeout(s),s=setTimeout(function(){s=null},500),r=0;r<l;++r)a=o[r],i.touch0&&i.touch0[2]===a.identifier?delete i.touch0:i.touch1&&i.touch1[2]===a.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps&&(a=dE(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<p)){var c=cE(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return x.transform=function(e,t,s,n){var r=e.selection?e.selection():e;r.property("__zoom",x_),e!==r?y(e,t,s,n):r.interrupt().each(function(){b(this,arguments).event(n).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},x.scaleBy=function(e,t,s,n){x.scaleTo(e,function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)},s,n)},x.scaleTo=function(e,t,s,n){x.transform(e,function(){var e=r.apply(this,arguments),n=this.__zoom,i=null==s?v(e):"function"==typeof s?s.apply(this,arguments):s,o=n.invert(i),l="function"==typeof t?t.apply(this,arguments):t;return a(g(f(n,l),i,o),e,c)},s,n)},x.translateBy=function(e,t,s,n){x.transform(e,function(){return a(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof s?s.apply(this,arguments):s),r.apply(this,arguments),c)},null,n)},x.translateTo=function(e,t,s,n,i){x.transform(e,function(){var e=r.apply(this,arguments),i=this.__zoom,o=null==n?v(e):"function"==typeof n?n.apply(this,arguments):n;return a(d_.translate(o[0],o[1]).scale(i.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof s?-s.apply(this,arguments):-s),e,c)},n,i)},j.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=cE(this.that).datum();h.call(e,this.that,new l_(e,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:h}),t)}},x.wheelDelta=function(e){return arguments.length?(i="function"==typeof e?e:o_(+e),x):i},x.filter=function(e){return arguments.length?(n="function"==typeof e?e:o_(!!e),x):n},x.touchable=function(e){return arguments.length?(o="function"==typeof e?e:o_(!!e),x):o},x.extent=function(e){return arguments.length?(r="function"==typeof e?e:o_([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),x):r},x.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],x):[l[0],l[1]]},x.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],x):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},x.constrain=function(e){return arguments.length?(a=e,x):a},x.duration=function(e){return arguments.length?(d=+e,x):d},x.interpolate=function(e){return arguments.length?(u=e,x):u},x.on=function(){var e=h.on.apply(h,arguments);return e===h?x:e},x.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,x):Math.sqrt(m)},x.tapDistance=function(e){return arguments.length?(p=+e,x):p},x}function b_(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function j_(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?b_(Object(s),!0).forEach(function(t){N_(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):b_(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function w_(e){return(w_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N_(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},k_.apply(this,arguments)}function S_(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function C_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==s)return;var n,r,a=[],i=!0,o=!1;try{for(s=s.call(e);!(i=(n=s.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(zT){o=!0,r=zT}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E_(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);"Object"===s&&e.constructor&&(s=e.constructor.name);if("Map"===s||"Set"===s)return Array.from(e);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return E_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E_(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}c_.prototype;var __=["width","height","projection","projectionConfig"],T_=tS,P_=S_(VS,["geoPath"]),A_=s.createContext(),R_=function(e){var t=e.width,n=e.height,r=e.projection,i=e.projectionConfig,o=S_(e,__),l=C_(i.center||[],2),c=l[0],d=l[1],u=C_(i.rotate||[],3),h=u[0],m=u[1],p=u[2],x=C_(i.parallels||[],2),f=x[0],g=x[1],v=i.scale||null,y=s.useMemo(function(){return function(e){var t=e.projectionConfig,s=void 0===t?{}:t,n=e.projection,r=void 0===n?"geoEqualEarth":n,a=e.width,i=void 0===a?800:a,o=e.height,l=void 0===o?600:o;if("function"==typeof r)return r;var c=P_[r]().translate([i/2,l/2]);return[c.center?"center":null,c.rotate?"rotate":null,c.scale?"scale":null,c.parallels?"parallels":null].forEach(function(e){e&&(c=c[e](s[e]||c[e]()))}),c}({projectionConfig:{center:c||0===c||d||0===d?[c,d]:null,rotate:h||0===h||m||0===m?[h,m,p]:null,parallels:f||0===f||g||0===g?[f,g]:null,scale:v},projection:r,width:t,height:n})},[t,n,r,c,d,h,m,p,f,g,v]),b=s.useCallback(y,[y]),j=s.useMemo(function(){return{width:t,height:n,projection:b,path:T_().projection(b)}},[t,n,b]);return a.createElement(A_.Provider,k_({value:j},o))};R_.propTypes={width:F.number,height:F.number,projection:F.oneOfType([F.string,F.func]),projectionConfig:F.object};var M_=["width","height","projection","projectionConfig","className"],D_=s.forwardRef(function(e,t){var s=e.width,n=void 0===s?800:s,r=e.height,i=void 0===r?600:r,o=e.projection,l=void 0===o?"geoEqualEarth":o,c=e.projectionConfig,d=void 0===c?{}:c,u=e.className,h=void 0===u?"":u,m=S_(e,M_);return a.createElement(R_,{width:n,height:i,projection:l,projectionConfig:d},a.createElement("svg",k_({ref:t,viewBox:"0 0 ".concat(n," ").concat(i),className:"rsm-svg ".concat(h)},m)))});function L_(e,t,s){var n=(e*s.k-e)/2,r=(t*s.k-t)/2;return[e/2-(n+s.x)/s.k,t/2-(r+s.y)/s.k]}function I_(e,t){if(!("Topology"===e.type))return t?t(e.features||e):e.features||e;var s,n,r=(s=e,n=e.objects[Object.keys(e.objects)[0]],"string"==typeof n&&(n=s.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(e){return US(s,e)})}:US(s,n)).features;return t?t(r):r}function O_(e){return"Topology"===e.type?{outline:YS(e,e.objects[Object.keys(e.objects)[0]],function(e,t){return e===t}),borders:YS(e,e.objects[Object.keys(e.objects)[0]],function(e,t){return e!==t})}:null}function F_(e,t){return e?e.map(function(e,s){return j_(j_({},e),{},{rsmKey:"geo-".concat(s),svgPath:t(e)})}):[]}function z_(e){var t=e.geography,n=e.parseGeographies,r=s.useContext(A_).path,a=C_(s.useState({}),2),i=a[0],o=a[1];s.useEffect(function(){var e;"undefined"!==("undefined"==typeof window?"undefined":w_(window))&&(t&&("string"==typeof t?(e=t,fetch(e).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){})).then(function(e){e&&o({geographies:I_(e,n),mesh:O_(e)})}):o({geographies:I_(t,n),mesh:O_(t)})))},[t,n]);var l=s.useMemo(function(){var e=i.mesh||{},t=function(e,t,s){return e&&t?{outline:j_(j_({},e),{},{rsmKey:"outline",svgPath:s(e)}),borders:j_(j_({},t),{},{rsmKey:"borders",svgPath:s(t)})}:{}}(e.outline,e.borders,r);return{geographies:F_(i.geographies,r),outline:t.outline,borders:t.borders}},[i,r]);return{geographies:l.geographies,outline:l.outline,borders:l.borders}}D_.displayName="ComposableMap",D_.propTypes={width:F.number,height:F.number,projection:F.oneOfType([F.string,F.func]),projectionConfig:F.object,className:F.string};var V_=["geography","children","parseGeographies","className"],B_=s.forwardRef(function(e,t){var n=e.geography,r=e.children,i=e.parseGeographies,o=e.className,l=void 0===o?"":o,c=S_(e,V_),d=s.useContext(A_),u=d.path,h=d.projection,m=z_({geography:n,parseGeographies:i}),p=m.geographies,x=m.outline,f=m.borders;return a.createElement("g",k_({ref:t,className:"rsm-geographies ".concat(l)},c),p&&p.length>0&&r({geographies:p,outline:x,borders:f,path:u,projection:h}))});B_.displayName="Geographies",B_.propTypes={geography:F.oneOfType([F.string,F.object,F.array]),children:F.func,parseGeographies:F.func,className:F.string};var U_=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],$_=s.forwardRef(function(e,t){var n=e.geography,r=e.onMouseEnter,i=e.onMouseLeave,o=e.onMouseDown,l=e.onMouseUp,c=e.onFocus,d=e.onBlur,u=e.style,h=void 0===u?{}:u,m=e.className,p=void 0===m?"":m,x=S_(e,U_),f=C_(s.useState(!1),2),g=f[0],v=f[1],y=C_(s.useState(!1),2),b=y[0],j=y[1];return a.createElement("path",k_({ref:t,tabIndex:"0",className:"rsm-geography ".concat(p),d:n.svgPath,onMouseEnter:function(e){j(!0),r&&r(e)},onMouseLeave:function(e){j(!1),g&&v(!1),i&&i(e)},onFocus:function(e){j(!0),c&&c(e)},onBlur:function(e){j(!1),g&&v(!1),d&&d(e)},onMouseDown:function(e){v(!0),o&&o(e)},onMouseUp:function(e){v(!1),l&&l(e)},style:h[g||b?g?"pressed":"hover":"default"]},x))});$_.displayName="Geography",$_.propTypes={geography:F.object,onMouseEnter:F.func,onMouseLeave:F.func,onMouseDown:F.func,onMouseUp:F.func,onFocus:F.func,onBlur:F.func,style:F.object,className:F.string};var W_=s.memo($_),Y_=["fill","stroke","step","className"],K_=s.forwardRef(function(e,t){var n=e.fill,r=void 0===n?"transparent":n,i=e.stroke,o=void 0===i?"currentcolor":i,l=e.step,c=void 0===l?[10,10]:l,d=e.className,u=void 0===d?"":d,h=S_(e,Y_),m=s.useContext(A_).path;return a.createElement("path",k_({ref:t,d:m(sk().step(c)()),fill:r,stroke:o,className:"rsm-graticule ".concat(u)},h))});K_.displayName="Graticule",K_.propTypes={fill:F.string,stroke:F.string,step:F.array,className:F.string},s.memo(K_);var G_=["value"],H_=s.createContext(),q_={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},X_=function(e){var t=e.value,s=void 0===t?q_:t,n=S_(e,G_);return a.createElement(H_.Provider,k_({value:s},n))};X_.propTypes={x:F.number,y:F.number,k:F.number,transformString:F.string};var Z_=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],J_=s.forwardRef(function(e,t){var n=e.center,r=void 0===n?[0,0]:n,i=e.zoom,o=void 0===i?1:i,l=e.minZoom,c=void 0===l?1:l,d=e.maxZoom,u=void 0===d?8:d,h=e.translateExtent,m=e.filterZoomEvent,p=e.onMoveStart,x=e.onMove,f=e.onMoveEnd,g=e.className,v=S_(e,Z_),y=s.useContext(A_),b=y.width,j=y.height,w=function(e){var t=e.center,n=e.filterZoomEvent,r=e.onMoveStart,a=e.onMoveEnd,i=e.onMove,o=e.translateExtent,l=void 0===o?[[-1/0,-1/0],[1/0,1/0]]:o,c=e.scaleExtent,d=void 0===c?[1,8]:c,u=e.zoom,h=void 0===u?1:u,m=s.useContext(A_),p=m.width,x=m.height,f=m.projection,g=C_(t,2),v=g[0],y=g[1],b=C_(s.useState({x:0,y:0,k:1}),2),j=b[0],w=b[1],N=s.useRef({x:0,y:0,k:1}),k=s.useRef(),S=s.useRef(),C=s.useRef(!1),E=C_(l,2),_=E[0],T=E[1],P=C_(_,2),A=P[0],R=P[1],M=C_(T,2),D=M[0],L=M[1],I=C_(d,2),O=I[0],F=I[1];return s.useEffect(function(){var e=cE(k.current),t=y_().filter(function(e){return n?n(e):!!e&&!e.ctrlKey&&!e.button}).scaleExtent([O,F]).translateExtent([[A,R],[D,L]]).on("start",function(e){r&&!C.current&&r({coordinates:f.invert(L_(p,x,e.transform)),zoom:e.transform.k},e)}).on("zoom",function(e){if(!C.current){var t=e.transform,s=e.sourceEvent;w({x:t.x,y:t.y,k:t.k,dragging:s}),i&&i({x:t.x,y:t.y,zoom:t.k,dragging:s},e)}}).on("end",function(e){if(C.current)C.current=!1;else{var t=C_(f.invert(L_(p,x,e.transform)),2),s=t[0],n=t[1];N.current={x:s,y:n,k:e.transform.k},a&&a({coordinates:[s,n],zoom:e.transform.k},e)}});S.current=t,e.call(t)},[p,x,A,R,D,L,O,F,f,r,i,a,n]),s.useEffect(function(){if(v!==N.current.x||y!==N.current.y||h!==N.current.k){var e=f([v,y]),t=e[0]*h,s=e[1]*h,n=cE(k.current);C.current=!0,n.call(S.current.transform,d_.translate(p/2-t,x/2-s).scale(h)),w({x:p/2-t,y:x/2-s,k:h}),N.current={x:v,y:y,k:h}}},[v,y,h,p,x,f]),{mapRef:k,position:j,transformString:"translate(".concat(j.x," ").concat(j.y,") scale(").concat(j.k,")")}}({center:r,filterZoomEvent:m,onMoveStart:p,onMove:x,onMoveEnd:f,scaleExtent:[c,u],translateExtent:h,zoom:o}),N=w.mapRef,k=w.transformString,S=w.position;return a.createElement(X_,{value:{x:S.x,y:S.y,k:S.k,transformString:k}},a.createElement("g",{ref:N},a.createElement("rect",{width:b,height:j,fill:"transparent"}),a.createElement("g",k_({ref:t,transform:k,className:"rsm-zoomable-group ".concat(g)},v))))});J_.displayName="ZoomableGroup",J_.propTypes={center:F.array,zoom:F.number,minZoom:F.number,maxZoom:F.number,translateExtent:F.arrayOf(F.array),onMoveStart:F.func,onMove:F.func,onMoveEnd:F.func,className:F.string};var Q_=["id","fill","stroke","strokeWidth","className"],eT=s.forwardRef(function(e,t){var n=e.id,r=void 0===n?"rsm-sphere":n,i=e.fill,o=void 0===i?"transparent":i,l=e.stroke,c=void 0===l?"currentcolor":l,d=e.strokeWidth,u=void 0===d?.5:d,h=e.className,m=void 0===h?"":h,p=S_(e,Q_),x=s.useContext(A_).path,f=s.useMemo(function(){return x({type:"Sphere"})},[x]);return a.createElement(s.Fragment,null,a.createElement("defs",null,a.createElement("clipPath",{id:r},a.createElement("path",{d:f}))),a.createElement("path",k_({ref:t,d:f,fill:o,stroke:c,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(m)},p)))});eT.displayName="Sphere",eT.propTypes={id:F.string,fill:F.string,stroke:F.string,strokeWidth:F.number,className:F.string},s.memo(eT);var tT=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],sT=s.forwardRef(function(e,t){var n=e.coordinates,r=e.children,i=e.onMouseEnter,o=e.onMouseLeave,l=e.onMouseDown,c=e.onMouseUp,d=e.onFocus,u=e.onBlur,h=e.style,m=void 0===h?{}:h,p=e.className,x=void 0===p?"":p,f=S_(e,tT),g=s.useContext(A_).projection,v=C_(s.useState(!1),2),y=v[0],b=v[1],j=C_(s.useState(!1),2),w=j[0],N=j[1],k=C_(g(n),2),S=k[0],C=k[1];return a.createElement("g",k_({ref:t,transform:"translate(".concat(S,", ").concat(C,")"),className:"rsm-marker ".concat(x),onMouseEnter:function(e){N(!0),i&&i(e)},onMouseLeave:function(e){N(!1),y&&b(!1),o&&o(e)},onFocus:function(e){N(!0),d&&d(e)},onBlur:function(e){N(!1),y&&b(!1),u&&u(e)},onMouseDown:function(e){b(!0),l&&l(e)},onMouseUp:function(e){b(!1),c&&c(e)},style:m[y||w?y?"pressed":"hover":"default"]},f),r)});sT.displayName="Marker",sT.propTypes={coordinates:F.array,children:F.oneOfType([F.node,F.arrayOf(F.node)]),onMouseEnter:F.func,onMouseLeave:F.func,onMouseDown:F.func,onMouseUp:F.func,onFocus:F.func,onBlur:F.func,style:F.object,className:F.string};var nT=["from","to","coordinates","stroke","strokeWidth","fill","className"],rT=s.forwardRef(function(e,t){var n=e.from,r=void 0===n?[0,0]:n,i=e.to,o=void 0===i?[0,0]:i,l=e.coordinates,c=e.stroke,d=void 0===c?"currentcolor":c,u=e.strokeWidth,h=void 0===u?3:u,m=e.fill,p=void 0===m?"transparent":m,x=e.className,f=void 0===x?"":x,g=S_(e,nT),v=s.useContext(A_).path,y={type:"LineString",coordinates:l||[r,o]};return a.createElement("path",k_({ref:t,d:v(y),className:"rsm-line ".concat(f),stroke:d,strokeWidth:h,fill:p},g))});rT.displayName="Line",rT.propTypes={from:F.array,to:F.array,coordinates:F.array,stroke:F.string,strokeWidth:F.number,fill:F.string,className:F.string};var aT=["subject","children","connectorProps","dx","dy","curve","className"],iT=s.forwardRef(function(e,t){var n=e.subject,r=e.children,i=e.connectorProps,o=e.dx,l=void 0===o?30:o,c=e.dy,d=void 0===c?30:c,u=e.curve,h=void 0===u?0:u,m=e.className,p=void 0===m?"":m,x=S_(e,aT),f=C_((0,s.useContext(A_).projection)(n),2),g=f[0],v=f[1],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=Array.isArray(s)?s:[s,s],r=e/2*n[0],a=t/2*n[1];return"M".concat(0,",",0," Q",-e/2-r,",").concat(-t/2+a," ").concat(-e,",").concat(-t)}(l,d,h);return a.createElement("g",k_({ref:t,transform:"translate(".concat(g+l,", ").concat(v+d,")"),className:"rsm-annotation ".concat(p)},x),a.createElement("path",k_({d:y,fill:"transparent",stroke:"#000"},i)),r)});iT.displayName="Annotation",iT.propTypes={subject:F.array,children:F.oneOfType([F.node,F.arrayOf(F.node)]),dx:F.number,dy:F.number,curve:F.number,connectorProps:F.object,className:F.string};const oT=()=>{var e,t;const[n,r]=s.useState([]),[a,i]=s.useState([]),[o,l]=s.useState(!0),[c,d]=s.useState(0);s.useEffect(()=>{u()},[]);const u=async()=>{try{l(!0);const e=await fetch("/api/analytics/geographic-distribution");if(e.ok){const t=(await e.json()).countries||[];r(t);const s=[...t].sort((e,t)=>t.visitors-e.visitors).slice(0,5);i(s);const n=t.reduce((e,t)=>e+t.visitors,0);d(n)}else r([]),i([]),d(0)}catch(e){r([]),i([]),d(0)}finally{l(!1)}},h=n.length>0?z().domain(n.map(e=>e.visitors)).range(["#1e3a8a","#1e40af","#1d4ed8","#2563eb","#3b82f6","#60a5fa"]):()=>"#1e3a8a",m=e=>{const t=n.find(t=>t.country_code===e.id||t.country_code===e.properties.ISO_A2||t.country_name.toLowerCase()===e.properties.name.toLowerCase());return t?h(t.visitors):"#0f172a"};return o?mt.jsx("div",{className:"min-h-screen bg-slate-900 p-6",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"mb-8",children:[mt.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-2",children:[mt.jsx(W,{className:"h-8 w-8"}),"Geographic Distribution"]}),mt.jsx("p",{className:"text-slate-400",children:"Analyzing visitor distribution across the globe..."})]}),mt.jsx("div",{className:"flex items-center justify-center p-12",children:mt.jsxs("div",{className:"text-center",children:[mt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),mt.jsx("p",{className:"text-slate-400",children:"Loading geographic data..."})]})})]})}):mt.jsx("div",{className:"min-h-screen bg-slate-900 p-6",children:mt.jsxs("div",{className:"max-w-7xl mx-auto",children:[mt.jsxs("div",{className:"mb-8",children:[mt.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-2",children:[mt.jsx(W,{className:"h-8 w-8"}),"Geographic Distribution"]}),mt.jsx("p",{className:"text-slate-400",children:"Track visitor locations and regional performance"})]}),mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{className:"pb-3",children:mt.jsxs(uc,{className:"text-sm font-medium text-slate-400 flex items-center gap-2",children:[mt.jsx(ue,{className:"h-4 w-4"}),"Total Visitors"]})}),mt.jsx(mc,{children:mt.jsx("div",{className:"text-3xl font-bold text-white",children:c.toLocaleString()})})]}),mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{className:"pb-3",children:mt.jsxs(uc,{className:"text-sm font-medium text-slate-400 flex items-center gap-2",children:[mt.jsx(He,{className:"h-4 w-4"}),"Countries Reached"]})}),mt.jsx(mc,{children:mt.jsx("div",{className:"text-3xl font-bold text-white",children:n.length})})]}),mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsx(dc,{className:"pb-3",children:mt.jsxs(uc,{className:"text-sm font-medium text-slate-400 flex items-center gap-2",children:[mt.jsx(B,{className:"h-4 w-4"}),"Top Country"]})}),mt.jsxs(mc,{children:[mt.jsx("div",{className:"text-2xl font-bold text-white",children:(null==(e=a[0])?void 0:e.country_name)||"N/A"}),mt.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[(null==(t=a[0])?void 0:t.visitors.toLocaleString())||0," visitors"]})]})]})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[mt.jsxs(cc,{className:"lg:col-span-2 bg-slate-800 border-slate-700",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-white",children:"Global Visitor Distribution"}),mt.jsx(hc,{className:"text-slate-400",children:"Interactive map showing visitor traffic by country"})]}),mt.jsxs(mc,{children:[mt.jsx("div",{className:"w-full h-96 bg-slate-900 rounded-lg overflow-hidden",children:n.length>0?mt.jsx(D_,{projectionConfig:{scale:147,rotation:[-11,0,0]},width:800,height:400,style:{width:"100%",height:"100%"},children:mt.jsx(B_,{geography:"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json",children:({geographies:e})=>e.map(e=>mt.jsx(W_,{geography:e,fill:m(e),stroke:"#334155",strokeWidth:.5,style:{default:{outline:"none"},hover:{fill:"#3b82f6",outline:"none",cursor:"pointer"},pressed:{outline:"none"}}},e.rsmKey))})}):mt.jsx("div",{className:"flex items-center justify-center h-full",children:mt.jsxs("div",{className:"text-center",children:[mt.jsx(W,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),mt.jsx("p",{className:"text-slate-400",children:"No geographic data available yet"}),mt.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Start tracking links to see visitor locations"})]})})}),n.length>0&&mt.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[mt.jsx("span",{className:"text-sm text-slate-400",children:"Visitors:"}),mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx("div",{className:"w-8 h-4 bg-gradient-to-r from-slate-800 to-blue-500 rounded"}),mt.jsx("span",{className:"text-xs text-slate-400",children:"Low to High"})]})]})]})]}),mt.jsxs(cc,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-white",children:"Top Countries"}),mt.jsx(hc,{className:"text-slate-400",children:"Highest visitor traffic by region"})]}),mt.jsx(mc,{children:mt.jsx("div",{className:"space-y-4",children:a.length>0?a.map((e,t)=>{const s=c>0?(e.visitors/c*100).toFixed(1):0;return mt.jsxs("div",{className:"space-y-2",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsxs(Ud,{variant:"outline",className:"bg-blue-900/20 text-blue-400 border-blue-700",children:["#",t+1]}),mt.jsx("span",{className:"text-white font-medium",children:e.country_name})]}),mt.jsx("span",{className:"text-slate-400 text-sm",children:e.visitors.toLocaleString()})]}),mt.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:mt.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${s}%`}})}),mt.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[mt.jsxs("span",{children:[s,"% of total"]}),mt.jsxs("span",{children:[e.city_count||0," cities"]})]})]},t)}):mt.jsxs("div",{className:"text-center py-8",children:[mt.jsx(He,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),mt.jsx("p",{className:"text-slate-400",children:"No country data yet"}),mt.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Data will appear as visitors click your links"})]})})})]})]})]})})},lT=()=>{const[e,t]=s.useState({botProtection:!0,ipBlocking:!0,rateLimiting:!0,geoBlocking:!1,vpnDetection:!0,suspiciousActivityDetection:!0}),[n,r]=s.useState([]),[a,i]=s.useState([]),[o,l]=s.useState([]),[c,d]=s.useState(""),[u,h]=s.useState(""),[m,p]=s.useState(!0);s.useEffect(()=>{x()},[]);const x=async()=>{p(!0);try{const[s,n,a,o]=await Promise.all([fetch("/api/security/settings",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/security/blocked-ips",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/security/blocked-countries",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),fetch("/api/security/events",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]);if(s.ok){const n=await s.json();t(n.settings||e)}if(n.ok){const e=await n.json();r(e.blocked_ips||[])}if(a.ok){const e=await a.json();i(e.blocked_countries||[])}if(o.ok){const e=await o.json();l(e.events||[])}}catch(s){t({botProtection:!1,ipBlocking:!1,rateLimiting:!1,geoBlocking:!1,vpnDetection:!1,suspiciousActivityDetection:!1}),r([]),i([]),l([])}finally{p(!1)}},f=async(e,s)=>{t(t=>({...t,[e]:s}));try{await fetch("/api/security/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({[e]:s})})}catch(n){}},g=e=>{const t={high:{color:"bg-red-600",text:"High"},medium:{color:"bg-yellow-600",text:"Medium"},low:{color:"bg-green-600",text:"Low"}},s=t[e]||t.low;return mt.jsx(Ud,{className:`${s.color} text-white`,children:s.text})},v=e=>{const t={blocked:{color:"bg-red-600",text:"Blocked"},throttled:{color:"bg-yellow-600",text:"Throttled"},flagged:{color:"bg-orange-600",text:"Flagged"},allowed:{color:"bg-green-600",text:"Allowed"}},s=t[e]||t.allowed;return mt.jsx(Ud,{className:`${s.color} text-white`,children:s.text})};return mt.jsxs("div",{className:"p-6 space-y-6",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx(Y,{className:"h-8 w-8 text-red-400"}),mt.jsxs("div",{children:[mt.jsx("h1",{className:"text-2xl font-bold text-white",children:"Security"}),mt.jsx("p",{className:"text-slate-400",children:"Security and privacy settings"})]})]}),mt.jsxs(oc,{onClick:x,variant:"outline",size:"sm",className:"border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[mt.jsx(re,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),m?mt.jsxs("div",{className:"text-center py-12",children:[mt.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),mt.jsx("p",{className:"text-muted-foreground mt-4",children:"Loading security data..."})]}):mt.jsxs(mt.Fragment,{children:[mt.jsxs(cc,{className:"bg-card border-border",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-foreground",children:"Security Settings"}),mt.jsx(hc,{className:"text-muted-foreground",children:"Configure your security and protection settings"})]}),mt.jsx(mc,{className:"space-y-6",children:mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-foreground font-medium",children:"Bot Protection"}),mt.jsx("p",{className:"text-muted-foreground text-sm",children:"Detect and block automated traffic"})]}),mt.jsx(kh,{checked:e.botProtection,onCheckedChange:e=>f("botProtection",e)})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-foreground font-medium",children:"IP Blocking"}),mt.jsx("p",{className:"text-muted-foreground text-sm",children:"Block suspicious IP addresses"})]}),mt.jsx(kh,{checked:e.ipBlocking,onCheckedChange:e=>f("ipBlocking",e)})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-foreground font-medium",children:"Rate Limiting"}),mt.jsx("p",{className:"text-muted-foreground text-sm",children:"Limit requests per IP address"})]}),mt.jsx(kh,{checked:e.rateLimiting,onCheckedChange:e=>f("rateLimiting",e)})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-foreground font-medium",children:"Geo Blocking"}),mt.jsx("p",{className:"text-muted-foreground text-sm",children:"Block traffic from specific countries"})]}),mt.jsx(kh,{checked:e.geoBlocking,onCheckedChange:e=>f("geoBlocking",e)})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-foreground font-medium",children:"VPN Detection"}),mt.jsx("p",{className:"text-muted-foreground text-sm",children:"Detect VPN and proxy traffic"})]}),mt.jsx(kh,{checked:e.vpnDetection,onCheckedChange:e=>f("vpnDetection",e)})]}),mt.jsxs("div",{className:"flex items-center justify-between",children:[mt.jsxs("div",{children:[mt.jsx(uu,{className:"text-foreground font-medium",children:"Suspicious Activity Detection"}),mt.jsx("p",{className:"text-muted-foreground text-sm",children:"Monitor for unusual patterns"})]}),mt.jsx(kh,{checked:e.suspiciousActivityDetection,onCheckedChange:e=>f("suspiciousActivityDetection",e)})]})]})})]}),mt.jsxs(cc,{className:"bg-card border-border",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-foreground",children:"Blocked IP Addresses"}),mt.jsx(hc,{className:"text-muted-foreground",children:"Manage blocked IP addresses"})]}),mt.jsxs(mc,{children:[mt.jsxs("div",{className:"flex gap-2 mb-4",children:[mt.jsx(ou,{placeholder:"Enter IP address to block",value:c,onChange:e=>d(e.target.value),className:"bg-input border-border text-foreground"}),mt.jsxs(oc,{onClick:async()=>{if(!c)return;const e={ip:c,reason:"Manual block",blockedAt:(new Date).toISOString(),attempts:0};r(t=>[e,...t]),d("");try{await fetch("/api/security/blocked-ips",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)})}catch(t){}},className:"bg-primary hover:bg-primary/90",children:[mt.jsx(xe,{className:"h-4 w-4 mr-1"}),"Block IP"]})]}),mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-border",children:[mt.jsx(cm,{className:"text-muted-foreground",children:"IP Address"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Reason"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Blocked At"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Attempts"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Actions"})]})}),mt.jsx(om,{children:n.map((e,t)=>mt.jsxs(lm,{className:"border-border",children:[mt.jsx(dm,{className:"text-foreground font-mono",children:e.ip}),mt.jsx(dm,{className:"text-foreground",children:e.reason}),mt.jsx(dm,{className:"text-muted-foreground",children:e.blockedAt}),mt.jsx(dm,{className:"text-foreground",children:e.attempts}),mt.jsx(dm,{children:mt.jsx(oc,{size:"sm",variant:"outline",onClick:()=>(async e=>{r(t=>t.filter(t=>t.ip!==e));try{await fetch(`/api/security/blocked-ips/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(t){}})(e.ip),className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:mt.jsx(tt,{className:"h-4 w-4"})})})]},t))})]})]})]}),mt.jsxs(cc,{className:"bg-card border-border",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-foreground",children:"Blocked Countries"}),mt.jsx(hc,{className:"text-muted-foreground",children:"Manage geo-blocked countries"})]}),mt.jsxs(mc,{children:[mt.jsxs("div",{className:"flex gap-2 mb-4",children:[mt.jsx(ou,{placeholder:"Enter country name to block",value:u,onChange:e=>h(e.target.value),className:"bg-input border-border text-foreground"}),mt.jsxs(oc,{onClick:async()=>{if(!u)return;const e={country:u,code:u.substring(0,2).toUpperCase(),reason:"Manual block",blockedAt:(new Date).toISOString()};i(t=>[e,...t]),h("");try{await fetch("/api/security/blocked-countries",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)})}catch(t){}},className:"bg-primary hover:bg-primary/90",children:[mt.jsx(xe,{className:"h-4 w-4 mr-1"}),"Block Country"]})]}),mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-border",children:[mt.jsx(cm,{className:"text-muted-foreground",children:"Country"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Code"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Reason"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Blocked At"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Actions"})]})}),mt.jsx(om,{children:a.map((e,t)=>mt.jsxs(lm,{className:"border-border",children:[mt.jsx(dm,{className:"text-foreground",children:e.country}),mt.jsx(dm,{className:"text-foreground",children:e.code}),mt.jsx(dm,{className:"text-muted-foreground",children:e.reason}),mt.jsx(dm,{className:"text-muted-foreground",children:e.blockedAt}),mt.jsx(dm,{children:mt.jsx(oc,{size:"sm",variant:"outline",onClick:()=>(async e=>{i(t=>t.filter(t=>t.country!==e));try{await fetch(`/api/security/blocked-countries/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(t){}})(e.country),className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:mt.jsx(tt,{className:"h-4 w-4"})})})]},t))})]})]})]}),mt.jsxs(cc,{className:"bg-card border-border",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{className:"text-foreground",children:"Security Events"}),mt.jsx(hc,{className:"text-muted-foreground",children:"Recent security events and logs"})]}),mt.jsx(mc,{children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-border",children:[mt.jsx(cm,{className:"text-muted-foreground",children:"Time"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Type"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Source IP"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Severity"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Action"}),mt.jsx(cm,{className:"text-muted-foreground",children:"Details"})]})}),mt.jsx(om,{children:o.map((e,t)=>mt.jsxs(lm,{className:"border-border",children:[mt.jsx(dm,{className:"text-muted-foreground text-sm",children:mt.jsxs("div",{className:"flex items-center gap-1",children:[mt.jsx(pe,{className:"h-3 w-3"}),e.timestamp]})}),mt.jsx(dm,{className:"text-foreground",children:e.type}),mt.jsx(dm,{className:"text-foreground font-mono",children:e.sourceIp}),mt.jsx(dm,{children:g(e.severity)}),mt.jsx(dm,{children:v(e.action)}),mt.jsx(dm,{className:"text-muted-foreground max-w-xs truncate",children:e.details})]},t))})]})})]})]})]})},cT=()=>{var e;const[t,n]=s.useState([]),[r,a]=s.useState(!0),[i,o]=s.useState(!1),[l,c]=s.useState(""),[d,u]=s.useState("all"),[h,m]=s.useState(!1),[p,x]=s.useState([]),[f,g]=s.useState({totalLinks:0,totalClicks:0,activeLinks:0,avgCTR:0}),[v,y]=s.useState({originalUrl:"",customShortCode:"",domain:"vercel",campaign:"",expiration_period:"never"}),[b,j]=s.useState(!1),[w,N]=s.useState("");s.useEffect(()=>{C(),S(),k()},[]);const k=async()=>{try{const e=await fetch("/api/domains",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();t.success&&t.domains&&x(t.domains)}}catch(e){}},S=async()=>{var e,t,s,n;try{const r=await fetch("/api/analytics/dashboard?period=30",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(r.ok){const a=await r.json();g({totalLinks:(null==(e=a.analytics)?void 0:e.totalLinks)||0,totalClicks:(null==(t=a.analytics)?void 0:t.totalClicks)||0,activeLinks:(null==(s=a.analytics)?void 0:s.activeLinks)||0,avgCTR:(null==(n=a.analytics)?void 0:n.avgClicksPerLink)||0})}}catch(r){}},C=async()=>{a(!0);try{const e=await fetch("/api/links",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();n(t.links||[])}}catch(e){}finally{a(!1)}},E=e=>{y({...v,[e.target.name]:e.target.value})},_=t.filter(e=>{var t,s,n;const r=(null==(t=e.title)?void 0:t.toLowerCase().includes(l.toLowerCase()))||(null==(s=e.short_code)?void 0:s.toLowerCase().includes(l.toLowerCase()))||(null==(n=e.original_url)?void 0:n.toLowerCase().includes(l.toLowerCase())),a="all"===d||"active"===d&&e.is_active||"inactive"===d&&!e.is_active;return r&&a});return r?mt.jsxs("div",{className:"flex items-center justify-center h-64",children:[mt.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),mt.jsx("span",{className:"ml-2",children:"Loading links..."})]}):mt.jsxs("div",{className:"space-y-6",children:[mt.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[mt.jsxs("div",{children:[mt.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Link Shortener"}),mt.jsx("p",{className:"text-slate-400",children:"Create and manage your shortened tracking links"})]}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsxs(oc,{onClick:async()=>{m(!0),await C(),await S(),m(!1)},variant:"outline",disabled:h,children:[mt.jsx(re,{className:"h-4 w-4 mr-2 "+(h?"animate-spin":"")}),"Refresh"]}),mt.jsxs(nh,{open:i,onOpenChange:o,children:[mt.jsx(rh,{asChild:!0,children:mt.jsxs(oc,{children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create Link"]})}),mt.jsxs(oh,{className:"sm:max-w-[450px] mx-auto",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{className:"text-center",children:"Create New Shortened Link"}),mt.jsx(uh,{className:"text-center",children:"Generate a shortened tracking link with custom parameters and analytics."})]}),mt.jsxs("form",{onSubmit:async e=>{e.preventDefault(),j(!0),N("");try{const e=await fetch("/api/links",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({original_url:v.originalUrl,title:v.campaign||"Untitled Link",campaign_name:v.campaign||"Default Campaign",short_code:v.customShortCode||void 0})});if(e.ok){await e.json();o(!1),y({originalUrl:"",customShortCode:"",domain:"vercel",campaign:"",expiration_period:"never"}),await C(),await S(),alert("Link created successfully!")}else{const t=await e.json();N(t.error||"Failed to create link")}}catch(t){N("Failed to create link")}finally{j(!1)}},className:"space-y-4 mt-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"originalUrl",children:"Original URL *"}),mt.jsx(ou,{id:"originalUrl",name:"originalUrl",type:"url",placeholder:"https://example.com",value:v.originalUrl,onChange:E,required:!0})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"campaign",children:"Campaign Name"}),mt.jsx(ou,{id:"campaign",name:"campaign",placeholder:"My Campaign",value:v.campaign,onChange:E})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"customShortCode",children:"Custom Short Code (Optional)"}),mt.jsx(ou,{id:"customShortCode",name:"customShortCode",placeholder:"my-link",value:v.customShortCode,onChange:E})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"domain",children:"Domain"}),mt.jsxs(Md,{value:v.domain,onValueChange:e=>y({...v,domain:e}),children:[mt.jsx(Ld,{children:mt.jsx(Dd,{})}),mt.jsx(Id,{children:p.length>0?p.map(e=>mt.jsx(Od,{value:e.value,children:e.label},e.value)):mt.jsxs(mt.Fragment,{children:[mt.jsx(Od,{value:"vercel",children:"Vercel Domain"}),mt.jsx(Od,{value:"shortio",children:"Secure-links.short.gy"})]})})]}),(null==(e=p.find(e=>e.value===v.domain))?void 0:e.description)&&mt.jsx("p",{className:"text-xs text-muted-foreground",children:p.find(e=>e.value===v.domain).description})]}),w&&mt.jsx("div",{className:"text-red-600 text-sm",children:w}),mt.jsxs("div",{className:"flex justify-end gap-2",children:[mt.jsx(oc,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),mt.jsx(oc,{type:"submit",disabled:b,children:b?"Creating...":"Create Link"})]})]})]})]})]})]}),mt.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[mt.jsxs(cc,{children:[mt.jsxs(dc,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[mt.jsx(uc,{className:"text-sm font-medium",children:"Total Links"}),mt.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]}),mt.jsxs(mc,{children:[mt.jsx("div",{className:"text-2xl font-bold",children:f.totalLinks}),mt.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.activeLinks," active"]})]})]}),mt.jsxs(cc,{children:[mt.jsxs(dc,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[mt.jsx(uc,{className:"text-sm font-medium",children:"Total Clicks"}),mt.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),mt.jsxs(mc,{children:[mt.jsx("div",{className:"text-2xl font-bold",children:f.totalClicks}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"All time clicks"})]})]}),mt.jsxs(cc,{children:[mt.jsxs(dc,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[mt.jsx(uc,{className:"text-sm font-medium",children:"Active Links"}),mt.jsx(B,{className:"h-4 w-4 text-muted-foreground"})]}),mt.jsxs(mc,{children:[mt.jsx("div",{className:"text-2xl font-bold",children:f.activeLinks}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),mt.jsxs(cc,{children:[mt.jsxs(dc,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[mt.jsx(uc,{className:"text-sm font-medium",children:"Avg. Clicks/Link"}),mt.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),mt.jsxs(mc,{children:[mt.jsx("div",{className:"text-2xl font-bold",children:f.avgCTR.toFixed(1)}),mt.jsx("p",{className:"text-xs text-muted-foreground",children:"Per link average"})]})]})]}),mt.jsx(cc,{children:mt.jsx(mc,{className:"pt-6",children:mt.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[mt.jsx("div",{className:"flex-1",children:mt.jsxs("div",{className:"relative",children:[mt.jsx(ne,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),mt.jsx(ou,{placeholder:"Search links...",value:l,onChange:e=>c(e.target.value),className:"pl-8"})]})}),mt.jsxs(Md,{value:d,onValueChange:u,children:[mt.jsx(Ld,{className:"w-[180px]",children:mt.jsx(Dd,{})}),mt.jsxs(Id,{children:[mt.jsx(Od,{value:"all",children:"All Links"}),mt.jsx(Od,{value:"active",children:"Active Only"}),mt.jsx(Od,{value:"inactive",children:"Inactive Only"})]})]})]})})}),mt.jsxs(cc,{children:[mt.jsxs(dc,{children:[mt.jsx(uc,{children:"Your Links"}),mt.jsx(hc,{children:"Manage and track your shortened links"})]}),mt.jsx(mc,{children:mt.jsxs("div",{className:"space-y-4",children:[_.map(e=>{return mt.jsx("div",{className:"border rounded-lg p-4",children:mt.jsxs("div",{className:"flex items-start justify-between",children:[mt.jsxs("div",{className:"flex-1 space-y-2",children:[mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx("h3",{className:"font-medium",children:e.title||"Untitled Link"}),(t=e.is_active,t?mt.jsx(Ud,{className:"bg-green-100 text-green-800",children:"Active"}):mt.jsx(Ud,{className:"bg-gray-100 text-gray-800",children:"Inactive"}))]}),mt.jsxs("div",{className:"space-y-1 text-sm",children:[mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx("span",{className:"text-muted-foreground",children:"Short URL:"}),mt.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded text-blue-600",children:[window.location.origin,"/t/",e.short_code]}),mt.jsx(oc,{variant:"ghost",size:"sm",onClick:()=>{return t=`${window.location.origin}/t/${e.short_code}`,navigator.clipboard.writeText(t),void alert("Link copied to clipboard!");var t},children:mt.jsx(we,{className:"h-4 w-4"})})]}),mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx("span",{className:"text-slate-400",children:"Original:"}),mt.jsxs("a",{href:e.original_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center space-x-1",children:[mt.jsx("span",{className:"truncate max-w-md",children:e.original_url}),mt.jsx(st,{className:"h-3 w-3"})]})]}),e.campaign_name&&mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx("span",{className:"text-slate-400",children:"Campaign:"}),mt.jsx("span",{children:e.campaign_name})]}),mt.jsxs("div",{className:"flex items-center space-x-4 text-xs text-slate-400",children:[mt.jsxs("span",{children:["Clicks: ",e.total_clicks||0]}),mt.jsxs("span",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),mt.jsxs("div",{className:"flex items-center space-x-2",children:[mt.jsx(oc,{variant:"ghost",size:"sm",onClick:()=>(async(e,t)=>{try{(await fetch(`/api/links/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({is_active:!t})})).ok?(await C(),await S()):alert("Failed to update link status")}catch(s){alert("Failed to update link")}})(e.id,e.is_active),children:e.is_active?mt.jsx(ze,{className:"h-4 w-4"}):mt.jsx(le,{className:"h-4 w-4"})}),mt.jsx(oc,{variant:"ghost",size:"sm",children:mt.jsx(ve,{className:"h-4 w-4"})}),mt.jsx(oc,{variant:"ghost",size:"sm",onClick:()=>(async e=>{if(confirm("Are you sure you want to delete this link?"))try{(await fetch(`/api/links/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok?(await C(),await S(),alert("Link deleted successfully!")):alert("Failed to delete link")}catch(t){alert("Failed to delete link")}})(e.id),children:mt.jsx(ye,{className:"h-4 w-4"})})]})]})},e.id);var t}),0===_.length&&mt.jsxs("div",{className:"text-center py-8",children:[mt.jsx(ie,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),mt.jsx("h3",{className:"text-lg font-medium mb-2 text-white",children:"No links found"}),mt.jsx("p",{className:"text-slate-400 mb-4",children:l||"all"!==d?"Try adjusting your search or filter criteria":"Create your first shortened link to get started"}),!l&&"all"===d&&mt.jsxs(oc,{onClick:()=>o(!0),children:[mt.jsx(xe,{className:"h-4 w-4 mr-2"}),"Create Your First Link"]})]})]})})]})]})},dT=()=>{const[e,t]=s.useState([]),[n,r]=s.useState(!0),[a,i]=s.useState(!0),[o,l]=s.useState(""),[c,d]=s.useState("all"),[u,h]=s.useState(new Date);s.useEffect(()=>{let e;return m(),a&&(e=setInterval(m,5e3)),()=>{e&&clearInterval(e)}},[a]);const m=async()=>{try{const e=await fetch("/api/events",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const s=await e.json();t(s.events||[]),h(new Date)}else t([]),h(new Date)}catch(e){t([]),h(new Date)}finally{r(!1)}},p=e=>{const t={Open:{color:"bg-blue-600",text:"Open",icon:le},Redirected:{color:"bg-yellow-600",text:"Redirected",icon:oe},"On Page":{color:"bg-green-600",text:"On Page",icon:W},Blocked:{color:"bg-red-600",text:"Blocked",icon:Y},Bot:{color:"bg-purple-600",text:"Bot",icon:Y}},s=t[e]||t.Open,n=s.icon;return mt.jsxs(Ud,{className:`${s.color} text-white flex items-center gap-1`,children:[mt.jsx(n,{className:"h-3 w-3"}),s.text]})},x=e=>{switch(null==e?void 0:e.toLowerCase()){case"iphone":case"android":case"mobile":return mt.jsx(it,{className:"h-4 w-4 text-green-400"});case"tablet":case"ipad":return mt.jsx(at,{className:"h-4 w-4 text-blue-400"});default:return mt.jsx(rt,{className:"h-4 w-4 text-muted-foreground"})}},f=e.filter(e=>{var t,s,n,r,a;const i=(null==(t=e.uniqueId)?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null==(s=e.ip)?void 0:s.toLowerCase().includes(o.toLowerCase()))||(null==(n=e.emailCaptured)?void 0:n.toLowerCase().includes(o.toLowerCase()))||(null==(r=e.location)?void 0:r.toLowerCase().includes(o.toLowerCase()))||(null==(a=e.isp)?void 0:a.toLowerCase().includes(o.toLowerCase()));return"all"===c?i:i&&e.status===c});return mt.jsxs("div",{className:"p-6 space-y-6",children:[mt.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[mt.jsxs("div",{className:"flex items-center gap-3",children:[mt.jsx(me,{className:"h-6 w-6 md:h-8 md:w-8 text-yellow-400"}),mt.jsxs("div",{children:[mt.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:"Live Activity"}),mt.jsx("p",{className:"text-sm md:text-base text-slate-400",children:"Real-time tracking events"}),mt.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground",children:["Last updated: ",u.toLocaleTimeString()]})]})]}),mt.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full lg:w-auto",children:[mt.jsxs("div",{className:"flex items-center justify-between sm:justify-start gap-2",children:[mt.jsx(kh,{checked:a,onCheckedChange:i,id:"auto-refresh"}),mt.jsx(uu,{htmlFor:"auto-refresh",className:"text-foreground text-sm",children:"Auto-refresh"})]}),mt.jsxs("div",{className:"flex gap-2",children:[mt.jsxs(oc,{onClick:m,variant:"outline",size:"sm",className:"flex-1 sm:flex-none border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[mt.jsx(re,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]}),mt.jsxs(oc,{onClick:()=>{if(0===f.length)return void alert("No events to export.");const e=[["Timestamp","Unique ID","Link ID","IP Address","Device","City","Region","Zip Code","Country","Status","User Agent","Browser","OS","ISP","Email Captured","Conversion Value","Session Duration"].join(",")];f.forEach(t=>{const s=[`"${t.timestamp}"`,`"${t.uniqueId}"`,`"${t.linkId}"`,`"${t.ip}"`,`"${t.device}"`,`"${t.city}"`,`"${t.region}"`,`"${t.zipCode}"`,`"${t.country}"`,`"${t.status}"`,`"${t.userAgent||""}"`,`"${t.browser||""}"`,`"${t.os||""}"`,`"${t.isp||""}"`,`"${t.emailCaptured||""}"`,`"${t.conversionValue||0}"`,`"${t.sessionDuration||""}"`];e.push(s.join(","))});const t=e.join("\n"),s=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");n.href=URL.createObjectURL(s),n.setAttribute("download","live_activity_events.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n)},variant:"outline",size:"sm",className:"flex-1 sm:flex-none border-primary text-primary hover:bg-primary hover:text-primary-foreground",children:[mt.jsx(Me,{className:"h-4 w-4 mr-1"}),mt.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]})]}),mt.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[mt.jsxs("div",{className:"relative flex-1",children:[mt.jsx(ne,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),mt.jsx(ou,{placeholder:"Search by ID, IP, email, location...",value:o,onChange:e=>l(e.target.value),className:"pl-10 bg-input border-border text-foreground w-full"})]}),mt.jsxs(Md,{value:c,onValueChange:d,children:[mt.jsx(Ld,{className:"w-full sm:w-48 bg-input border-border text-foreground",children:mt.jsx(Dd,{})}),mt.jsxs(Id,{className:"bg-popover border-border",children:[mt.jsx(Od,{value:"all",children:"All Events"}),mt.jsx(Od,{value:"Open",children:"Open"}),mt.jsx(Od,{value:"Redirected",children:"Redirected"}),mt.jsx(Od,{value:"On Page",children:"On Page"}),mt.jsx(Od,{value:"Blocked",children:"Blocked"}),mt.jsx(Od,{value:"Bot",children:"Bots"})]})]})]}),mt.jsxs(cc,{className:"bg-card border-border",children:[mt.jsxs(dc,{children:[mt.jsxs(uc,{className:"text-foreground flex items-center gap-2",children:["Advanced Live Tracking Events",mt.jsxs(Ud,{variant:"outline",className:"border-primary text-primary",children:[f.length," events"]})]}),mt.jsx(hc,{className:"text-muted-foreground",children:"Comprehensive real-time tracking with detailed user information and email capture"})]}),mt.jsx(mc,{children:n?mt.jsxs("div",{className:"text-center py-8",children:[mt.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),mt.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading events..."})]}):0===f.length?mt.jsx("div",{className:"text-center py-8",children:mt.jsx("p",{className:"text-muted-foreground",children:"No tracking events found. Create a tracking link to start collecting data."})}):mt.jsx("div",{className:"overflow-x-auto",children:mt.jsxs(am,{children:[mt.jsx(im,{children:mt.jsxs(lm,{className:"border-border",children:[mt.jsx(cm,{className:"text-muted-foreground",children:"TIMESTAMP"}),mt.jsx(cm,{className:"text-muted-foreground",children:"UNIQUE ID"}),mt.jsx(cm,{className:"text-muted-foreground",children:"IP ADDRESS"}),mt.jsx(cm,{className:"text-muted-foreground",children:"LOCATION"}),mt.jsx(cm,{className:"text-muted-foreground",children:"STATUS"}),mt.jsx(cm,{className:"text-muted-foreground",children:"USER AGENT"}),mt.jsx(cm,{className:"text-muted-foreground",children:"ISP"}),mt.jsx(cm,{className:"text-muted-foreground",children:"EMAIL CAPTURED"}),mt.jsx(cm,{className:"text-muted-foreground",children:"ACTIONS"})]})}),mt.jsx(om,{children:f.map(s=>mt.jsxs(lm,{className:"border-border hover:bg-accent/50",children:[mt.jsx(dm,{className:"text-foreground",children:mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx(pe,{className:"h-4 w-4 text-muted-foreground"}),mt.jsxs("div",{className:"text-sm",children:[mt.jsx("div",{children:s.timestamp}),mt.jsxs("div",{className:"text-xs text-muted-foreground",children:["Session: ",s.sessionDuration]})]})]})}),mt.jsx(dm,{className:"text-foreground",children:mt.jsxs("div",{className:"space-y-1",children:[mt.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs block",children:s.uniqueId}),mt.jsxs("div",{className:"text-xs text-muted-foreground",children:["Link: ",s.linkId]})]})}),mt.jsx(dm,{className:"text-foreground",children:mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx(W,{className:"h-4 w-4 text-blue-400"}),mt.jsxs("div",{children:[mt.jsx("div",{className:"font-mono text-sm",children:s.ip}),mt.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[x(s.device),mt.jsx("span",{children:s.device})]})]})]})}),mt.jsx(dm,{className:"text-foreground",children:mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx(He,{className:"h-4 w-4 text-green-400"}),mt.jsxs("div",{className:"text-sm",children:[mt.jsxs("div",{className:"font-medium",children:[s.city||"Unknown",", ",s.region||"Unknown"]}),mt.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.country||"Unknown"," ",s.zipCode||s.postalCode?` ${s.zipCode||s.postalCode}`:""]})]})]})}),mt.jsx(dm,{children:mt.jsx("div",{className:"space-y-2",children:p(s.status)})}),mt.jsx(dm,{className:"text-foreground",children:mt.jsx("div",{className:"text-sm max-w-48",children:mt.jsx("div",{className:"font-medium",children:s.userAgent&&"Unknown"!==s.userAgent?mt.jsx("span",{className:"truncate",title:s.userAgent,children:s.userAgent}):`${s.browser||"Unknown Browser"} / ${s.os||"Unknown OS"}`})})}),mt.jsx(dm,{className:"text-foreground",children:mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx(nt,{className:"h-4 w-4 text-purple-400"}),mt.jsx("div",{className:"text-sm max-w-24 truncate",children:mt.jsx("div",{className:"font-medium truncate",children:s.isp})})]})}),mt.jsx(dm,{className:"text-foreground",children:s.emailCaptured?mt.jsxs("div",{className:"flex items-center gap-2",children:[mt.jsx(ce,{className:"h-4 w-4 text-green-400"}),mt.jsxs("div",{className:"text-sm",children:[mt.jsx("div",{className:"font-medium text-green-400",children:s.emailCaptured}),s.conversionValue>0&&mt.jsxs("div",{className:"text-xs text-muted-foreground",children:["Value: $",s.conversionValue]})]})]}):mt.jsx("span",{className:"text-muted-foreground text-sm",children:"No email captured"})}),mt.jsx(dm,{children:mt.jsxs("div",{className:"flex items-center gap-1",children:[mt.jsx(oc,{size:"sm",variant:"ghost",onClick:()=>(async e=>{try{await navigator.clipboard.writeText(e)}catch(t){}})(s.uniqueId),className:"h-8 w-8 p-0",title:"Copy ID",children:mt.jsx(we,{className:"h-3 w-3"})}),mt.jsx(oc,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",title:"View Details",children:mt.jsx(st,{className:"h-3 w-3"})}),mt.jsx(oc,{size:"sm",variant:"ghost",onClick:()=>(async s=>{if(window.confirm("Are you sure you want to delete this event?"))try{(await fetch(`/api/events/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&t(e.filter(e=>e.id!==s))}catch(n){}})(s.id),className:"h-8 w-8 p-0 text-red-400 hover:text-red-300",title:"Delete Event",children:mt.jsx(ye,{className:"h-3 w-3"})})]})})]},s.id))})]})})})]})]})};function uT(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:s,scopeName:n})=>({...t,...s(e)[`__scope${n}`]}),{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var hT,mT,pT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=Jl(`Primitive.${t}`),r=s.forwardRef((e,s)=>{const{asChild:r,...a}=e,i=r?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),mt.jsx(i,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),xT={exports:{}},fT={};var gT=(mT||(mT=1,xT.exports=function(){if(hT)return fT;hT=1;var t=e(),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=t.useState,r=t.useEffect,a=t.useLayoutEffect,i=t.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!s(e,n)}catch(r){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),l=n({inst:{value:s,getSnapshot:t}}),c=l[0].inst,d=l[1];return a(function(){c.value=s,c.getSnapshot=t,o(c)&&d({inst:c})},[e,s,t]),r(function(){return o(c)&&d({inst:c}),e(function(){o(c)&&d({inst:c})})},[e]),i(s),s};return fT.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:l,fT}()),xT.exports);function vT(){return()=>{}}var yT="Avatar",[bT]=function(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>s.createContext(e));return function(n){const r=(null==n?void 0:n[e])||t;return s.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const a=s.createContext(r);a.displayName=t+"Context";const i=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...l}=t,c=(null==(n=null==r?void 0:r[e])?void 0:n[i])||a,d=s.useMemo(()=>l,Object.values(l));return mt.jsx(c.Provider,{value:d,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var l;const c=(null==(l=null==o?void 0:o[e])?void 0:l[i])||a,d=s.useContext(c);if(d)return d;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},uT(r,...t)]}(yT),[jT,wT]=bT(yT),NT=s.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=s.useState("idle");return mt.jsx(jT,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:mt.jsx(pT.span,{...r,ref:t})})});NT.displayName=yT;var kT="AvatarImage",ST=s.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=wT(kT,n),l=function(e,{referrerPolicy:t,crossOrigin:n}){const r=gT.useSyncExternalStore(vT,()=>!0,()=>!1),a=s.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=s.useState(()=>_T(i,e));return wt(()=>{l(_T(i,e))},[i,e]),wt(()=>{const e=e=>()=>{l(e)};if(!i)return;const s=e("loaded"),r=e("error");return i.addEventListener("load",s),i.addEventListener("error",r),t&&(i.referrerPolicy=t),"string"==typeof n&&(i.crossOrigin=n),()=>{i.removeEventListener("load",s),i.removeEventListener("error",r)}},[i,n,t]),o}(r,i),c=Ft(e=>{a(e),o.onImageLoadingStatusChange(e)});return wt(()=>{"idle"!==l&&c(l)},[l,c]),"loaded"===l?mt.jsx(pT.img,{...i,ref:t,src:r}):null});ST.displayName=kT;var CT="AvatarFallback",ET=s.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=wT(CT,n),[o,l]=s.useState(void 0===r);return s.useEffect(()=>{if(void 0!==r){const e=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==i.imageLoadingStatus?mt.jsx(pT.span,{...a,ref:t}):null});function _T(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}ET.displayName=CT;var TT=NT,PT=ST,AT=ET;function RT({className:e,...t}){return mt.jsx(TT,{"data-slot":"avatar",className:$l("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function MT({className:e,...t}){return mt.jsx(PT,{"data-slot":"avatar-image",className:$l("aspect-square size-full",e),...t})}function DT({className:e,...t}){return mt.jsx(AT,{"data-slot":"avatar-fallback",className:$l("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const LT=({user:e})=>{var t;const[n,r]=s.useState(null),[a,i]=s.useState(!0),[o,l]=s.useState(!1),[c,d]=s.useState({current_password:"",new_password:"",confirm_password:""});s.useEffect(()=>{u()},[]);const u=async()=>{try{const e=await fetch("/api/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){const t=await e.json();r(t)}}catch(e){}finally{i(!1)}};return a?mt.jsx("div",{className:"flex items-center justify-center h-screen",children:mt.jsx("div",{className:"text-white",children:"Loading profile..."})}):n?mt.jsxs("div",{className:"p-6 space-y-6",children:[mt.jsxs("div",{className:"mb-8",children:[mt.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Profile Settings"}),mt.jsx("p",{className:"text-slate-400",children:"Manage your account settings and preferences"})]}),mt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[mt.jsxs(cc,{className:"lg:col-span-2",children:[mt.jsxs(dc,{children:[mt.jsx(uc,{children:"Profile Information"}),mt.jsx(hc,{children:"Your personal information and account details"})]}),mt.jsxs(mc,{className:"space-y-6",children:[mt.jsxs("div",{className:"flex items-center gap-4",children:[mt.jsxs(RT,{className:"h-20 w-20",children:[mt.jsx(MT,{src:n.avatar}),mt.jsx(DT,{className:"bg-blue-600 text-white text-2xl",children:(null==(t=n.username)?void 0:t.charAt(0).toUpperCase())||"U"})]}),mt.jsxs("div",{children:[mt.jsx("h3",{className:"text-xl font-semibold text-white",children:n.username}),mt.jsx("p",{className:"text-slate-400",children:n.email}),mt.jsx(Ud,{variant:"outline",className:"mt-2",children:"main_admin"===n.role?"Main Admin":"admin"===n.role?"Admin":"Member"})]})]}),mt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsxs(uu,{className:"text-white flex items-center gap-2",children:[mt.jsx(Q,{className:"h-4 w-4"}),"Username"]}),mt.jsx(ou,{value:n.username,disabled:!0,className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsxs(uu,{className:"text-white flex items-center gap-2",children:[mt.jsx(ce,{className:"h-4 w-4"}),"Email"]}),mt.jsx(ou,{value:n.email,disabled:!0,className:"bg-slate-700 border-slate-600 text-white"})]})]}),mt.jsx("div",{className:"pt-4",children:mt.jsxs(oc,{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700",children:[mt.jsx(be,{className:"h-4 w-4 mr-2"}),"Change Password"]})})]})]}),mt.jsxs(cc,{children:[mt.jsxs(dc,{children:[mt.jsx(uc,{children:"Subscription"}),mt.jsx(hc,{children:"Your current plan and billing"})]}),mt.jsxs(mc,{className:"space-y-4",children:[mt.jsxs("div",{className:"text-center py-4",children:[mt.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 mb-3",children:mt.jsx(ke,{className:"h-8 w-8 text-white"})}),mt.jsx("h3",{className:"text-2xl font-bold text-white capitalize",children:n.subscription_plan||"Free"}),mt.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Current Plan"})]}),n.subscription_end_date&&mt.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[mt.jsxs("div",{className:"flex items-center justify-between text-sm",children:[mt.jsx("span",{className:"text-slate-400",children:"Days Remaining"}),mt.jsxs(Ud,{variant:n.subscription_days_remaining<7?"destructive":"default",children:[n.subscription_days_remaining," days"]})]}),mt.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-2",children:[mt.jsx(ot,{className:"h-3 w-3"}),mt.jsxs("span",{children:["Expires: ",new Date(n.subscription_end_date).toLocaleDateString()]})]})]}),mt.jsx("div",{className:"border-t border-slate-700 pt-4",children:mt.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[mt.jsx(Y,{className:"h-3 w-3"}),mt.jsxs("span",{children:["Status: ",n.subscription_status||"Active"]})]})})]})]})]}),mt.jsx(nh,{open:o,onOpenChange:l,children:mt.jsxs(oh,{className:"bg-slate-800 border-slate-700",children:[mt.jsxs(lh,{children:[mt.jsx(dh,{className:"text-white",children:"Change Password"}),mt.jsx(uh,{className:"text-slate-400",children:"Enter your current password and choose a new one"})]}),mt.jsxs("div",{className:"space-y-4 py-4",children:[mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"current_password",className:"text-white",children:"Current Password"}),mt.jsx(ou,{id:"current_password",type:"password",value:c.current_password,onChange:e=>d({...c,current_password:e.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"new_password",className:"text-white",children:"New Password"}),mt.jsx(ou,{id:"new_password",type:"password",value:c.new_password,onChange:e=>d({...c,new_password:e.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]}),mt.jsxs("div",{className:"space-y-2",children:[mt.jsx(uu,{htmlFor:"confirm_password",className:"text-white",children:"Confirm New Password"}),mt.jsx(ou,{id:"confirm_password",type:"password",value:c.confirm_password,onChange:e=>d({...c,confirm_password:e.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]})]}),mt.jsxs(ch,{children:[mt.jsx(oc,{variant:"outline",onClick:()=>l(!1),className:"border-slate-600",children:"Cancel"}),mt.jsx(oc,{onClick:async()=>{if(c.new_password===c.confirm_password)try{const e=await fetch("/api/profile/password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({current_password:c.current_password,new_password:c.new_password})});if(e.ok)alert("Password changed successfully"),l(!1),d({current_password:"",new_password:"",confirm_password:""});else{const t=await e.json();alert(t.error||"Failed to change password")}}catch(e){alert("Error changing password")}else alert("New passwords do not match")},className:"bg-blue-600 hover:bg-blue-700",children:"Change Password"})]})]})})]}):mt.jsx("div",{className:"flex items-center justify-center h-screen",children:mt.jsx("div",{className:"text-white",children:"Failed to load profile"})})},IT=()=>{const[e,t]=s.useState(null),[n,r]=s.useState(!0);s.useEffect(()=>{const e=localStorage.getItem("token");e?fetch("/api/auth/me",{headers:{Authorization:`Bearer ${e}`}}).then(e=>e.json()).then(e=>{e.user?t(e.user):localStorage.removeItem("token")}).catch(()=>{localStorage.removeItem("token")}).finally(()=>{r(!1)}):r(!1)},[]);return{user:e,loading:n,login:async(e,s)=>{try{const n=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),r=await n.json();if(n.ok){const e=r.token||r.access_token;return localStorage.setItem("token",e),t(r.user),em.success("Login successful!"),!0}return em.error(r.error||"Login failed"),!1}catch(n){return em.error("Network error. Please try again."),!1}},logout:()=>{localStorage.removeItem("token"),t(null),em.info("Logged out")}}},OT=({children:e,allowedRoles:t})=>{const{user:s,loading:n}=IT();return n?mt.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:mt.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):s?t&&!t.includes(s.role)?(em.error("Access Denied: You do not have permission to view this page."),mt.jsx(p,{to:"/dashboard",replace:!0})):e:mt.jsx(p,{to:"/login",replace:!0})},FT=()=>{const{user:e,loading:t,login:s,logout:n}=IT();return t?mt.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:mt.jsx("div",{className:"text-white text-xl",children:"Loading Application..."})}):mt.jsx("div",{className:"theme-dark",children:mt.jsx(u,{children:mt.jsxs(h,{children:[mt.jsx(m,{path:"/",element:mt.jsx(cj,{})}),mt.jsx(m,{path:"/features",element:mt.jsx(dj,{})}),mt.jsx(m,{path:"/pricing",element:mt.jsx(uj,{})}),mt.jsx(m,{path:"/contact",element:mt.jsx(hj,{})}),mt.jsx(m,{path:"/about",element:mt.jsx(mj,{})}),mt.jsx(m,{path:"/privacy",element:mt.jsx(pj,{})}),mt.jsx(m,{path:"/terms",element:mt.jsx(xj,{})}),mt.jsx(m,{path:"/login",element:e?mt.jsx(p,{to:"/dashboard",replace:!0}):mt.jsx(mm,{onLogin:s})}),mt.jsx(m,{path:"/register",element:e?mt.jsx(p,{to:"/dashboard",replace:!0}):mt.jsx(pm,{})}),mt.jsx(m,{path:"/dashboard",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(Vd,{})})})}),mt.jsx(m,{path:"/links",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(fj,{})})})}),mt.jsx(m,{path:"/analytics",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(iu,{})})})}),mt.jsx(m,{path:"/campaigns",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(hh,{})})})}),mt.jsx(m,{path:"/geography",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(oT,{})})})}),mt.jsx(m,{path:"/security",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(lT,{})})})}),mt.jsx(m,{path:"/shortener",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(cT,{})})})}),mt.jsx(m,{path:"/live-activity",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(dT,{})})})}),mt.jsx(m,{path:"/profile",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(LT,{user:e})})})}),mt.jsx(m,{path:"/settings",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(rm,{})})})}),mt.jsx(m,{path:"/notifications",element:mt.jsx(OT,{children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(gj,{})})})}),mt.jsx(m,{path:"/admin",element:mt.jsx(OT,{allowedRoles:["main_admin","admin"],children:mt.jsx(lc,{user:e,logout:n,children:mt.jsx(um,{})})})}),mt.jsx(m,{path:"*",element:mt.jsx(p,{to:"/",replace:!0})})]})})})};xt.createRoot(document.getElementById("root")).render(mt.jsx(s.StrictMode,{children:mt.jsx(FT,{})}));
